var jd=Object.defineProperty;var Vd=(e,t,r)=>t in e?jd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ss=(e,t,r)=>Vd(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ve;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Ve||(Ve={}));function zd(e){return e.nodeType===e.ELEMENT_NODE}function xn(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Cn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Gd(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Kd(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function Mi(e){try{const t=e.rules||e.cssRules;return t?Gd(Array.from(t,ic).join("")):null}catch{return null}}function ic(e){let t;if(Jd(e))try{t=Mi(e.styleSheet)||Kd(e)}catch{}else if(Qd(e)&&e.selectorText.includes(":"))return Yd(e.cssText);return t||e.cssText}function Yd(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Jd(e){return"styleSheet"in e}function Qd(e){return"selectorText"in e}class sc{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var r;if(!t)return-1;const n=(r=this.getMeta(t))===null||r===void 0?void 0:r.id;return n??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){const n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)}replace(t,r){const n=this.getNode(t);if(n){const i=this.nodeMetaMap.get(n);i&&this.nodeMetaMap.set(r,i)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Xd(){return new sc}function Do({element:e,maskInputOptions:t,tagName:r,type:n,value:i,maskInputFn:s}){let o=i||"";const a=n&&Pr(n);return(t[r.toLowerCase()]||a&&t[a])&&(s?o=s(o,e):o="*".repeat(o.length)),o}function Pr(e){return e.toLowerCase()}const wa="__rrweb_original__";function Zd(e){const t=e.getContext("2d");if(!t)return!0;const r=50;for(let n=0;n<e.width;n+=r)for(let i=0;i<e.height;i+=r){const s=t.getImageData,o=wa in s?s[wa]:s;if(new Uint32Array(o.call(t,n,i,Math.min(r,e.width-n),Math.min(r,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function Po(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Pr(t):null}function oc(e,t){var r;let n;try{n=new URL(e,t??window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(i);return(r=s==null?void 0:s[1])!==null&&r!==void 0?r:null}let ef=1;const tf=new RegExp("[^a-z0-9-_:]"),$n=-2;function ac(){return ef++}function rf(e){if(e instanceof HTMLFormElement)return"form";const t=Pr(e.tagName);return tf.test(t)?"div":t}function nf(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Br,ka;const sf=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,of=/^(?:[a-z+]+:)?\/\//i,af=/^www\..*/i,lf=/^(data:)([^,]*),(.*)/i;function Ei(e,t){return(e||"").replace(sf,(r,n,i,s,o,a)=>{const l=i||o||a,u=n||s||"";if(!l)return r;if(of.test(l)||af.test(l))return`url(${u}${l}${u})`;if(lf.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${nf(t)+l}${u})`;const c=t.split("/"),d=l.split("/");c.pop();for(const f of d)f!=="."&&(f===".."?c.pop():c.push(f));return`url(${u}${c.join("/")}${u})`})}const cf=/^[^ \t\n\r\u000c]+/,uf=/^[, \t\n\r\u000c]+/;function df(e,t){if(t.trim()==="")return t;let r=0;function n(s){let o;const a=s.exec(t.substring(r));return a?(o=a[0],r+=o.length,o):""}const i=[];for(;n(uf),!(r>=t.length);){let s=n(cf);if(s.slice(-1)===",")s=Vr(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=Vr(e,s);let a=!1;for(;;){const l=t.charAt(r);if(l===""){i.push((s+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){r+=1,i.push((s+o).trim());break}else l==="("&&(a=!0);o+=l,r+=1}}}return i.join(", ")}function Vr(e,t){if(!t||t.trim()==="")return t;const r=e.createElement("a");return r.href=t,r.href}function ff(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Lo(){const e=document.createElement("a");return e.href="",e.href}function lc(e,t,r,n){return n&&(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?Vr(e,n):r==="srcset"?df(e,n):r==="style"?Ei(n,Lo()):t==="object"&&r==="data"?Vr(e,n):n)}function cc(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function hf(e,t,r){try{if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const i=e.classList[n];if(t.test(i))return!0}if(r)return e.matches(r)}catch{}return!1}function Ii(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return r?Ii(e.parentNode,t,r):!1;for(let n=e.classList.length;n--;){const i=e.classList[n];if(t.test(i))return!0}return r?Ii(e.parentNode,t,r):!1}function uc(e,t,r,n){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(typeof t=="string"){if(n){if(i.closest(`.${t}`))return!0}else if(i.classList.contains(t))return!0}else if(Ii(i,t,n))return!0;if(r){if(n){if(i.closest(r))return!0}else if(i.matches(r))return!0}}catch{}return!1}function pf(e,t,r){const n=e.contentWindow;if(!n)return;let i=!1,s;try{s=n.document.readyState}catch{return}if(s!=="complete"){const a=setTimeout(()=>{i||(t(),i=!0)},r);e.addEventListener("load",()=>{clearTimeout(a),i=!0,t()});return}const o="about:blank";if(n.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function gf(e,t,r){let n=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=setTimeout(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{clearTimeout(s),n=!0,t()})}function mf(e,t){const{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:o,inlineStylesheet:a,maskInputOptions:l={},maskTextFn:u,maskInputFn:c,dataURLOptions:d={},inlineImages:f,recordCanvas:h,keepIframeSrcFn:g,newlyAddedElement:m=!1}=t,_=yf(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ve.Document,childNodes:[],compatMode:e.compatMode}:{type:Ve.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ve.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:_};case e.ELEMENT_NODE:return vf(e,{doc:r,blockClass:i,blockSelector:s,inlineStylesheet:a,maskInputOptions:l,maskInputFn:c,dataURLOptions:d,inlineImages:f,recordCanvas:h,keepIframeSrcFn:g,newlyAddedElement:m,rootId:_});case e.TEXT_NODE:return _f(e,{needsMask:o,maskTextFn:u,rootId:_});case e.CDATA_SECTION_NODE:return{type:Ve.CDATA,textContent:"",rootId:_};case e.COMMENT_NODE:return{type:Ve.Comment,textContent:e.textContent||"",rootId:_};default:return!1}}function yf(e,t){if(!t.hasNode(e))return;const r=t.getId(e);return r===1?void 0:r}function _f(e,t){var r;const{needsMask:n,maskTextFn:i,rootId:s}=t,o=e.parentNode&&e.parentNode.tagName;let a=e.textContent;const l=o==="STYLE"?!0:void 0,u=o==="SCRIPT"?!0:void 0;if(l&&a){try{e.nextSibling||e.previousSibling||!((r=e.parentNode.sheet)===null||r===void 0)&&r.cssRules&&(a=Mi(e.parentNode.sheet))}catch(c){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${c}`,e)}a=Ei(a,Lo())}return u&&(a="SCRIPT_PLACEHOLDER"),!l&&!u&&a&&n&&(a=i?i(a,e.parentElement):a.replace(/[\S]/g,"*")),{type:Ve.Text,textContent:a||"",isStyle:l,rootId:s}}function vf(e,t){const{doc:r,blockClass:n,blockSelector:i,inlineStylesheet:s,maskInputOptions:o={},maskInputFn:a,dataURLOptions:l={},inlineImages:u,recordCanvas:c,keepIframeSrcFn:d,newlyAddedElement:f=!1,rootId:h}=t,g=hf(e,n,i),m=rf(e);let _={};const S=e.attributes.length;for(let b=0;b<S;b++){const x=e.attributes[b];cc(m,x.name,x.value)||(_[x.name]=lc(r,m,Pr(x.name),x.value))}if(m==="link"&&s){const b=Array.from(r.styleSheets).find(A=>A.href===e.href);let x=null;b&&(x=Mi(b)),x&&(delete _.rel,delete _.href,_._cssText=Ei(x,b.href))}if(m==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const b=Mi(e.sheet);b&&(_._cssText=Ei(b,Lo()))}if(m==="input"||m==="textarea"||m==="select"){const b=e.value,x=e.checked;_.type!=="radio"&&_.type!=="checkbox"&&_.type!=="submit"&&_.type!=="button"&&b?_.value=Do({element:e,type:Po(e),tagName:m,value:b,maskInputOptions:o,maskInputFn:a}):x&&(_.checked=x)}if(m==="option"&&(e.selected&&!o.select?_.selected=!0:delete _.selected),m==="canvas"&&c){if(e.__context==="2d")Zd(e)||(_.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const b=e.toDataURL(l.type,l.quality),x=document.createElement("canvas");x.width=e.width,x.height=e.height;const A=x.toDataURL(l.type,l.quality);b!==A&&(_.rr_dataURL=b)}}if(m==="img"&&u){Br||(Br=r.createElement("canvas"),ka=Br.getContext("2d"));const b=e,x=b.crossOrigin;b.crossOrigin="anonymous";const A=()=>{b.removeEventListener("load",A);try{Br.width=b.naturalWidth,Br.height=b.naturalHeight,ka.drawImage(b,0,0),_.rr_dataURL=Br.toDataURL(l.type,l.quality)}catch(W){console.warn(`Cannot inline img src=${b.currentSrc}! Error: ${W}`)}x?_.crossOrigin=x:b.removeAttribute("crossorigin")};b.complete&&b.naturalWidth!==0?A():b.addEventListener("load",A)}if(m==="audio"||m==="video"){const b=_;b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime,b.rr_mediaPlaybackRate=e.playbackRate,b.rr_mediaMuted=e.muted,b.rr_mediaLoop=e.loop,b.rr_mediaVolume=e.volume}if(f||(e.scrollLeft&&(_.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(_.rr_scrollTop=e.scrollTop)),g){const{width:b,height:x}=e.getBoundingClientRect();_={class:_.class,rr_width:`${b}px`,rr_height:`${x}px`}}m==="iframe"&&!d(_.src)&&(e.contentDocument||(_.rr_src=_.src),delete _.src);let k;try{customElements.get(m)&&(k=!0)}catch{}return{type:Ve.Element,tagName:m,attributes:_,childNodes:[],isSVG:ff(e)||void 0,needBlock:g,rootId:h,isCustom:k}}function Ae(e){return e==null?"":e.toLowerCase()}function bf(e,t){if(t.comment&&e.type===Ve.Comment)return!0;if(e.type===Ve.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&oc(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Ae(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Ae(e.attributes.name)==="application-name"||Ae(e.attributes.rel)==="icon"||Ae(e.attributes.rel)==="apple-touch-icon"||Ae(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Ae(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Ae(e.attributes.property).match(/^(og|twitter|fb):/)||Ae(e.attributes.name).match(/^(og|twitter):/)||Ae(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Ae(e.attributes.name)==="robots"||Ae(e.attributes.name)==="googlebot"||Ae(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Ae(e.attributes.name)==="author"||Ae(e.attributes.name)==="generator"||Ae(e.attributes.name)==="framework"||Ae(e.attributes.name)==="publisher"||Ae(e.attributes.name)==="progid"||Ae(e.attributes.property).match(/^article:/)||Ae(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Ae(e.attributes.name)==="google-site-verification"||Ae(e.attributes.name)==="yandex-verification"||Ae(e.attributes.name)==="csrf-token"||Ae(e.attributes.name)==="p:domain_verify"||Ae(e.attributes.name)==="verify-v1"||Ae(e.attributes.name)==="verification"||Ae(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function zr(e,t){const{doc:r,mirror:n,blockClass:i,blockSelector:s,maskTextClass:o,maskTextSelector:a,skipChild:l=!1,inlineStylesheet:u=!0,maskInputOptions:c={},maskTextFn:d,maskInputFn:f,slimDOMOptions:h,dataURLOptions:g={},inlineImages:m=!1,recordCanvas:_=!1,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:b=5e3,onStylesheetLoad:x,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:W=()=>!1,newlyAddedElement:j=!1}=t;let{needsMask:z}=t,{preserveWhiteSpace:ne=!0}=t;!z&&e.childNodes&&(z=uc(e,o,a,z===void 0));const ce=mf(e,{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:z,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,dataURLOptions:g,inlineImages:m,recordCanvas:_,keepIframeSrcFn:W,newlyAddedElement:j});if(!ce)return console.warn(e,"not serialized"),null;let ye;n.hasNode(e)?ye=n.getId(e):bf(ce,h)||!ne&&ce.type===Ve.Text&&!ce.isStyle&&!ce.textContent.replace(/^\s+|\s+$/gm,"").length?ye=$n:ye=ac();const Q=Object.assign(ce,{id:ye});if(n.add(e,Q),ye===$n)return null;S&&S(e);let fe=!l;if(Q.type===Ve.Element){fe=fe&&!Q.needBlock,delete Q.needBlock;const Z=e.shadowRoot;Z&&Cn(Z)&&(Q.isShadowHost=!0)}if((Q.type===Ve.Document||Q.type===Ve.Element)&&fe){h.headWhitespace&&Q.type===Ve.Element&&Q.tagName==="head"&&(ne=!1);const Z={doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:z,maskTextClass:o,maskTextSelector:a,skipChild:l,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:h,dataURLOptions:g,inlineImages:m,recordCanvas:_,preserveWhiteSpace:ne,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:b,onStylesheetLoad:x,stylesheetLoadTimeout:A,keepIframeSrcFn:W};if(!(Q.type===Ve.Element&&Q.tagName==="textarea"&&Q.attributes.value!==void 0))for(const Se of Array.from(e.childNodes)){const oe=zr(Se,Z);oe&&Q.childNodes.push(oe)}if(zd(e)&&e.shadowRoot)for(const Se of Array.from(e.shadowRoot.childNodes)){const oe=zr(Se,Z);oe&&(Cn(e.shadowRoot)&&(oe.isShadow=!0),Q.childNodes.push(oe))}}return e.parentNode&&xn(e.parentNode)&&Cn(e.parentNode)&&(Q.isShadow=!0),Q.type===Ve.Element&&Q.tagName==="iframe"&&pf(e,()=>{const Z=e.contentDocument;if(Z&&k){const Se=zr(Z,{doc:Z,mirror:n,blockClass:i,blockSelector:s,needsMask:z,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:h,dataURLOptions:g,inlineImages:m,recordCanvas:_,preserveWhiteSpace:ne,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:b,onStylesheetLoad:x,stylesheetLoadTimeout:A,keepIframeSrcFn:W});Se&&k(e,Se)}},b),Q.type===Ve.Element&&Q.tagName==="link"&&typeof Q.attributes.rel=="string"&&(Q.attributes.rel==="stylesheet"||Q.attributes.rel==="preload"&&typeof Q.attributes.href=="string"&&oc(Q.attributes.href)==="css")&&gf(e,()=>{if(x){const Z=zr(e,{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:z,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:h,dataURLOptions:g,inlineImages:m,recordCanvas:_,preserveWhiteSpace:ne,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:b,onStylesheetLoad:x,stylesheetLoadTimeout:A,keepIframeSrcFn:W});Z&&x(e,Z)}},A),Q}function wf(e,t){const{mirror:r=new sc,blockClass:n="rr-block",blockSelector:i=null,maskTextClass:s="rr-mask",maskTextSelector:o=null,inlineStylesheet:a=!0,inlineImages:l=!1,recordCanvas:u=!1,maskAllInputs:c=!1,maskTextFn:d,maskInputFn:f,slimDOM:h=!1,dataURLOptions:g,preserveWhiteSpace:m,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:b,stylesheetLoadTimeout:x,keepIframeSrcFn:A=()=>!1}=t||{};return zr(e,{doc:e,mirror:r,blockClass:n,blockSelector:i,maskTextClass:s,maskTextSelector:o,skipChild:!1,inlineStylesheet:a,maskInputOptions:c===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:c===!1?{password:!0}:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:h===!0||h==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:h==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:h===!1?{}:h,dataURLOptions:g,inlineImages:l,recordCanvas:u,preserveWhiteSpace:m,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:b,stylesheetLoadTimeout:x,keepIframeSrcFn:A,newlyAddedElement:!1})}function lt(e,t,r=document){const n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}const Wr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Sa={map:{},getId(){return console.error(Wr),-1},getNode(){return console.error(Wr),null},removeNodeFromMap(){console.error(Wr)},has(){return console.error(Wr),!1},reset(){console.error(Wr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Sa=new Proxy(Sa,{get(e,t,r){return t==="map"&&console.error(Wr),Reflect.get(e,t,r)}}));function Fn(e,t,r={}){let n=null,i=0;return function(...s){const o=Date.now();!i&&r.leading===!1&&(i=o);const a=t-(o-i),l=this;a<=0||a>t?(n&&(clearTimeout(n),n=null),i=o,e.apply(l,s)):!n&&r.trailing!==!1&&(n=setTimeout(()=>{i=r.leading===!1?0:Date.now(),n=null,e.apply(l,s)},a))}}function rs(e,t,r,n,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,n?r:{set(o){setTimeout(()=>{r.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>rs(e,t,s||{},!0)}function hn(e,t,r){try{if(!(t in e))return()=>{};const n=e[t],i=r(n);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=i,()=>{e[t]=n}}catch{return()=>{}}}let Ti=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ti=()=>new Date().getTime());function dc(e){var t,r,n,i,s,o;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(a==null?void 0:a.documentElement.scrollLeft)||((r=(t=a==null?void 0:a.body)===null||t===void 0?void 0:t.parentElement)===null||r===void 0?void 0:r.scrollLeft)||((n=a==null?void 0:a.body)===null||n===void 0?void 0:n.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||((s=(i=a==null?void 0:a.body)===null||i===void 0?void 0:i.parentElement)===null||s===void 0?void 0:s.scrollTop)||((o=a==null?void 0:a.body)===null||o===void 0?void 0:o.scrollTop)||0}}function fc(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function hc(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function pc(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function ct(e,t,r,n){if(!e)return!1;const i=pc(e);if(!i)return!1;try{if(typeof t=="string"){if(i.classList.contains(t)||n&&i.closest("."+t)!==null)return!0}else if(Ii(i,t,n))return!0}catch{}return!!(r&&(i.matches(r)||n&&i.closest(r)!==null))}function kf(e,t){return t.getId(e)!==-1}function xs(e,t){return t.getId(e)===$n}function gc(e,t){if(xn(e))return!1;const r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?gc(e.parentNode,t):!0:!0}function eo(e){return!!e.changedTouches}function Sf(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function mc(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function yc(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function to(e){return!!(e!=null&&e.shadowRoot)}class xf{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var r;return(r=this.styleIDMap.get(t))!==null&&r!==void 0?r:-1}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function _c(e){var t,r;let n=null;return((r=(t=e.getRootNode)===null||t===void 0?void 0:t.call(e))===null||r===void 0?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(n=e.getRootNode().host),n}function Cf(e){let t=e,r;for(;r=_c(t);)t=r;return t}function Mf(e){const t=e.ownerDocument;if(!t)return!1;const r=Cf(e);return t.contains(r)}function vc(e){const t=e.ownerDocument;return t?t.contains(e)||Mf(e):!1}var ge=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(ge||{}),de=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(de||{}),pt=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(pt||{}),Yt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Yt||{}),an=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(an||{});function xa(e){return"__ln"in e}class Ef{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=(r==null?void 0:r.next)||null;return r}addNode(t){const r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&xa(t.previousSibling)){const n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&xa(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){const r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Ca=(e,t)=>`${e}@${t}`;class If{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],r=new Set,n=new Ef,i=l=>{let u=l,c=$n;for(;c===$n;)u=u&&u.nextSibling,c=u&&this.mirror.getId(u);return c},s=l=>{if(!l.parentNode||!vc(l)||l.parentNode.tagName==="TEXTAREA")return;const u=xn(l.parentNode)?this.mirror.getId(_c(l)):this.mirror.getId(l.parentNode),c=i(l);if(u===-1||c===-1)return n.addNode(l);const d=zr(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{mc(f,this.mirror)&&this.iframeManager.addIframe(f),yc(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),to(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(f,h)=>{this.iframeManager.attachIframe(f,h),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,h)=>{this.stylesheetManager.attachLinkElement(f,h)}});d&&(t.push({parentId:u,nextId:c,node:d}),r.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)Ma(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!Ea(this.droppedSet,l)&&!Ma(this.removes,l,this.mirror)||Ea(this.movedSet,l)?s(l):this.droppedSet.add(l);let o=null;for(;n.length;){let l=null;if(o){const u=this.mirror.getId(o.value.parentNode),c=i(o.value);u!==-1&&c!==-1&&(l=o)}if(!l){let u=n.tail;for(;u;){const c=u;if(u=u.previous,c){const d=this.mirror.getId(c.value.parentNode);if(i(c.value)===-1)continue;if(d!==-1){l=c;break}else{const h=c.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=h.parentNode.host;if(this.mirror.getId(g)!==-1){l=c;break}}}}}}if(!l){for(;n.head;)n.removeNode(n.head.value);break}o=l.previous,n.removeNode(l.value),s(l.value)}const a={texts:this.texts.map(l=>{const u=l.node;return u.parentNode&&u.parentNode.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(u.parentNode),{id:this.mirror.getId(u),value:l.value}}).filter(l=>!r.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:u}=l;if(typeof u.style=="string"){const c=JSON.stringify(l.styleDiff),d=JSON.stringify(l._unchangedStyles);c.length<u.style.length&&(c+d).split("var(").length===u.style.split("var(").length&&(u.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:u}}).filter(l=>!r.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.genTextAreaValueMutation=t=>{let r=this.attributeMap.get(t);r||(r={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(r),this.attributeMap.set(t,r)),r.attributes.value=Array.from(t.childNodes,n=>n.textContent||"").join("")},this.processMutation=t=>{if(!xs(t.target,this.mirror))switch(t.type){case"characterData":{const r=t.target.textContent;!ct(t.target,this.blockClass,this.blockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:uc(t.target,this.maskTextClass,this.maskTextSelector,!0)&&r?this.maskTextFn?this.maskTextFn(r,pc(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{const r=t.target;let n=t.attributeName,i=t.target.getAttribute(n);if(n==="value"){const o=Po(r);i=Do({element:r,maskInputOptions:this.maskInputOptions,tagName:r.tagName,type:o,value:i,maskInputFn:this.maskInputFn})}if(ct(t.target,this.blockClass,this.blockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(r.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(i))if(!r.contentDocument)n="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),n==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!cc(r.tagName,n)&&(s.attributes[n]=lc(this.doc,Pr(r.tagName),Pr(n),i),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(r.style)){const l=r.style.getPropertyValue(a),u=r.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=l:s.styleDiff[a]=[l,u]:s._unchangedStyles[a]=[l,u]}for(const a of Array.from(o.style))r.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(ct(t.target,this.blockClass,this.blockSelector,!0))return;if(t.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(t.target);return}t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{const n=this.mirror.getId(r),i=xn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ct(t.target,this.blockClass,this.blockSelector,!1)||xs(r,this.mirror)||!kf(r,this.mirror)||(this.addedSet.has(r)?(ro(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||gc(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[Ca(n,i)]?ro(this.movedSet,r):this.removes.push({parentId:i,id:n,isShadow:xn(t.target)&&Cn(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(xs(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[Ca(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ct(t,this.blockClass,this.blockSelector,!1)||(t.childNodes.forEach(n=>this.genAdds(n)),to(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ro(e,t){e.delete(t),t.childNodes.forEach(r=>ro(e,r))}function Ma(e,t,r){return e.length===0?!1:bc(e,t,r)}function bc(e,t,r){const{parentNode:n}=t;if(!n)return!1;const i=r.getId(n);return e.some(s=>s.id===i)?!0:bc(e,n,r)}function Ea(e,t){return e.size===0?!1:wc(e,t)}function wc(e,t){const{parentNode:r}=t;return r?e.has(r)?!0:wc(e,r):!1}let Mn;function Tf(e){Mn=e}function Af(){Mn=void 0}const pe=e=>Mn?(...r)=>{try{return e(...r)}catch(n){if(Mn&&Mn(n)===!0)return;throw n}}:e,Rr=[];function Yn(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function kc(e,t){var r,n;const i=new If;Rr.push(i),i.init(e);let s=window.MutationObserver||window.__rrMutationObserver;const o=(n=(r=window==null?void 0:window.Zone)===null||r===void 0?void 0:r.__symbol__)===null||n===void 0?void 0:n.call(r,"MutationObserver");o&&window[o]&&(s=window[o]);const a=new s(pe(i.processMutations.bind(i)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Of({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=Fn(pe(d=>{const f=Date.now()-a;e(o.map(h=>(h.timeOffset-=f,h)),d),o=[],a=null}),s),u=pe(Fn(pe(d=>{const f=Yn(d),{clientX:h,clientY:g}=eo(d)?d.changedTouches[0]:d;a||(a=Ti()),o.push({x:h,y:g,id:n.getId(f),timeOffset:Ti()-a}),l(typeof DragEvent<"u"&&d instanceof DragEvent?de.Drag:d instanceof MouseEvent?de.MouseMove:de.TouchMove)}),i,{trailing:!1})),c=[lt("mousemove",u,r),lt("touchmove",u,r),lt("drag",u,r)];return pe(()=>{c.forEach(d=>d())})}function Rf({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};const o=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,a=[];let l=null;const u=c=>d=>{const f=Yn(d);if(ct(f,n,i,!0))return;let h=null,g=c;if("pointerType"in d){switch(d.pointerType){case"mouse":h=Yt.Mouse;break;case"touch":h=Yt.Touch;break;case"pen":h=Yt.Pen;break}h===Yt.Touch?pt[c]===pt.MouseDown?g="TouchStart":pt[c]===pt.MouseUp&&(g="TouchEnd"):Yt.Pen}else eo(d)&&(h=Yt.Touch);h!==null?(l=h,(g.startsWith("Touch")&&h===Yt.Touch||g.startsWith("Mouse")&&h===Yt.Mouse)&&(h=null)):pt[c]===pt.Click&&(h=l,l=null);const m=eo(d)?d.changedTouches[0]:d;if(!m)return;const _=r.getId(f),{clientX:S,clientY:k}=m;pe(e)(Object.assign({type:pt[g],id:_,x:S,y:k},h!==null&&{pointerType:h}))};return Object.keys(pt).filter(c=>Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&o[c]!==!1).forEach(c=>{let d=Pr(c);const f=u(c);if(window.PointerEvent)switch(pt[c]){case pt.MouseDown:case pt.MouseUp:d=d.replace("mouse","pointer");break;case pt.TouchStart:case pt.TouchEnd:return}a.push(lt(d,f,t))}),pe(()=>{a.forEach(c=>c())})}function Sc({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,sampling:s}){const o=pe(Fn(pe(a=>{const l=Yn(a);if(!l||ct(l,n,i,!0))return;const u=r.getId(l);if(l===t&&t.defaultView){const c=dc(t.defaultView);e({id:u,x:c.left,y:c.top})}else e({id:u,x:l.scrollLeft,y:l.scrollTop})}),s.scroll||100));return lt("scroll",o,t)}function Df({viewportResizeCb:e},{win:t}){let r=-1,n=-1;const i=pe(Fn(pe(()=>{const s=fc(),o=hc();(r!==s||n!==o)&&(e({width:Number(o),height:Number(s)}),r=s,n=o)}),200));return lt("resize",i,t)}const Pf=["INPUT","TEXTAREA","SELECT"],Ia=new WeakMap;function Lf({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,ignoreClass:s,ignoreSelector:o,maskInputOptions:a,maskInputFn:l,sampling:u,userTriggeredOnInput:c}){function d(k){let b=Yn(k);const x=k.isTrusted,A=b&&b.tagName;if(b&&A==="OPTION"&&(b=b.parentElement),!b||!A||Pf.indexOf(A)<0||ct(b,n,i,!0)||b.classList.contains(s)||o&&b.matches(o))return;let W=b.value,j=!1;const z=Po(b)||"";z==="radio"||z==="checkbox"?j=b.checked:(a[A.toLowerCase()]||a[z])&&(W=Do({element:b,maskInputOptions:a,tagName:A,type:z,value:W,maskInputFn:l})),f(b,c?{text:W,isChecked:j,userTriggered:x}:{text:W,isChecked:j});const ne=b.name;z==="radio"&&ne&&j&&t.querySelectorAll(`input[type="radio"][name="${ne}"]`).forEach(ce=>{if(ce!==b){const ye=ce.value;f(ce,c?{text:ye,isChecked:!j,userTriggered:!1}:{text:ye,isChecked:!j})}})}function f(k,b){const x=Ia.get(k);if(!x||x.text!==b.text||x.isChecked!==b.isChecked){Ia.set(k,b);const A=r.getId(k);pe(e)(Object.assign(Object.assign({},b),{id:A}))}}const g=(u.input==="last"?["change"]:["input","change"]).map(k=>lt(k,pe(d),t)),m=t.defaultView;if(!m)return()=>{g.forEach(k=>k())};const _=m.Object.getOwnPropertyDescriptor(m.HTMLInputElement.prototype,"value"),S=[[m.HTMLInputElement.prototype,"value"],[m.HTMLInputElement.prototype,"checked"],[m.HTMLSelectElement.prototype,"value"],[m.HTMLTextAreaElement.prototype,"value"],[m.HTMLSelectElement.prototype,"selectedIndex"],[m.HTMLOptionElement.prototype,"selected"]];return _&&_.set&&g.push(...S.map(k=>rs(k[0],k[1],{set(){pe(d)({target:this,isTrusted:!1})}},!1,m))),pe(()=>{g.forEach(k=>k())})}function Ai(e){const t=[];function r(n,i){if(oi("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||oi("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||oi("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||oi("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){const o=Array.from(n.parentRule.cssRules).indexOf(n);i.unshift(o)}else if(n.parentStyleSheet){const o=Array.from(n.parentStyleSheet.cssRules).indexOf(n);i.unshift(o)}return i}return r(e,t)}function lr(e,t,r){let n,i;return e?(e.ownerNode?n=t.getId(e.ownerNode):i=r.getId(e),{styleId:i,id:n}):{}}function Nf({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const i=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:pe((c,d,f)=>{const[h,g]=f,{id:m,styleId:_}=lr(d,t,r.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,adds:[{rule:h,index:g}]}),c.apply(d,f)})});const s=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:pe((c,d,f)=>{const[h]=f,{id:g,styleId:m}=lr(d,t,r.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,removes:[{index:h}]}),c.apply(d,f)})});let o;n.CSSStyleSheet.prototype.replace&&(o=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:pe((c,d,f)=>{const[h]=f,{id:g,styleId:m}=lr(d,t,r.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,replace:h}),c.apply(d,f)})}));let a;n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:pe((c,d,f)=>{const[h]=f,{id:g,styleId:m}=lr(d,t,r.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,replaceSync:h}),c.apply(d,f)})}));const l={};ai("CSSGroupingRule")?l.CSSGroupingRule=n.CSSGroupingRule:(ai("CSSMediaRule")&&(l.CSSMediaRule=n.CSSMediaRule),ai("CSSConditionRule")&&(l.CSSConditionRule=n.CSSConditionRule),ai("CSSSupportsRule")&&(l.CSSSupportsRule=n.CSSSupportsRule));const u={};return Object.entries(l).forEach(([c,d])=>{u[c]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[c].insertRule,{apply:pe((f,h,g)=>{const[m,_]=g,{id:S,styleId:k}=lr(h.parentStyleSheet,t,r.styleMirror);return(S&&S!==-1||k&&k!==-1)&&e({id:S,styleId:k,adds:[{rule:m,index:[...Ai(h),_||0]}]}),f.apply(h,g)})}),d.prototype.deleteRule=new Proxy(u[c].deleteRule,{apply:pe((f,h,g)=>{const[m]=g,{id:_,styleId:S}=lr(h.parentStyleSheet,t,r.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,removes:[{index:[...Ai(h),m]}]}),f.apply(h,g)})})}),pe(()=>{n.CSSStyleSheet.prototype.insertRule=i,n.CSSStyleSheet.prototype.deleteRule=s,o&&(n.CSSStyleSheet.prototype.replace=o),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([c,d])=>{d.prototype.insertRule=u[c].insertRule,d.prototype.deleteRule=u[c].deleteRule})})}function xc({mirror:e,stylesheetManager:t},r){var n,i,s;let o=null;r.nodeName==="#document"?o=e.getId(r):o=e.getId(r.host);const a=r.nodeName==="#document"?(n=r.defaultView)===null||n===void 0?void 0:n.Document:(s=(i=r.ownerDocument)===null||i===void 0?void 0:i.defaultView)===null||s===void 0?void 0:s.ShadowRoot,l=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return o===null||o===-1||!a||!l?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var u;return(u=l.get)===null||u===void 0?void 0:u.call(this)},set(u){var c;const d=(c=l.set)===null||c===void 0?void 0:c.call(this,u);if(o!==null&&o!==-1)try{t.adoptStyleSheets(u,o)}catch{}return d}}),pe(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function $f({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:pe((a,l,u)=>{var c;const[d,f,h]=u;if(r.has(d))return s.apply(l,[d,f,h]);const{id:g,styleId:m}=lr((c=l.parentRule)===null||c===void 0?void 0:c.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,set:{property:d,value:f,priority:h},index:Ai(l.parentRule)}),a.apply(l,u)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:pe((a,l,u)=>{var c;const[d]=u;if(r.has(d))return o.apply(l,[d]);const{id:f,styleId:h}=lr((c=l.parentRule)===null||c===void 0?void 0:c.parentStyleSheet,t,n.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,remove:{property:d},index:Ai(l.parentRule)}),a.apply(l,u)})}),pe(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function Ff({mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:n,sampling:i,doc:s}){const o=pe(l=>Fn(pe(u=>{const c=Yn(u);if(!c||ct(c,t,r,!0))return;const{currentTime:d,volume:f,muted:h,playbackRate:g,loop:m}=c;e({type:l,id:n.getId(c),currentTime:d,volume:f,muted:h,playbackRate:g,loop:m})}),i.media||500)),a=[lt("play",o(0),s),lt("pause",o(1),s),lt("seeked",o(2),s),lt("volumechange",o(3),s),lt("ratechange",o(4),s)];return pe(()=>{a.forEach(l=>l())})}function Bf({fontCb:e,doc:t}){const r=t.defaultView;if(!r)return()=>{};const n=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(l,u,c){const d=new s(l,u,c);return i.set(d,{family:l,buffer:typeof u!="string",descriptors:c,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=hn(t.fonts,"add",function(a){return function(l){return setTimeout(pe(()=>{const u=i.get(l);u&&(e(u),i.delete(l))}),0),a.apply(this,[l])}});return n.push(()=>{r.FontFace=s}),n.push(o),pe(()=>{n.forEach(a=>a())})}function Uf(e){const{doc:t,mirror:r,blockClass:n,blockSelector:i,selectionCb:s}=e;let o=!0;const a=pe(()=>{const l=t.getSelection();if(!l||o&&(l!=null&&l.isCollapsed))return;o=l.isCollapsed||!1;const u=[],c=l.rangeCount||0;for(let d=0;d<c;d++){const f=l.getRangeAt(d),{startContainer:h,startOffset:g,endContainer:m,endOffset:_}=f;ct(h,n,i,!0)||ct(m,n,i,!0)||u.push({start:r.getId(h),startOffset:g,end:r.getId(m),endOffset:_})}s({ranges:u})});return a(),lt("selectionchange",a)}function Hf({doc:e,customElementCb:t}){const r=e.defaultView;return!r||!r.customElements?()=>{}:hn(r.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{console.warn(`Custom element callback failed for ${s}`)}return i.apply(this,[s,o,a])}})}function Wf(e,t){const{mutationCb:r,mousemoveCb:n,mouseInteractionCb:i,scrollCb:s,viewportResizeCb:o,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:u,styleDeclarationCb:c,canvasMutationCb:d,fontCb:f,selectionCb:h,customElementCb:g}=e;e.mutationCb=(...m)=>{t.mutation&&t.mutation(...m),r(...m)},e.mousemoveCb=(...m)=>{t.mousemove&&t.mousemove(...m),n(...m)},e.mouseInteractionCb=(...m)=>{t.mouseInteraction&&t.mouseInteraction(...m),i(...m)},e.scrollCb=(...m)=>{t.scroll&&t.scroll(...m),s(...m)},e.viewportResizeCb=(...m)=>{t.viewportResize&&t.viewportResize(...m),o(...m)},e.inputCb=(...m)=>{t.input&&t.input(...m),a(...m)},e.mediaInteractionCb=(...m)=>{t.mediaInteaction&&t.mediaInteaction(...m),l(...m)},e.styleSheetRuleCb=(...m)=>{t.styleSheetRule&&t.styleSheetRule(...m),u(...m)},e.styleDeclarationCb=(...m)=>{t.styleDeclaration&&t.styleDeclaration(...m),c(...m)},e.canvasMutationCb=(...m)=>{t.canvasMutation&&t.canvasMutation(...m),d(...m)},e.fontCb=(...m)=>{t.font&&t.font(...m),f(...m)},e.selectionCb=(...m)=>{t.selection&&t.selection(...m),h(...m)},e.customElementCb=(...m)=>{t.customElement&&t.customElement(...m),g(...m)}}function qf(e,t={}){const r=e.doc.defaultView;if(!r)return()=>{};Wf(e,t);let n;e.recordDOM&&(n=kc(e,e.doc));const i=Of(e),s=Rf(e),o=Sc(e),a=Df(e,{win:r}),l=Lf(e),u=Ff(e);let c=()=>{},d=()=>{},f=()=>{},h=()=>{};e.recordDOM&&(c=Nf(e,{win:r}),d=xc(e,e.doc),f=$f(e,{win:r}),e.collectFonts&&(h=Bf(e)));const g=Uf(e),m=Hf(e),_=[];for(const S of e.plugins)_.push(S.observer(S.callback,r,S.options));return pe(()=>{Rr.forEach(S=>S.reset()),n==null||n.disconnect(),i(),s(),o(),a(),l(),u(),c(),d(),f(),h(),g(),m(),_.forEach(S=>S())})}function oi(e){return typeof window[e]<"u"}function ai(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ta{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,i){const s=n||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(r);return a||(a=this.generateIdFn(),s.set(r,a),o.set(a,r)),a}getIds(t,r){const n=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return r.map(s=>this.getId(t,s,n,i))}getRemoteId(t,r,n){const i=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;const s=i.get(r);return s||-1}getRemoteIds(t,r){const n=this.getRemoteIdToIdMap(t);return r.map(i=>this.getRemoteId(t,i,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}}class jf{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ta(ac),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ta(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(n=this.loadListener)===null||n===void 0||n.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,r.data.event);s&&this.wrappedEmit(s,r.data.isCheckout)}transformCrossOriginEvent(t,r){var n;switch(r.type){case ge.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);const i=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(r.data.node,i),{timestamp:r.timestamp,type:ge.IncrementalSnapshot,data:{source:de.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case ge.Meta:case ge.Load:case ge.DomContentLoaded:return!1;case ge.Plugin:return r;case ge.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case ge.IncrementalSnapshot:switch(r.data.source){case de.Mutation:return r.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(i.node,s)}),r.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),r.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),r.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),r;case de.Drag:case de.TouchMove:case de.MouseMove:return r.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),r;case de.ViewportResize:return!1;case de.MediaInteraction:case de.MouseInteraction:case de.Scroll:case de.CanvasMutation:case de.Input:return this.replaceIds(r.data,t,["id"]),r;case de.StyleSheetRule:case de.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case de.Font:return r;case de.Selection:return r.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),r;case de.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),(n=r.data.styles)===null||n===void 0||n.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),r}}return!1}replace(t,r,n,i){for(const s of i)!Array.isArray(r[s])&&typeof r[s]!="number"||(Array.isArray(r[s])?r[s]=t.getIds(n,r[s]):r[s]=t.getId(n,r[s]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(t,r){t.type!==Ve.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}}class Vf{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!Cn(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const n=kc(Object.assign(Object.assign({},this.bypassOptions),{doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Sc(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(xc({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,r){const n=this;this.restoreHandlers.push(hn(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&vc(this)&&n.addShadowRoot(this.shadowRoot,r),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Gf(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,[])).next())})}var Gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var li=0;li<Gr.length;li++)Kf[Gr.charCodeAt(li)]=li;var Yf=function(e){var t=new Uint8Array(e),r,n=t.length,i="";for(r=0;r<n;r+=3)i+=Gr[t[r]>>2],i+=Gr[(t[r]&3)<<4|t[r+1]>>4],i+=Gr[(t[r+1]&15)<<2|t[r+2]>>6],i+=Gr[t[r+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};const Aa=new Map;function Jf(e,t){let r=Aa.get(e);return r||(r=new Map,Aa.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}const Cc=(e,t,r)=>{if(!e||!(Ec(e,t)||typeof e=="object"))return;const n=e.constructor.name,i=Jf(r,n);let s=i.indexOf(e);return s===-1&&(s=i.length,i.push(e)),s};function yi(e,t,r){if(e instanceof Array)return e.map(n=>yi(n,t,r));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const n=e.constructor.name,i=Yf(e);return{rr_type:n,base64:i}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[yi(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const n=e.constructor.name,{src:i}=e;return{rr_type:n,src:i}}else if(e instanceof HTMLCanvasElement){const n="HTMLImageElement",i=e.toDataURL();return{rr_type:n,src:i}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[yi(e.data,t,r),e.width,e.height]};if(Ec(e,t)||typeof e=="object"){const n=e.constructor.name,i=Cc(e,t,r);return{rr_type:n,index:i}}}}return e}const Mc=(e,t,r)=>e.map(n=>yi(n,t,r)),Ec=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>typeof t[i]=="function").find(i=>e instanceof t[i]);function Qf(e,t,r,n){const i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const o of s)try{if(typeof t.CanvasRenderingContext2D.prototype[o]!="function")continue;const a=hn(t.CanvasRenderingContext2D.prototype,o,function(l){return function(...u){return ct(this.canvas,r,n,!0)||setTimeout(()=>{const c=Mc(u,t,this);e(this.canvas,{type:an["2D"],property:o,args:c})},0),l.apply(this,u)}});i.push(a)}catch{const l=rs(t.CanvasRenderingContext2D.prototype,o,{set(u){e(this.canvas,{type:an["2D"],property:o,args:[u],setter:!0})}});i.push(l)}return()=>{i.forEach(o=>o())}}function Xf(e){return e==="experimental-webgl"?"webgl":e}function Oa(e,t,r,n){const i=[];try{const s=hn(e.HTMLCanvasElement.prototype,"getContext",function(o){return function(a,...l){if(!ct(this,t,r,!0)){const u=Xf(a);if("__context"in this||(this.__context=u),n&&["webgl","webgl2"].includes(u))if(l[0]&&typeof l[0]=="object"){const c=l[0];c.preserveDrawingBuffer||(c.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return o.apply(this,[a,...l])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Ra(e,t,r,n,i,s,o){const a=[],l=Object.getOwnPropertyNames(e);for(const u of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(u))try{if(typeof e[u]!="function")continue;const c=hn(e,u,function(d){return function(...f){const h=d.apply(this,f);if(Cc(h,o,this),"tagName"in this.canvas&&!ct(this.canvas,n,i,!0)){const g=Mc(f,o,this),m={type:t,property:u,args:g};r(this.canvas,m)}return h}});a.push(c)}catch{const d=rs(e,u,{set(f){r(this.canvas,{type:t,property:u,args:[f],setter:!0})}});a.push(d)}return a}function Zf(e,t,r,n,i){const s=[];return s.push(...Ra(t.WebGLRenderingContext.prototype,an.WebGL,e,r,n,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Ra(t.WebGL2RenderingContext.prototype,an.WebGL2,e,r,n,i,t)),()=>{s.forEach(o=>o())}}function eh(e,t){var r=e.toString(),n=r.split(`
`);n.pop(),n.shift();for(var i=n[0].search(/\S/),s=/(['"])__worker_loader_strict__(['"])/g,o=0,a=n.length;o<a;++o)n[o]=n[o].substring(i).replace(s,"$1use strict$2")+`
`;return n}function th(e,t){var r=eh(e),n=new Blob(r,{type:"application/javascript"});return URL.createObjectURL(n)}function rh(e,t){var r;return function(i){return r=r||th(e),new Worker(r,i)}}var nh=rh(function(){(function(){"__worker_loader_strict__";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function e(u,c,d,f){function h(g){return g instanceof d?g:new d(function(m){m(g)})}return new(d||(d=Promise))(function(g,m){function _(b){try{k(f.next(b))}catch(x){m(x)}}function S(b){try{k(f.throw(b))}catch(x){m(x)}}function k(b){b.done?g(b.value):h(b.value).then(_,S)}k((f=f.apply(u,[])).next())})}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=typeof Uint8Array>"u"?[]:new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;var i=function(u){var c=new Uint8Array(u),d,f=c.length,h="";for(d=0;d<f;d+=3)h+=t[c[d]>>2],h+=t[(c[d]&3)<<4|c[d+1]>>4],h+=t[(c[d+1]&15)<<2|c[d+2]>>6],h+=t[c[d+2]&63];return f%3===2?h=h.substring(0,h.length-1)+"=":f%3===1&&(h=h.substring(0,h.length-2)+"=="),h};const s=new Map,o=new Map;function a(u,c,d){return e(this,void 0,void 0,function*(){const f=`${u}-${c}`;if("OffscreenCanvas"in globalThis){if(o.has(f))return o.get(f);const h=new OffscreenCanvas(u,c);h.getContext("2d");const m=yield(yield h.convertToBlob(d)).arrayBuffer(),_=i(m);return o.set(f,_),_}else return""})}const l=self;l.onmessage=function(u){return e(this,void 0,void 0,function*(){if("OffscreenCanvas"in globalThis){const{id:c,bitmap:d,width:f,height:h,dataURLOptions:g}=u.data,m=a(f,h,g),_=new OffscreenCanvas(f,h);_.getContext("2d").drawImage(d,0,0),d.close();const k=yield _.convertToBlob(g),b=k.type,x=yield k.arrayBuffer(),A=i(x);if(!s.has(c)&&(yield m)===A)return s.set(c,A),l.postMessage({id:c});if(s.get(c)===A)return l.postMessage({id:c});l.postMessage({id:c,type:b,base64:A,width:f,height:h}),s.set(c,A)}else return l.postMessage({id:u.data.id})})}})()});class ih{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(l,u)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(u)};const{sampling:r="all",win:n,blockClass:i,blockSelector:s,recordCanvas:o,dataURLOptions:a}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,o&&r==="all"&&this.initCanvasMutationObserver(n,i,s),o&&typeof r=="number"&&this.initCanvasFPSObserver(r,n,i,s,{dataURLOptions:a})}initCanvasFPSObserver(t,r,n,i,s){const o=Oa(r,n,i,!0),a=new Map,l=new nh;l.onmessage=g=>{const{id:m}=g.data;if(a.set(m,!1),!("base64"in g.data))return;const{base64:_,type:S,width:k,height:b}=g.data;this.mutationCb({id:m,type:an["2D"],commands:[{property:"clearRect",args:[0,0,k,b]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:_}],type:S}]},0,0]}]})};const u=1e3/t;let c=0,d;const f=()=>{const g=[];return r.document.querySelectorAll("canvas").forEach(m=>{ct(m,n,i,!0)||g.push(m)}),g},h=g=>{if(c&&g-c<u){d=requestAnimationFrame(h);return}c=g,f().forEach(m=>Gf(this,void 0,void 0,function*(){var _;const S=this.mirror.getId(m);if(a.get(S)||m.width===0||m.height===0)return;if(a.set(S,!0),["webgl","webgl2"].includes(m.__context)){const b=m.getContext(m.__context);((_=b==null?void 0:b.getContextAttributes())===null||_===void 0?void 0:_.preserveDrawingBuffer)===!1&&b.clear(b.COLOR_BUFFER_BIT)}const k=yield createImageBitmap(m);l.postMessage({id:S,bitmap:k,width:m.width,height:m.height,dataURLOptions:s.dataURLOptions},[k])})),d=requestAnimationFrame(h)};d=requestAnimationFrame(h),this.resetObservers=()=>{o(),cancelAnimationFrame(d)}}initCanvasMutationObserver(t,r,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=Oa(t,r,n,!1),s=Qf(this.processMutation.bind(this),t,r,n),o=Zf(this.processMutation.bind(this),t,r,n,this.mirror);this.resetObservers=()=>{i(),s(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=r=>{this.rafStamps.latestId=r,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,r)=>{const n=this.mirror.getId(r);this.flushPendingCanvasMutationFor(r,n)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,r){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||r===-1)return;const i=n.map(o=>zf(o,["type"])),{type:s}=n[0];this.mutationCb({id:r,type:s,commands:i}),this.pendingCanvasMutations.delete(t)}}class sh{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new xf,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;const n={id:r,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,l)=>({rule:ic(a),index:l}))})),n.styleIds.push(o)}i.length>0&&(n.styles=i),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class oh{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,r){const n=this.nodeMap.get(t);return n&&Array.from(n).some(i=>i!==r)}add(t,r){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function qe(e){return Object.assign(Object.assign({},e),{timestamp:Ti()})}let $e,_i,Cs,Oi=!1;const It=Xd();function Jn(e={}){const{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:i="rr-block",blockSelector:s=null,ignoreClass:o="rr-ignore",ignoreSelector:a=null,maskTextClass:l="rr-mask",maskTextSelector:u=null,inlineStylesheet:c=!0,maskAllInputs:d,maskInputOptions:f,slimDOMOptions:h,maskInputFn:g,maskTextFn:m,hooks:_,packFn:S,sampling:k={},dataURLOptions:b={},mousemoveWait:x,recordDOM:A=!0,recordCanvas:W=!1,recordCrossOriginIframes:j=!1,recordAfter:z=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:ne=!1,collectFonts:ce=!1,inlineImages:ye=!1,plugins:Q,keepIframeSrcFn:fe=()=>!1,ignoreCSSAttributes:Z=new Set([]),errorHandler:Se}=e;Tf(Se);const oe=j?window.parent===window:!0;let ee=!1;if(!oe)try{window.parent.document&&(ee=!1)}catch{ee=!0}if(oe&&!t)throw new Error("emit function is required");x!==void 0&&k.mousemove===void 0&&(k.mousemove=x),It.reset();const ae=d===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:f!==void 0?f:{password:!0},Je=h===!0||h==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:h==="all",headMetaDescKeywords:h==="all"}:h||{};Sf();let Ne,dt=0;const Xe=U=>{for(const ue of Q||[])ue.eventProcessor&&(U=ue.eventProcessor(U));return S&&!ee&&(U=S(U)),U};$e=(U,ue)=>{var y;if(!((y=Rr[0])===null||y===void 0)&&y.isFrozen()&&U.type!==ge.FullSnapshot&&!(U.type===ge.IncrementalSnapshot&&U.data.source===de.Mutation)&&Rr.forEach(v=>v.unfreeze()),oe)t==null||t(Xe(U),ue);else if(ee){const v={type:"rrweb",event:Xe(U),origin:window.location.origin,isCheckout:ue};window.parent.postMessage(v,"*")}if(U.type===ge.FullSnapshot)Ne=U,dt=0;else if(U.type===ge.IncrementalSnapshot){if(U.data.source===de.Mutation&&U.data.isAttachIframe)return;dt++;const v=n&&dt>=n,C=r&&U.timestamp-Ne.timestamp>r;(v||C)&&_i(!0)}};const Mt=U=>{$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Mutation},U)}))},zt=U=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Scroll},U)})),Cr=U=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.CanvasMutation},U)})),ft=U=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.AdoptedStyleSheet},U)})),I=new sh({mutationCb:Mt,adoptedStyleSheetCb:ft}),F=new jf({mirror:It,mutationCb:Mt,stylesheetManager:I,recordCrossOriginIframes:j,wrappedEmit:$e});for(const U of Q||[])U.getMirror&&U.getMirror({nodeMirror:It,crossOriginIframeMirror:F.crossOriginIframeMirror,crossOriginIframeStyleMirror:F.crossOriginIframeStyleMirror});const $=new oh;Cs=new ih({recordCanvas:W,mutationCb:Cr,win:window,blockClass:i,blockSelector:s,mirror:It,sampling:k.canvas,dataURLOptions:b});const q=new Vf({mutationCb:Mt,scrollCb:zt,bypassOptions:{blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,inlineStylesheet:c,maskInputOptions:ae,dataURLOptions:b,maskTextFn:m,maskInputFn:g,recordCanvas:W,inlineImages:ye,sampling:k,slimDOMOptions:Je,iframeManager:F,stylesheetManager:I,canvasManager:Cs,keepIframeSrcFn:fe,processedNodeManager:$},mirror:It});_i=(U=!1)=>{if(!A)return;$e(qe({type:ge.Meta,data:{href:window.location.href,width:hc(),height:fc()}}),U),I.reset(),q.init(),Rr.forEach(y=>y.lock());const ue=wf(document,{mirror:It,blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,inlineStylesheet:c,maskAllInputs:ae,maskTextFn:m,slimDOM:Je,dataURLOptions:b,recordCanvas:W,inlineImages:ye,onSerialize:y=>{mc(y,It)&&F.addIframe(y),yc(y,It)&&I.trackLinkElement(y),to(y)&&q.addShadowRoot(y.shadowRoot,document)},onIframeLoad:(y,v)=>{F.attachIframe(y,v),q.observeAttachShadow(y)},onStylesheetLoad:(y,v)=>{I.attachLinkElement(y,v)},keepIframeSrcFn:fe});if(!ue)return console.warn("Failed to snapshot the document");$e(qe({type:ge.FullSnapshot,data:{node:ue,initialOffset:dc(window)}}),U),Rr.forEach(y=>y.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&I.adoptStyleSheets(document.adoptedStyleSheets,It.getId(document))};try{const U=[],ue=v=>{var C;return pe(qf)({mutationCb:Mt,mousemoveCb:(E,T)=>$e(qe({type:ge.IncrementalSnapshot,data:{source:T,positions:E}})),mouseInteractionCb:E=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.MouseInteraction},E)})),scrollCb:zt,viewportResizeCb:E=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.ViewportResize},E)})),inputCb:E=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Input},E)})),mediaInteractionCb:E=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.MediaInteraction},E)})),styleSheetRuleCb:E=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.StyleSheetRule},E)})),styleDeclarationCb:E=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.StyleDeclaration},E)})),canvasMutationCb:Cr,fontCb:E=>$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Font},E)})),selectionCb:E=>{$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Selection},E)}))},customElementCb:E=>{$e(qe({type:ge.IncrementalSnapshot,data:Object.assign({source:de.CustomElement},E)}))},blockClass:i,ignoreClass:o,ignoreSelector:a,maskTextClass:l,maskTextSelector:u,maskInputOptions:ae,inlineStylesheet:c,sampling:k,recordDOM:A,recordCanvas:W,inlineImages:ye,userTriggeredOnInput:ne,collectFonts:ce,doc:v,maskInputFn:g,maskTextFn:m,keepIframeSrcFn:fe,blockSelector:s,slimDOMOptions:Je,dataURLOptions:b,mirror:It,iframeManager:F,stylesheetManager:I,shadowDomManager:q,processedNodeManager:$,canvasManager:Cs,ignoreCSSAttributes:Z,plugins:((C=Q==null?void 0:Q.filter(E=>E.observer))===null||C===void 0?void 0:C.map(E=>({observer:E.observer,options:E.options,callback:T=>$e(qe({type:ge.Plugin,data:{plugin:E.name,payload:T}}))})))||[]},_)};F.addLoadListener(v=>{try{U.push(ue(v.contentDocument))}catch(C){console.warn(C)}});const y=()=>{_i(),U.push(ue(document)),Oi=!0};return document.readyState==="interactive"||document.readyState==="complete"?y():(U.push(lt("DOMContentLoaded",()=>{$e(qe({type:ge.DomContentLoaded,data:{}})),z==="DOMContentLoaded"&&y()})),U.push(lt("load",()=>{$e(qe({type:ge.Load,data:{}})),z==="load"&&y()},window))),()=>{U.forEach(v=>v()),$.destroy(),Oi=!1,Af()}}catch(U){console.warn(U)}}Jn.addCustomEvent=(e,t)=>{if(!Oi)throw new Error("please add custom event after start recording");$e(qe({type:ge.Custom,data:{tag:e,payload:t}}))};Jn.freezePage=()=>{Rr.forEach(e=>e.freeze())};Jn.takeFullSnapshot=e=>{if(!Oi)throw new Error("please take full snapshot after start recording");_i(e)};Jn.mirror=It;var Ic=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ic||{}),$t=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))($t||{}),Ht={DEBUG:!1,LIB_VERSION:"2.58.0"},K;if(typeof window>"u"){var Da={hostname:""};K={navigator:{userAgent:"",onLine:!0},document:{location:Da,referrer:""},screen:{width:0,height:0},location:Da}}else K=window;var Pa=K.setImmediate,mr,no,io,Tc=Object.prototype.toString,ah=typeof Pa<"u"?function(t){return Pa(t)}:setTimeout;try{Object.defineProperty({},"x",{}),mr=function(t,r,n,i){return Object.defineProperty(t,r,{value:n,writable:!0,configurable:i!==!1})}}catch{mr=function(r,n,i){return r[n]=i,r}}io=function(){var t,r,n;function i(s,o){this.fn=s,this.self=o,this.next=void 0}return{add:function(o,a){n=new i(o,a),r?r.next=n:t=n,r=n,n=void 0},drain:function(){var o=t;for(t=r=no=void 0;o;)o.fn.call(o.self),o=o.next}}}();function Ri(e,t){io.add(e,t),no||(no=ah(io.drain))}function Ac(e){var t,r=typeof e;return e!==null&&(r==="object"||r==="function")&&(t=e.then),typeof t=="function"?t:!1}function No(){for(var e=0;e<this.chain.length;e++)lh(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function lh(e,t,r){var n,i;try{t===!1?r.reject(e.msg):(t===!0?n=e.msg:n=t.call(void 0,e.msg),n===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=Ac(n))?i.call(n,r.resolve,r.reject):r.resolve(n))}catch(s){r.reject(s)}}function Oc(e){var t,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(t=Ac(e))?Ri(function(){var n=new La(r);try{t.call(e,function(){Oc.apply(n,arguments)},function(){En.apply(n,arguments)})}catch(i){En.call(n,i)}}):(r.msg=e,r.state=1,r.chain.length>0&&Ri(No,r))}catch(n){En.call(new La(r),n)}}}function En(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&Ri(No,t))}function Rc(e,t,r,n){for(var i=0;i<t.length;i++)(function(o){e.resolve(t[o]).then(function(l){r(o,l)},n)})(i)}function La(e){this.def=e,this.triggered=!1}function ch(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function br(e){if(typeof e!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var t=new ch(this);this.then=function(n,i){var s={success:typeof n=="function"?n:!0,failure:typeof i=="function"?i:!1};return s.promise=new this.constructor(function(a,l){if(typeof a!="function"||typeof l!="function")throw TypeError("Not a function");s.resolve=a,s.reject=l}),t.chain.push(s),t.state!==0&&Ri(No,t),s.promise},this.catch=function(n){return this.then(void 0,n)};try{e.call(void 0,function(n){Oc.call(t,n)},function(n){En.call(t,n)})}catch(r){En.call(t,r)}}var Dc=mr({},"constructor",br,!1);br.prototype=Dc;mr(Dc,"__NPO__",0,!1);mr(br,"resolve",function(t){var r=this;return t&&typeof t=="object"&&t.__NPO__===1?t:new r(function(i,s){if(typeof i!="function"||typeof s!="function")throw TypeError("Not a function");i(t)})});mr(br,"reject",function(t){return new this(function(n,i){if(typeof n!="function"||typeof i!="function")throw TypeError("Not a function");i(t)})});mr(br,"all",function(t){var r=this;return Tc.call(t)!=="[object Array]"?r.reject(TypeError("Not an array")):t.length===0?r.resolve([]):new r(function(i,s){if(typeof i!="function"||typeof s!="function")throw TypeError("Not a function");var o=t.length,a=Array(o),l=0;Rc(r,t,function(c,d){a[c]=d,++l===o&&i(a)},s)})});mr(br,"race",function(t){var r=this;return Tc.call(t)!=="[object Array]"?r.reject(TypeError("Not an array")):new r(function(i,s){if(typeof i!="function"||typeof s!="function")throw TypeError("Not a function");Rc(r,t,function(a,l){i(l)},s)})});var Ue;typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?Ue=Promise:Ue=br;var In=24*60*60*1e3,Ms=8*1e3,ns=Array.prototype,uh=Function.prototype,Pc=Object.prototype,fr=ns.slice,Qn=Pc.toString,is=Pc.hasOwnProperty,We=K.console,hr=K.navigator,Ie=K.document,ci=K.opera,Di=K.screen,Bt=hr.userAgent,Es=uh.bind,Na=ns.forEach,$a=ns.indexOf,Fa=ns.map,dh=Array.isArray,so={},p={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},_e={log:function(){if(Ht.DEBUG&&!p.isUndefined(We)&&We)try{We.log.apply(We,arguments)}catch{p.each(arguments,function(t){We.log(t)})}},warn:function(){if(Ht.DEBUG&&!p.isUndefined(We)&&We){var e=["Mixpanel warning:"].concat(p.toArray(arguments));try{We.warn.apply(We,e)}catch{p.each(e,function(r){We.warn(r)})}}},error:function(){if(Ht.DEBUG&&!p.isUndefined(We)&&We){var e=["Mixpanel error:"].concat(p.toArray(arguments));try{We.error.apply(We,e)}catch{p.each(e,function(r){We.error(r)})}}},critical:function(){if(!p.isUndefined(We)&&We){var e=["Mixpanel error:"].concat(p.toArray(arguments));try{We.error.apply(We,e)}catch{p.each(e,function(r){We.error(r)})}}}},Is=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(_e,arguments)}},Xn=function(e){return{log:Is(_e.log,e),error:Is(_e.error,e),critical:Is(_e.critical,e)}};p.bind=function(e,t){var r,n;if(Es&&e.bind===Es)return Es.apply(e,fr.call(arguments,1));if(!p.isFunction(e))throw new TypeError;return r=fr.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(fr.call(arguments)));var i={};i.prototype=e.prototype;var s=new i;i.prototype=null;var o=e.apply(s,r.concat(fr.call(arguments)));return Object(o)===o?o:s},n};p.each=function(e,t,r){if(e!=null){if(Na&&e.forEach===Na)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===so)return}else for(var s in e)if(is.call(e,s)&&t.call(r,e[s],s,e)===so)return}};p.extend=function(e){return p.each(fr.call(arguments,1),function(t){for(var r in t)t[r]!==void 0&&(e[r]=t[r])}),e};p.isArray=dh||function(e){return Qn.call(e)==="[object Array]"};p.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};p.isArguments=function(e){return!!(e&&is.call(e,"callee"))};p.toArray=function(e){return e?e.toArray?e.toArray():p.isArray(e)||p.isArguments(e)?fr.call(e):p.values(e):[]};p.map=function(e,t,r){if(Fa&&e.map===Fa)return e.map(t,r);var n=[];return p.each(e,function(i){n.push(t.call(r,i))}),n};p.keys=function(e){var t=[];return e===null||p.each(e,function(r,n){t[t.length]=n}),t};p.values=function(e){var t=[];return e===null||p.each(e,function(r){t[t.length]=r}),t};p.include=function(e,t){var r=!1;return e===null?r:$a&&e.indexOf===$a?e.indexOf(t)!=-1:(p.each(e,function(n){if(r||(r=n===t))return so}),r)};p.includes=function(e,t){return e.indexOf(t)!==-1};p.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e};p.isObject=function(e){return e===Object(e)&&!p.isArray(e)};p.isEmptyObject=function(e){if(p.isObject(e)){for(var t in e)if(is.call(e,t))return!1;return!0}return!1};p.isUndefined=function(e){return e===void 0};p.isString=function(e){return Qn.call(e)=="[object String]"};p.isDate=function(e){return Qn.call(e)=="[object Date]"};p.isNumber=function(e){return Qn.call(e)=="[object Number]"};p.isElement=function(e){return!!(e&&e.nodeType===1)};p.encodeDates=function(e){return p.each(e,function(t,r){p.isDate(t)?e[r]=p.formatDate(t):p.isObject(t)&&(e[r]=p.encodeDates(t))}),e};p.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};p.formatDate=function(e){function t(r){return r<10?"0"+r:r}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())};p.strip_empty_properties=function(e){var t={};return p.each(e,function(r,n){p.isString(r)&&r.length>0&&(t[n]=r)}),t};p.truncate=function(e,t){var r;return typeof e=="string"?r=e.slice(0,t):p.isArray(e)?(r=[],p.each(e,function(n){r.push(p.truncate(n,t))})):p.isObject(e)?(r={},p.each(e,function(n,i){r[i]=p.truncate(n,t)})):r=e,r};p.JSONEncode=function(){return function(e){var t=e,r=function(i){var s=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return s.lastIndex=0,s.test(i)?'"'+i.replace(s,function(a){var l=o[a];return typeof l=="string"?l:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'},n=function(i,s){var o="",a="    ",l=0,u="",c="",d=0,f=o,h=[],g=s[i];switch(g&&typeof g=="object"&&typeof g.toJSON=="function"&&(g=g.toJSON(i)),typeof g){case"string":return r(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":return String(g);case"object":if(!g)return"null";if(o+=a,h=[],Qn.apply(g)==="[object Array]"){for(d=g.length,l=0;l<d;l+=1)h[l]=n(l,g)||"null";return c=h.length===0?"[]":o?`[
`+o+h.join(`,
`+o)+`
`+f+"]":"["+h.join(",")+"]",o=f,c}for(u in g)is.call(g,u)&&(c=n(u,g),c&&h.push(r(u)+(o?": ":":")+c));return c=h.length===0?"{}":o?"{"+h.join(",")+f+"}":"{"+h.join(",")+"}",o=f,c}};return n("",{"":t})}}();p.JSONDecode=function(){var e,t,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n,i=function(h){var g=new SyntaxError(h);throw g.at=e,g.text=n,g},s=function(h){return h&&h!==t&&i("Expected '"+h+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t},o=function(){var h,g="";for(t==="-"&&(g="-",s("-"));t>="0"&&t<="9";)g+=t,s();if(t===".")for(g+=".";s()&&t>="0"&&t<="9";)g+=t;if(t==="e"||t==="E")for(g+=t,s(),(t==="-"||t==="+")&&(g+=t,s());t>="0"&&t<="9";)g+=t,s();if(h=+g,!isFinite(h))i("Bad number");else return h},a=function(){var h,g,m="",_;if(t==='"')for(;s();){if(t==='"')return s(),m;if(t==="\\")if(s(),t==="u"){for(_=0,g=0;g<4&&(h=parseInt(s(),16),!!isFinite(h));g+=1)_=_*16+h;m+=String.fromCharCode(_)}else if(typeof r[t]=="string")m+=r[t];else break;else m+=t}i("Bad string")},l=function(){for(;t&&t<=" ";)s()},u=function(){switch(t){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}i('Unexpected "'+t+'"')},c,d=function(){var h=[];if(t==="["){if(s("["),l(),t==="]")return s("]"),h;for(;t;){if(h.push(c()),l(),t==="]")return s("]"),h;s(","),l()}}i("Bad array")},f=function(){var h,g={};if(t==="{"){if(s("{"),l(),t==="}")return s("}"),g;for(;t;){if(h=a(),l(),s(":"),Object.hasOwnProperty.call(g,h)&&i('Duplicate key "'+h+'"'),g[h]=c(),l(),t==="}")return s("}"),g;s(","),l()}}i("Bad object")};return c=function(){switch(l(),t){case"{":return f();case"[":return d();case'"':return a();case"-":return o();default:return t>="0"&&t<="9"?o():u()}},function(h){var g;return n=h,e=0,t=" ",g=c(),l(),t&&i("Syntax error"),g}}();p.base64Encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,n,i,s,o,a,l,u,c=0,d=0,f="",h=[];if(!e)return e;e=p.utf8Encode(e);do r=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),u=r<<16|n<<8|i,s=u>>18&63,o=u>>12&63,a=u>>6&63,l=u&63,h[d++]=t.charAt(s)+t.charAt(o)+t.charAt(a)+t.charAt(l);while(c<e.length);switch(f=h.join(""),e.length%3){case 1:f=f.slice(0,-2)+"==";break;case 2:f=f.slice(0,-1)+"=";break}return f};p.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var t="",r,n,i=0,s;for(r=n=0,i=e.length,s=0;s<i;s++){var o=e.charCodeAt(s),a=null;o<128?n++:o>127&&o<2048?a=String.fromCharCode(o>>6|192,o&63|128):a=String.fromCharCode(o>>12|224,o>>6&63|128,o&63|128),a!==null&&(n>r&&(t+=e.substring(r,n)),t+=a,r=n=s+1)}return n>r&&(t+=e.substring(r,e.length)),t};p.UUID=function(){var e=function(){var n=1*new Date,i;if(K.performance&&K.performance.now)i=K.performance.now();else for(i=0;n==1*new Date;)i++;return n.toString(16)+Math.floor(i).toString(16)},t=function(){return Math.random().toString(16).replace(".","")},r=function(){var n=Bt,i,s,o=[],a=0;function l(u,c){var d,f=0;for(d=0;d<c.length;d++)f|=o[d]<<d*8;return u^f}for(i=0;i<n.length;i++)s=n.charCodeAt(i),o.unshift(s&255),o.length>=4&&(a=l(a,o),o=[]);return o.length>0&&(a=l(a,o)),a.toString(16)};return function(){var n=(Di.height*Di.width).toString(16);return e()+"-"+t()+"-"+r()+"-"+n+"-"+e()}}();var Ba=["ahrefsbot","ahrefssiteaudit","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];p.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<Ba.length;t++)if(e.indexOf(Ba[t])!==-1)return!0;return!1};p.HTTPBuildQuery=function(e,t){var r,n,i=[];return p.isUndefined(t)&&(t="&"),p.each(e,function(s,o){r=encodeURIComponent(s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+r}),i.join(t)};p.getQueryParam=function(e,t){t=t.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var r="[\\?&]"+t+"=([^&#]*)",n=new RegExp(r),i=n.exec(e);if(i===null||i&&typeof i[1]!="string"&&i[1].length)return"";var s=i[1];try{s=decodeURIComponent(s)}catch{_e.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")};p.cookie={get:function(e){for(var t=e+"=",r=Ie.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=p.JSONDecode(p.cookie.get(e))||{}}catch{}return t},set_seconds:function(e,t,r,n,i,s,o){var a="",l="",u="";if(o)a="; domain="+o;else if(n){var c=Ua(Ie.location.hostname);a=c?"; domain=."+c:""}if(r){var d=new Date;d.setTime(d.getTime()+r*1e3),l="; expires="+d.toGMTString()}s&&(i=!0,u="; SameSite=None"),i&&(u+="; secure"),Ie.cookie=e+"="+encodeURIComponent(t)+l+"; path=/"+a+u},set:function(e,t,r,n,i,s,o){var a="",l="",u="";if(o)a="; domain="+o;else if(n){var c=Ua(Ie.location.hostname);a=c?"; domain=."+c:""}if(r){var d=new Date;d.setTime(d.getTime()+r*24*60*60*1e3),l="; expires="+d.toGMTString()}s&&(i=!0,u="; SameSite=None"),i&&(u+="; secure");var f=e+"="+encodeURIComponent(t)+l+"; path=/"+a+u;return Ie.cookie=f,f},remove:function(e,t,r){p.cookie.set(e,"",-1,t,!1,!1,r)}};var Ts=null,Pi=function(e,t){if(Ts!==null&&!t)return Ts;var r=!0;try{e=e||K.localStorage;var n="__mplss_"+$o(8),i="xyz";e.setItem(n,i),e.getItem(n)!==i&&(r=!1),e.removeItem(n)}catch{r=!1}return Ts=r,r};p.localStorage={is_supported:function(e){var t=Pi(null,e);return t||_e.error("localStorage unsupported; falling back to cookie store"),t},error:function(e){_e.error("localStorage error: "+e)},get:function(e){try{return K.localStorage.getItem(e)}catch(t){p.localStorage.error(t)}return null},parse:function(e){try{return p.JSONDecode(p.localStorage.get(e))||{}}catch{}return null},set:function(e,t){try{K.localStorage.setItem(e,t)}catch(r){p.localStorage.error(r)}},remove:function(e){try{K.localStorage.removeItem(e)}catch(t){p.localStorage.error(t)}}};p.register_event=function(){var e=function(n,i,s,o,a){if(!n){_e.error("No valid element provided to register_event");return}if(n.addEventListener&&!o)n.addEventListener(i,s,!!a);else{var l="on"+i,u=n[l];n[l]=t(n,s,u)}};function t(n,i,s){var o=function(a){if(a=a||r(K.event),!!a){var l=!0,u,c;return p.isFunction(s)&&(u=s(a)),c=i.call(n,a),(u===!1||c===!1)&&(l=!1),l}};return o}function r(n){return n&&(n.preventDefault=r.preventDefault,n.stopPropagation=r.stopPropagation),n}return r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0},e}();var fh=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');p.dom_query=function(){function e(i){return i.all?i.all:i.getElementsByTagName("*")}var t=/[\t\r\n]/g;function r(i,s){var o=" "+s+" ";return(" "+i.className+" ").replace(t," ").indexOf(o)>=0}function n(i){if(!Ie.getElementsByTagName)return[];var s=i.split(" "),o,a,l,u,c,d,f,h,g,m,_=[Ie];for(d=0;d<s.length;d++){if(o=s[d].replace(/^\s+/,"").replace(/\s+$/,""),o.indexOf("#")>-1){a=o.split("#"),l=a[0];var S=a[1],k=Ie.getElementById(S);if(!k||l&&k.nodeName.toLowerCase()!=l)return[];_=[k];continue}if(o.indexOf(".")>-1){a=o.split("."),l=a[0];var b=a[1];for(l||(l="*"),u=[],c=0,f=0;f<_.length;f++)for(l=="*"?g=e(_[f]):g=_[f].getElementsByTagName(l),h=0;h<g.length;h++)u[c++]=g[h];for(_=[],m=0,f=0;f<u.length;f++)u[f].className&&p.isString(u[f].className)&&r(u[f],b)&&(_[m++]=u[f]);continue}var x=o.match(fh);if(x){l=x[1];var A=x[2],W=x[3],j=x[4];for(l||(l="*"),u=[],c=0,f=0;f<_.length;f++)for(l=="*"?g=e(_[f]):g=_[f].getElementsByTagName(l),h=0;h<g.length;h++)u[c++]=g[h];_=[],m=0;var z;switch(W){case"=":z=function(ne){return ne.getAttribute(A)==j};break;case"~":z=function(ne){return ne.getAttribute(A).match(new RegExp("\\b"+j+"\\b"))};break;case"|":z=function(ne){return ne.getAttribute(A).match(new RegExp("^"+j+"-?"))};break;case"^":z=function(ne){return ne.getAttribute(A).indexOf(j)===0};break;case"$":z=function(ne){return ne.getAttribute(A).lastIndexOf(j)==ne.getAttribute(A).length-j.length};break;case"*":z=function(ne){return ne.getAttribute(A).indexOf(j)>-1};break;default:z=function(ne){return ne.getAttribute(A)}}for(_=[],m=0,f=0;f<u.length;f++)z(u[f])&&(_[m++]=u[f]);continue}for(l=o,u=[],c=0,f=0;f<_.length;f++)for(g=_[f].getElementsByTagName(l),h=0;h<g.length;h++)u[c++]=g[h];_=u}return _}return function(i){return p.isElement(i)?[i]:p.isObject(i)&&!p.isUndefined(i.length)?i:n.call(this,i)}}();var hh=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],ph=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];p.info={campaignParams:function(e){var t="",r={};return p.each(hh,function(n){t=p.getQueryParam(Ie.URL,n),t.length?r[n]=t:e!==void 0&&(r[n]=e)}),r},clickParams:function(){var e="",t={};return p.each(ph,function(r){e=p.getQueryParam(Ie.URL,r),e.length&&(t[r]=e)}),t},marketingParams:function(){return p.extend(p.info.campaignParams(),p.info.clickParams())},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var t=p.info.searchEngine(e),r=t!="yahoo"?"q":"p",n={};if(t!==null){n.$search_engine=t;var i=p.getQueryParam(e,r);i.length&&(n.mp_keyword=i)}return n},browser:function(e,t,r){return t=t||"",r||p.includes(e," OPR/")?p.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":p.includes(e,"IEMobile")||p.includes(e,"WPDesktop")?"Internet Explorer Mobile":p.includes(e,"SamsungBrowser/")?"Samsung Internet":p.includes(e,"Edge")||p.includes(e,"Edg/")?"Microsoft Edge":p.includes(e,"FBIOS")?"Facebook Mobile":p.includes(e,"Chrome")?"Chrome":p.includes(e,"CriOS")?"Chrome iOS":p.includes(e,"UCWEB")||p.includes(e,"UCBrowser")?"UC Browser":p.includes(e,"FxiOS")?"Firefox iOS":p.includes(t,"Apple")?p.includes(e,"Mobile")?"Mobile Safari":"Safari":p.includes(e,"Android")?"Android Mobile":p.includes(e,"Konqueror")?"Konqueror":p.includes(e,"Firefox")?"Firefox":p.includes(e,"MSIE")||p.includes(e,"Trident/")?"Internet Explorer":p.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,r){var n=p.info.browser(e,t,r),i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},s=i[n];if(s===void 0)return null;var o=e.match(s);return o?parseFloat(o[o.length-2]):null},os:function(){var e=Bt;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},currentUrl:function(){return K.location.href},properties:function(e){return typeof e!="object"&&(e={}),p.extend(p.strip_empty_properties({$os:p.info.os(),$browser:p.info.browser(Bt,hr.vendor,ci),$referrer:Ie.referrer,$referring_domain:p.info.referringDomain(Ie.referrer),$device:p.info.device(Bt)}),{$current_url:p.info.currentUrl(),$browser_version:p.info.browserVersion(Bt,hr.vendor,ci),$screen_height:Di.height,$screen_width:Di.width,mp_lib:"web",$lib_version:Ht.LIB_VERSION,$insert_id:$o(),time:p.timestamp()/1e3},p.strip_empty_properties(e))},people_properties:function(){return p.extend(p.strip_empty_properties({$os:p.info.os(),$browser:p.info.browser(Bt,hr.vendor,ci)}),{$browser_version:p.info.browserVersion(Bt,hr.vendor,ci)})},mpPageViewProperties:function(){return p.strip_empty_properties({current_page_title:Ie.title,current_domain:K.location.hostname,current_url_path:K.location.pathname,current_url_protocol:K.location.protocol,current_url_search:K.location.search})}};var $o=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},gh=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,mh=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,Ua=function(e){var t=mh,r=e.split("."),n=r[r.length-1];(n.length>4||n==="com"||n==="org")&&(t=gh);var i=e.match(t);return i?i[0]:""},yh=function(){var e=K.navigator.onLine;return p.isUndefined(e)||e},Li=null,Ni=null;typeof JSON<"u"&&(Li=JSON.stringify,Ni=JSON.parse);Li=Li||p.JSONEncode;Ni=Ni||p.JSONDecode;p.toArray=p.toArray;p.isObject=p.isObject;p.JSONEncode=p.JSONEncode;p.JSONDecode=p.JSONDecode;p.isBlockedUA=p.isBlockedUA;p.isEmptyObject=p.isEmptyObject;p.info=p.info;p.info.device=p.info.device;p.info.browser=p.info.browser;p.info.browserVersion=p.info.browserVersion;p.info.properties=p.info.properties;p.NPO=br;var _h="__mp_opt_in_out_";function vh(e,t){$c(!0,e,t)}function bh(e,t){$c(!1,e,t)}function wh(e,t){return Nc(e,t)==="1"}function Lc(e,t){if(Sh(t))return _e.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var r=Nc(e,t)==="0";return r&&_e.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),r}function wr(e){return Uo(e,function(t){return this.get_config(t)})}function kr(e){return Uo(e,function(t){return this._get_config(t)})}function pn(e){return Uo(e,function(t){return this._get_config(t)})}function kh(e,t){t=t||{},Fo(t).remove(Bo(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function Fo(e){return e=e||{},e.persistenceType==="localStorage"?p.localStorage:p.cookie}function Bo(e,t){return t=t||{},(t.persistencePrefix||_h)+e}function Nc(e,t){return Fo(t).get(Bo(e,t))}function Sh(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||K,r=t.navigator||{},n=!1;return p.each([r.doNotTrack,r.msDoNotTrack,t.doNotTrack],function(i){p.includes([!0,1,"1","yes"],i)&&(n=!0)}),n}function $c(e,t,r){if(!p.isString(t)||!t.length){_e.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}r=r||{},Fo(r).set(Bo(t,r),e?1:0,p.isNumber(r.cookieExpiration)?r.cookieExpiration:null,!!r.crossSubdomainCookie,!!r.secureCookie,!!r.crossSiteCookie,r.cookieDomain),r.track&&e&&r.track(r.trackEventName||"$opt_in",r.trackProperties,{send_immediately:!0})}function Uo(e,t){return function(){var r=!1;try{var n=t.call(this,"token"),i=t.call(this,"ignore_dnt"),s=t.call(this,"opt_out_tracking_persistence_type"),o=t.call(this,"opt_out_tracking_cookie_prefix"),a=t.call(this,"window");n&&(r=Lc(n,{ignoreDnt:i,persistenceType:s,persistencePrefix:o,window:a}))}catch(u){_e.error("Unexpected error when checking tracking opt-out status: "+u)}if(!r)return e.apply(this,arguments);var l=arguments[arguments.length-1];typeof l=="function"&&l(0)}}var xh=Xn("lock"),Fc=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3,this.promiseImpl=t.promiseImpl||Ue};Fc.prototype.withLock=function(e,t){var r=this.promiseImpl;return new r(p.bind(function(n,i){var s=t||new Date().getTime()+"|"+Math.random(),o=new Date().getTime(),a=this.storageKey,l=this.pollIntervalMS,u=this.timeoutMS,c=this.storage,d=a+":X",f=a+":Y",h=a+":Z",g=function(b){if(new Date().getTime()-o>u){xh.error("Timeout waiting for mutex on "+a+"; clearing lock. ["+s+"]"),c.removeItem(h),c.removeItem(f),S();return}setTimeout(function(){try{b()}catch(x){i(x)}},l*(Math.random()+.1))},m=function(b,x){b()?x():g(function(){m(b,x)})},_=function(){var b=c.getItem(f);return b&&b!==s?!1:(c.setItem(f,s),c.getItem(f)===s?!0:(Pi(c,!0)||i(new Error("localStorage support dropped while acquiring lock")),!1))},S=function(){c.setItem(d,s),m(_,function(){if(c.getItem(d)===s){k();return}g(function(){if(c.getItem(f)!==s){S();return}m(function(){return!c.getItem(h)},k)})})},k=function(){c.setItem(h,"1");var b=function(){c.removeItem(h),c.getItem(f)===s&&c.removeItem(f),c.getItem(d)===s&&c.removeItem(d)};e().then(function(x){b(),n(x)}).catch(function(x){b(),i(x)})};try{if(Pi(c,!0))S();else throw new Error("localStorage support check failed")}catch(b){i(b)}},this))};var Zn=function(e){this.storage=e||localStorage};Zn.prototype.init=function(){return Ue.resolve()};Zn.prototype.setItem=function(e,t){return new Ue(p.bind(function(r,n){try{this.storage.setItem(e,t)}catch(i){n(i)}r()},this))};Zn.prototype.getItem=function(e){return new Ue(p.bind(function(t,r){var n;try{n=this.storage.getItem(e)}catch(i){r(i)}t(n)},this))};Zn.prototype.removeItem=function(e){return new Ue(p.bind(function(t,r){try{this.storage.removeItem(e)}catch(n){r(n)}t()},this))};var Ha=Xn("batch"),nr=function(e,t){t=t||{},this.storageKey=e,this.usePersistence=t.usePersistence,this.usePersistence&&(this.queueStorage=t.queueStorage||new Zn,this.lock=new Fc(e,{storage:t.sharedLockStorage||window.localStorage}),this.queueStorage.init()),this.reportError=t.errorReporter||p.bind(Ha.error,Ha),this.pid=t.pid||null,this.memQueue=[],this.initialized=!1};nr.prototype.ensureInit=function(){return this.initialized?Ue.resolve():this.queueStorage.init().then(p.bind(function(){this.initialized=!0},this)).catch(p.bind(function(e){this.reportError("Error initializing queue persistence. Disabling persistence",e),this.initialized=!0,this.usePersistence=!1},this))};nr.prototype.enqueue=function(e,t){var r={id:$o(),flushAfter:new Date().getTime()+t*2,payload:e};if(this.usePersistence){var n=p.bind(function(){return this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(i){return i.push(r),this.saveToStorage(i)},this)).then(p.bind(function(i){return i&&this.memQueue.push(r),i},this)).catch(p.bind(function(i){return this.reportError("Error enqueueing item",i,e),!1},this))},this);return this.lock.withLock(n,this.pid).catch(p.bind(function(i){return this.reportError("Error acquiring storage lock",i),!1},this))}else return this.memQueue.push(r),Ue.resolve(!0)};nr.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);return this.usePersistence&&t.length<e?this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(r){if(r.length){var n={};p.each(t,function(o){n[o.id]=!0});for(var i=0;i<r.length;i++){var s=r[i];if(new Date().getTime()>s.flushAfter&&!n[s.id]&&(s.orphaned=!0,t.push(s),t.length>=e))break}}return t},this)):Ue.resolve(t)};var Wa=function(e,t){var r=[];return p.each(e,function(n){n.id&&!t[n.id]&&r.push(n)}),r};nr.prototype.removeItemsByID=function(e){var t={};if(p.each(e,function(n){t[n]=!0}),this.memQueue=Wa(this.memQueue,t),this.usePersistence){var r=p.bind(function(){return this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(n){return n=Wa(n,t),this.saveToStorage(n)},this)).then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(n){for(var i=0;i<n.length;i++){var s=n[i];if(s.id&&t[s.id])throw new Error("Item not removed from storage")}return!0},this)).catch(p.bind(function(n){return this.reportError("Error removing items",n,e),!1},this))},this);return this.lock.withLock(r,this.pid).catch(p.bind(function(n){return this.reportError("Error acquiring storage lock",n),Pi(this.queueStorage.storage,!0)?!1:r().then(p.bind(function(i){return i||this.queueStorage.removeItem(this.storageKey).then(function(){return i})},this)).catch(p.bind(function(i){return this.reportError("Error clearing queue",i),!1},this))},this))}else return Ue.resolve(!0)};var qa=function(e,t){var r=[];return p.each(e,function(n){var i=n.id;if(i in t){var s=t[i];s!==null&&(n.payload=s,r.push(n))}else r.push(n)}),r};nr.prototype.updatePayloads=function(e){return this.memQueue=qa(this.memQueue,e),this.usePersistence?this.lock.withLock(p.bind(function(){return this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(r){return r=qa(r,e),this.saveToStorage(r)},this)).catch(p.bind(function(r){return this.reportError("Error updating items",e,r),!1},this))},this),this.pid).catch(p.bind(function(t){return this.reportError("Error acquiring storage lock",t),!1},this)):Ue.resolve(!0)};nr.prototype.readFromStorage=function(){return this.ensureInit().then(p.bind(function(){return this.queueStorage.getItem(this.storageKey)},this)).then(p.bind(function(e){return e&&(e=Ni(e),p.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null)),e||[]},this)).catch(p.bind(function(e){return this.reportError("Error retrieving queue",e),[]},this))};nr.prototype.saveToStorage=function(e){try{var t=Li(e)}catch(r){return this.reportError("Error serializing queue",r),Ue.resolve(!1)}return this.ensureInit().then(p.bind(function(){return this.queueStorage.setItem(this.storageKey,t)},this)).then(function(){return!0}).catch(p.bind(function(r){return this.reportError("Error saving queue",r),!1},this))};nr.prototype.clear=function(){return this.memQueue=[],this.usePersistence?this.ensureInit().then(p.bind(function(){return this.queueStorage.removeItem(this.storageKey)},this)):Ue.resolve()};var Ch=10*60*1e3,Tn=Xn("batch"),Ct=function(e,t){this.errorReporter=t.errorReporter,this.queue=new nr(e,{errorReporter:p.bind(this.reportError,this),queueStorage:t.queueStorage,sharedLockStorage:t.sharedLockStorage,usePersistence:t.usePersistence}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=t.flushOnlyOnInterval||!1};Ct.prototype.enqueue=function(e){return this.queue.enqueue(e,this.flushInterval)};Ct.prototype.start=function(){return this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};Ct.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};Ct.prototype.clear=function(){return this.queue.clear()};Ct.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};Ct.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};Ct.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(p.bind(function(){this.stopped||this.flush()},this),this.flushInterval))};Ct.prototype.sendRequestPromise=function(e,t){return new Ue(p.bind(function(r){this.sendRequest(e,t,r)},this))};Ct.prototype.flush=function(e){if(this.requestInProgress)return Tn.log("Flush: Request already in progress"),Ue.resolve();this.requestInProgress=!0,e=e||{};var t=this.libConfig.batch_request_timeout_ms,r=new Date().getTime(),n=this.batchSize;return this.queue.fillBatch(n).then(p.bind(function(i){var s=i.length===n,o=[],a={};if(p.each(i,function(d){var f=d.payload;if(this.beforeSendHook&&!d.orphaned&&(f=this.beforeSendHook(f)),f){f.event&&f.properties&&(f.properties=p.extend({},f.properties,{mp_sent_by_lib_version:Ht.LIB_VERSION}));var h=!0,g=d.id;g?(this.itemIdsSentSuccessfully[g]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:d,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[g]}),h=!1):this.reportError("[dupe] found item with no ID",{item:d}),h&&o.push(f)}a[d.id]=f},this),o.length<1)return this.requestInProgress=!1,this.resetFlush(),Ue.resolve();var l=p.bind(function(){return this.queue.removeItemsByID(p.map(i,function(d){return d.id})).then(p.bind(function(d){return p.each(i,p.bind(function(f){var h=f.id;h?(this.itemIdsSentSuccessfully[h]=this.itemIdsSentSuccessfully[h]||0,this.itemIdsSentSuccessfully[h]++,this.itemIdsSentSuccessfully[h]>5&&this.reportError("[dupe] item ID sent too many times",{item:f,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[h]})):this.reportError("[dupe] found item with no ID while removing",{item:f})},this)),d?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!s?(this.resetFlush(),Ue.resolve()):this.flush()):(++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush(),Ue.resolve())},this))},this),u=p.bind(function(d){this.requestInProgress=!1;try{if(e.unloading)return this.queue.updatePayloads(a);if(p.isObject(d)&&d.error==="timeout"&&new Date().getTime()-r>=t)return this.reportError("Network timeout; retrying"),this.flush();if(p.isObject(d)&&(d.httpStatusCode>=500||d.httpStatusCode===429||d.httpStatusCode<=0&&!yh()||d.error==="timeout")){var f=this.flushInterval*2;return d.retryAfter&&(f=parseInt(d.retryAfter,10)*1e3||f),f=Math.min(Ch,f),this.reportError("Error; retry in "+f+" ms"),this.scheduleFlush(f),Ue.resolve()}else if(p.isObject(d)&&d.httpStatusCode===413)if(i.length>1){var h=Math.max(1,Math.floor(n/2));return this.batchSize=Math.min(this.batchSize,h,i.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush(),Ue.resolve()}else return this.reportError("Single-event request too large; dropping",i),this.resetBatchSize(),l();else return l()}catch(g){this.reportError("Error handling API response",g),this.resetFlush()}},this),c={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};return e.unloading&&(c.transport="sendBeacon"),Tn.log("MIXPANEL REQUEST:",o),this.sendRequestPromise(o,c).then(u)},this)).catch(p.bind(function(i){this.reportError("Error flushing request queue",i),this.resetFlush()},this))};Ct.prototype.reportError=function(e,t){if(Tn.error.apply(Tn.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(r){Tn.error(r)}};var Yr=Xn("recorder"),ja=K.CompressionStream,Mh={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},Eh=new Set([$t.MouseMove,$t.MouseInteraction,$t.Scroll,$t.ViewportResize,$t.Input,$t.TouchMove,$t.MediaInteraction,$t.Drag,$t.Selection]);function Ih(e){return e.type===Ic.IncrementalSnapshot&&Eh.has(e.data.source)}var Pt=function(e){this._mixpanel=e.mixpanelInstance,this._onIdleTimeout=e.onIdleTimeout,this._onMaxLengthReached=e.onMaxLengthReached,this._rrwebRecord=e.rrwebRecord,this.replayId=e.replayId,this._stopRecording=null,this.seqNo=0,this.replayStartTime=null,this.replayStartUrl=null,this.batchStartUrl=null,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=In,this.recordMinMs=0;var t="__mprec_"+this.getConfig("token")+"_"+this.replayId;this.batcher=new Ct(t,{errorReporter:p.bind(this.reportError,this),flushOnlyOnInterval:!0,libConfig:Mh,sendRequestFunc:p.bind(this.flushEventsWithOptOut,this),usePersistence:!1})};Pt.prototype.getConfig=function(e){return this._mixpanel.get_config(e)};Pt.prototype.get_config=function(e){return this.getConfig(e)};Pt.prototype.startRecording=function(e){if(this._stopRecording!==null){Yr.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.getConfig("record_max_ms"),this.recordMaxMs>In&&(this.recordMaxMs=In,Yr.critical("record_max_ms cannot be greater than "+In+"ms. Capping value.")),this.recordMinMs=this.getConfig("record_min_ms"),this.recordMinMs>Ms&&(this.recordMinMs=Ms,Yr.critical("record_min_ms cannot be greater than "+Ms+"ms. Capping value.")),this.replayStartTime=new Date().getTime(),this.batchStartUrl=p.info.currentUrl(),this.replayStartUrl=p.info.currentUrl(),e||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var t=p.bind(function(){clearTimeout(this.idleTimeoutId),this.idleTimeoutId=setTimeout(this._onIdleTimeout,this.getConfig("record_idle_timeout_ms"))},this),r=this.getConfig("record_block_selector");if((r===""||r===null)&&(r=void 0),this._stopRecording=this._rrwebRecord({emit:p.bind(function(n){this.batcher.enqueue(n),Ih(n)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),t())},this),blockClass:this.getConfig("record_block_class"),blockSelector:r,collectFonts:this.getConfig("record_collect_fonts"),dataURLOptions:{type:"image/webp",quality:.6},maskAllInputs:!0,maskTextClass:this.getConfig("record_mask_text_class"),maskTextSelector:this.getConfig("record_mask_text_selector"),recordCanvas:this.getConfig("record_canvas"),sampling:{canvas:15}}),typeof this._stopRecording!="function"){this.reportError("rrweb failed to start, skipping this recording."),this._stopRecording=null,this.stopRecording();return}t(),this.maxTimeoutId=setTimeout(p.bind(this._onMaxLengthReached,this),this.recordMaxMs)};Pt.prototype.stopRecording=function(){if(!this.isRrwebStopped()){try{this._stopRecording()}catch(e){this.reportError("Error with rrweb stopRecording",e)}this._stopRecording=null}this.batcher.stopped?this.batcher.clear():(this.batcher.flush(),this.batcher.stop()),clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId)};Pt.prototype.isRrwebStopped=function(){return this._stopRecording===null};Pt.prototype.flushEventsWithOptOut=function(e,t,r){this._flushEvents(e,t,r,p.bind(this._onOptOut,this))};Pt.prototype._onOptOut=function(e){e===0&&this.stopRecording()};Pt.prototype._sendRequest=function(e,t,r,n){var i=p.bind(function(s,o){s.status===200&&this.replayId===e&&(this.seqNo++,this.batchStartUrl=p.info.currentUrl()),n({status:0,httpStatusCode:s.status,responseBody:o,retryAfter:s.headers.get("Retry-After")})},this);K.fetch(this.getConfig("api_host")+"/"+this.getConfig("api_routes").record+"?"+new URLSearchParams(t),{method:"POST",headers:{Authorization:"Basic "+btoa(this.getConfig("token")+":"),"Content-Type":"application/octet-stream"},body:r}).then(function(s){s.json().then(function(o){i(s,o)}).catch(function(o){n({error:o})})}).catch(function(s){n({error:s,httpStatusCode:0})})};Pt.prototype._flushEvents=wr(function(e,t,r){const n=e.length;if(n>0){var i=this.replayId,s=e[0].timestamp;(this.seqNo===0||!this.replayStartTime)&&(this.seqNo!==0&&this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=s);var o=e[n-1].timestamp-this.replayStartTime,a={$current_url:this.batchStartUrl,$lib_version:Ht.LIB_VERSION,batch_start_time:s/1e3,distinct_id:String(this._mixpanel.get_distinct_id()),mp_lib:"web",replay_id:i,replay_length_ms:o,replay_start_time:this.replayStartTime/1e3,replay_start_url:this.replayStartUrl,seq:this.seqNo},l=p.JSONEncode(e),u=this._mixpanel.get_property("$device_id");u&&(a.$device_id=u);var c=this._mixpanel.get_property("$user_id");if(c&&(a.$user_id=c),ja){var d=new Blob([l],{type:"application/json"}).stream(),f=d.pipeThrough(new ja("gzip"));new Response(f).blob().then(p.bind(function(h){a.format="gzip",this._sendRequest(i,a,h,r)},this))}else a.format="body",this._sendRequest(i,a,l,r)}});Pt.prototype.reportError=function(e,t){Yr.error.apply(Yr.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.getConfig("error_reporter")(e,t)}catch(r){Yr.error(r)}};var As=Xn("recorder"),gn=function(e){this._mixpanel=e,this.activeRecording=null};gn.prototype.startRecording=function(e){if(this.activeRecording&&!this.activeRecording.isRrwebStopped()){As.log("Recording already in progress, skipping startRecording.");return}var t=p.bind(function(){As.log("Idle timeout reached, restarting recording."),this.resetRecording()},this),r=p.bind(function(){As.log("Max recording length reached, stopping recording."),this.resetRecording()},this);this.activeRecording=new Pt({mixpanelInstance:this._mixpanel,onIdleTimeout:t,onMaxLengthReached:r,replayId:p.UUID(),rrwebRecord:Jn}),this.activeRecording.startRecording(e)};gn.prototype.stopRecording=function(){this.activeRecording&&(this.activeRecording.stopRecording(),this.activeRecording=null)};gn.prototype.resetRecording=function(){this.stopRecording(),this.startRecording(!0)};gn.prototype.getActiveReplayId=function(){return this.activeRecording&&!this.activeRecording.isRrwebStopped()?this.activeRecording.replayId:null};Object.defineProperty(gn.prototype,"replayId",{get:function(){return this.getActiveReplayId()}});K.__mp_recorder=gn;var ir=function(){};ir.prototype.create_properties=function(){};ir.prototype.event_handler=function(){};ir.prototype.after_track_handler=function(){};ir.prototype.init=function(e){return this.mp=e,this};ir.prototype.track=function(e,t,r,n){var i=this,s=p.dom_query(e);if(s.length===0){_e.error("The DOM query ("+e+") returned 0 elements");return}return p.each(s,function(o){p.register_event(o,this.override_event,function(a){var l={},u=i.create_properties(r,this),c=i.mp.get_config("track_links_timeout");i.event_handler(a,this,l),window.setTimeout(i.track_callback(n,u,l,!0),c),i.mp.track(t,u,i.track_callback(n,u,l))})},this),!0};ir.prototype.track_callback=function(e,t,r,n){n=n||!1;var i=this;return function(){r.callback_fired||(r.callback_fired=!0,!(e&&e(n,t)===!1)&&i.after_track_handler(t,r,n))}};ir.prototype.create_properties=function(e,t){var r;return typeof e=="function"?r=e(t):r=p.extend({},e),r};var ln=function(){this.override_event="click"};p.inherit(ln,ir);ln.prototype.create_properties=function(e,t){var r=ln.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r};ln.prototype.event_handler=function(e,t,r){r.new_tab=e.which===2||e.metaKey||e.ctrlKey||t.target==="_blank",r.href=t.href,r.new_tab||e.preventDefault()};ln.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var ss=function(){this.override_event="submit"};p.inherit(ss,ir);ss.prototype.event_handler=function(e,t,r){r.element=t,e.preventDefault()};ss.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var yr="$set",cn="$set_once",Tt="$unset",Lr="$add",Wt="$append",Nr="$union",er="$remove",Th="$delete",Bc={set_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=i)},this):n[e]=t,r[yr]=n,r},unset_action:function(e){var t={},r=[];return p.isArray(e)||(e=[e]),p.each(e,function(n){this._is_reserved_property(n)||r.push(n)},this),t[Tt]=r,t},set_once_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=i)},this):n[e]=t,r[cn]=n,r},union_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=p.isArray(i)?i:[i])},this):n[e]=p.isArray(t)?t:[t],r[Nr]=n,r},append_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=i)},this):n[e]=t,r[Wt]=n,r},remove_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=i)},this):n[e]=t,r[er]=n,r},delete_action:function(){var e={};return e[Th]="",e}},Pe=function(){};p.extend(Pe.prototype,Bc);Pe.prototype._init=function(e,t,r){this._mixpanel=e,this._group_key=t,this._group_id=r};Pe.prototype.set=pn(function(e,t,r){var n=this.set_action(e,t);return p.isObject(e)&&(r=t),this._send_request(n,r)});Pe.prototype.set_once=pn(function(e,t,r){var n=this.set_once_action(e,t);return p.isObject(e)&&(r=t),this._send_request(n,r)});Pe.prototype.unset=pn(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});Pe.prototype.union=pn(function(e,t,r){p.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});Pe.prototype.delete=pn(function(e){var t=this.delete_action();return this._send_request(t,e)});Pe.prototype.remove=pn(function(e,t,r){var n=this.remove_action(e,t);return this._send_request(n,r)});Pe.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var r=p.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:r,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},t)};Pe.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};Pe.prototype._get_config=function(e){return this._mixpanel.get_config(e)};Pe.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};Pe.prototype.remove=Pe.prototype.remove;Pe.prototype.set=Pe.prototype.set;Pe.prototype.set_once=Pe.prototype.set_once;Pe.prototype.union=Pe.prototype.union;Pe.prototype.unset=Pe.prototype.unset;Pe.prototype.toString=Pe.prototype.toString;var re=function(){};p.extend(re.prototype,Bc);re.prototype._init=function(e){this._mixpanel=e};re.prototype.set=kr(function(e,t,r){var n=this.set_action(e,t);return p.isObject(e)&&(r=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),n[yr]=p.extend({},p.info.people_properties(),n[yr]),this._send_request(n,r)});re.prototype.set_once=kr(function(e,t,r){var n=this.set_once_action(e,t);return p.isObject(e)&&(r=t),this._send_request(n,r)});re.prototype.unset=kr(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});re.prototype.increment=kr(function(e,t,r){var n={},i={};return p.isObject(e)?(p.each(e,function(s,o){if(!this._is_reserved_property(o))if(isNaN(parseFloat(s))){_e.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else i[o]=s},this),r=t):(p.isUndefined(t)&&(t=1),i[e]=t),n[Lr]=i,this._send_request(n,r)});re.prototype.append=kr(function(e,t,r){p.isObject(e)&&(r=t);var n=this.append_action(e,t);return this._send_request(n,r)});re.prototype.remove=kr(function(e,t,r){p.isObject(e)&&(r=t);var n=this.remove_action(e,t);return this._send_request(n,r)});re.prototype.union=kr(function(e,t,r){p.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});re.prototype.track_charge=kr(function(e,t,r){if(!p.isNumber(e)&&(e=parseFloat(e),isNaN(e))){_e.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",p.extend({$amount:e},t),r)});re.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};re.prototype.delete_user=function(){if(!this._identify_called()){_e.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};re.prototype.toString=function(){return this._mixpanel.toString()+".people"};re.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var r=this._mixpanel.get_property("$device_id"),n=this._mixpanel.get_property("$user_id"),i=this._mixpanel.get_property("$had_persisted_distinct_id");r&&(e.$device_id=r),n&&(e.$user_id=n),i&&(e.$had_persisted_distinct_id=i);var s=p.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:s,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),p.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),p.truncate(s,255))};re.prototype._get_config=function(e){return this._mixpanel.get_config(e)};re.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};re.prototype._enqueue=function(e){yr in e?this._mixpanel.persistence._add_to_people_queue(yr,e):cn in e?this._mixpanel.persistence._add_to_people_queue(cn,e):Tt in e?this._mixpanel.persistence._add_to_people_queue(Tt,e):Lr in e?this._mixpanel.persistence._add_to_people_queue(Lr,e):Wt in e?this._mixpanel.persistence._add_to_people_queue(Wt,e):er in e?this._mixpanel.persistence._add_to_people_queue(er,e):Nr in e?this._mixpanel.persistence._add_to_people_queue(Nr,e):_e.error("Invalid call to _enqueue():",e)};re.prototype._flush_one_queue=function(e,t,r,n){var i=this,s=p.extend({},this._mixpanel.persistence.load_queue(e)),o=s;!p.isUndefined(s)&&p.isObject(s)&&!p.isEmptyObject(s)&&(i._mixpanel.persistence._pop_from_people_queue(e,s),i._mixpanel.persistence.save(),n&&(o=n(s)),t.call(i,o,function(a,l){a===0&&i._mixpanel.persistence._add_to_people_queue(e,s),p.isUndefined(r)||r(a,l)}))};re.prototype._flush=function(e,t,r,n,i,s,o){var a=this;this._flush_one_queue(yr,this.set,e),this._flush_one_queue(cn,this.set_once,n),this._flush_one_queue(Tt,this.unset,s,function(_){return p.keys(_)}),this._flush_one_queue(Lr,this.increment,t),this._flush_one_queue(Nr,this.union,i);var l=this._mixpanel.persistence.load_queue(Wt);if(!p.isUndefined(l)&&p.isArray(l)&&l.length)for(var u,c=function(_,S){_===0&&a._mixpanel.persistence._add_to_people_queue(Wt,u),p.isUndefined(r)||r(_,S)},d=l.length-1;d>=0;d--)l=this._mixpanel.persistence.load_queue(Wt),u=l.pop(),a._mixpanel.persistence.save(),p.isEmptyObject(u)||a.append(u,c);var f=this._mixpanel.persistence.load_queue(er);if(!p.isUndefined(f)&&p.isArray(f)&&f.length)for(var h,g=function(_,S){_===0&&a._mixpanel.persistence._add_to_people_queue(er,h),p.isUndefined(o)||o(_,S)},m=f.length-1;m>=0;m--)f=this._mixpanel.persistence.load_queue(er),h=f.pop(),a._mixpanel.persistence.save(),p.isEmptyObject(h)||a.remove(h,g)};re.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};re.prototype.set=re.prototype.set;re.prototype.set_once=re.prototype.set_once;re.prototype.unset=re.prototype.unset;re.prototype.increment=re.prototype.increment;re.prototype.append=re.prototype.append;re.prototype.remove=re.prototype.remove;re.prototype.union=re.prototype.union;re.prototype.track_charge=re.prototype.track_charge;re.prototype.clear_charges=re.prototype.clear_charges;re.prototype.delete_user=re.prototype.delete_user;re.prototype.toString=re.prototype.toString;var Ho="__mps",Wo="__mpso",qo="__mpus",jo="__mpa",Vo="__mpap",zo="__mpr",Go="__mpu",Uc="$people_distinct_id",$i="__alias",Bn="__timers",Ah=[Ho,Wo,qo,jo,Vo,zo,Go,Uc,$i,Bn],le=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;t!=="cookie"&&t!=="localStorage"&&(_e.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),t==="localStorage"&&p.localStorage.is_supported()?this.storage=p.localStorage:this.storage=p.cookie,this.load(),this.update_config(e),this.upgrade(),this.save()};le.prototype.properties=function(){var e={};return this.load(),p.each(this.props,function(t,r){p.include(Ah,r)||(e[r]=t)}),e};le.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=p.extend({},e))}};le.prototype.upgrade=function(){var e,t;this.storage===p.localStorage?(e=p.cookie.parse(this.name),p.cookie.remove(this.name),p.cookie.remove(this.name,!0),e&&this.register_once(e)):this.storage===p.cookie&&(t=p.localStorage.parse(this.name),p.localStorage.remove(this.name),t&&this.register_once(t))};le.prototype.save=function(){this.disabled||this.storage.set(this.name,p.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};le.prototype.load_prop=function(e){return this.load(),this.props[e]};le.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};le.prototype.clear=function(){this.remove(),this.props={}};le.prototype.register_once=function(e,t,r){return p.isObject(e)?(typeof t>"u"&&(t="None"),this.expire_days=typeof r>"u"?this.default_expiry:r,this.load(),p.each(e,function(n,i){(!this.props.hasOwnProperty(i)||this.props[i]===t)&&(this.props[i]=n)},this),this.save(),!0):!1};le.prototype.register=function(e,t){return p.isObject(e)?(this.expire_days=typeof t>"u"?this.default_expiry:t,this.load(),p.extend(this.props,e),this.save(),!0):!1};le.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())};le.prototype.update_search_keyword=function(e){this.register(p.info.searchInfo(e))};le.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:p.info.referringDomain(e)||"$direct"},"")};le.prototype.get_referrer_info=function(){return p.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};le.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};le.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};le.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};le.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};le.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};le.prototype.get_cross_subdomain=function(){return this.cross_subdomain};le.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};le.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],i=this._get_or_create_queue(yr),s=this._get_or_create_queue(cn),o=this._get_or_create_queue(Tt),a=this._get_or_create_queue(Lr),l=this._get_or_create_queue(Nr),u=this._get_or_create_queue(er,[]),c=this._get_or_create_queue(Wt,[]);r===Ho?(p.extend(i,n),this._pop_from_people_queue(Lr,n),this._pop_from_people_queue(Nr,n),this._pop_from_people_queue(Tt,n)):r===Wo?(p.each(n,function(d,f){f in s||(s[f]=d)}),this._pop_from_people_queue(Tt,n)):r===qo?p.each(n,function(d){p.each([i,s,a,l],function(f){d in f&&delete f[d]}),p.each(c,function(f){d in f&&delete f[d]}),o[d]=!0}):r===jo?(p.each(n,function(d,f){f in i?i[f]+=d:(f in a||(a[f]=0),a[f]+=d)},this),this._pop_from_people_queue(Tt,n)):r===Go?(p.each(n,function(d,f){p.isArray(d)&&(f in l||(l[f]=[]),l[f]=l[f].concat(d))}),this._pop_from_people_queue(Tt,n)):r===zo?(u.push(n),this._pop_from_people_queue(Wt,n)):r===Vo&&(c.push(n),this._pop_from_people_queue(Tt,n)),_e.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),_e.log(t),this.save()};le.prototype._pop_from_people_queue=function(e,t){var r=this.props[this._get_queue_key(e)];p.isUndefined(r)||p.each(t,function(n,i){e===Wt||e===er?p.each(r,function(s){s[i]===n&&delete s[i]}):delete r[i]},this)};le.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))};le.prototype._get_queue_key=function(e){if(e===yr)return Ho;if(e===cn)return Wo;if(e===Tt)return qo;if(e===Lr)return jo;if(e===Wt)return Vo;if(e===er)return zo;if(e===Nr)return Go;_e.error("Invalid queue:",e)};le.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=p.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)};le.prototype.set_event_timer=function(e,t){var r=this.load_prop(Bn)||{};r[e]=t,this.props[Bn]=r,this.save()};le.prototype.remove_event_timer=function(e){var t=this.load_prop(Bn)||{},r=t[e];return p.isUndefined(r)||(delete this.props[Bn][e],this.save()),r};var Ko,Hc=function(e,t){throw new Error(e+" not available in this build.")},tt,Wc=0,Oh=1,Rh=function(e){return e},Un=function(){},kt="mixpanel",qc="base64",Dh="json",Yo="$device:",Jr=K.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,jc=!Jr&&Bt.indexOf("MSIE")===-1&&Bt.indexOf("Mozilla")===-1,Fi=null;hr.sendBeacon&&(Fi=function(){return hr.sendBeacon.apply(hr,arguments)});var Vc={track:"track/",engage:"engage/",groups:"groups/",record:"record/"},Va={api_host:"https://api-js.mixpanel.com",api_routes:Vc,api_method:"POST",api_transport:"XHR",api_payload_format:qc,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Un,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Un,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video",record_canvas:!1,record_collect_fonts:!1,record_idle_timeout_ms:30*60*1e3,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:In,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},zc=!1,M=function(){},oo=function(e,t,r){var n,i=r===kt?tt:tt[r];if(i&&Ko===Wc)n=i;else{if(i&&!p.isArray(i)){_e.error("You have already initialized "+r);return}n=new M}if(n._cached_groups={},n._init(e,t,r),n.people=new re,n.people._init(n),!n.get_config("skip_first_touch_marketing")){var s=p.info.campaignParams(null),o={},a=!1;p.each(s,function(l,u){o["initial_"+u]=l,l&&(a=!0)}),a&&n.people.set_once(o)}return Ht.DEBUG=Ht.DEBUG||n.get_config("debug"),!p.isUndefined(i)&&p.isArray(i)&&(n._execute_array.call(n.people,i.people),n._execute_array(i)),n};M.prototype.init=function(e,t,r){if(p.isUndefined(r)){this.report_error("You must name your new library: init(token, config, name)");return}if(r===kt){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var n=oo(e,t,r);return tt[r]=n,n._loaded(),n};M.prototype._init=function(e,t,r){t=t||{},this.__loaded=!0,this.config={};var n={};if(!("api_payload_format"in t)){var i=t.api_host||Va.api_host;i.match(/\.mixpanel\.com/)&&(n.api_payload_format=Dh)}if(this.set_config(p.extend({},Va,n,t,{name:r,token:e,callback_fn:(r===kt?r:kt+"."+r)+"._jsc"})),this._jsc=Un,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!p.localStorage.is_supported(!0)||!Jr)this._batch_requests=!1,_e.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),p.each(this.get_batcher_configs(),function(l){_e.log("Clearing batch queue "+l.queue_key),p.localStorage.remove(l.queue_key)});else if(this.init_batchers(),Fi&&K.addEventListener){var s=p.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);K.addEventListener("pagehide",function(l){l.persisted&&s()}),K.addEventListener("visibilitychange",function(){Ie.visibilityState==="hidden"&&s()})}}this.persistence=this.cookie=new le(this.config),this.unpersisted_superprops={},this._gdpr_init();var o=p.UUID();this.get_distinct_id()||this.register_once({distinct_id:Yo+o,$device_id:o},"");var a=this.get_config("track_pageview");a&&this._init_url_change_tracking(a),this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent")&&this.start_session_recording()};M.prototype.start_session_recording=wr(function(){if(!K.MutationObserver){_e.critical("Browser does not support MutationObserver; skipping session recording");return}var e=p.bind(function(){this._recorder=this._recorder||new K.__mp_recorder(this),this._recorder.startRecording()},this);p.isUndefined(K.__mp_recorder)?Hc(this.get_config("recorder_src"),e):e()});M.prototype.stop_session_recording=function(){this._recorder?this._recorder.stopRecording():_e.critical("Session recorder module not loaded")};M.prototype.get_session_recording_properties=function(){var e={},t=this._get_session_replay_id();return t&&(e.$mp_replay_id=t),e};M.prototype.get_session_replay_url=function(){var e=null,t=this._get_session_replay_id();if(t){var r=p.HTTPBuildQuery({replay_id:t,distinct_id:this.get_distinct_id(),token:this.get_config("token")});e="https://mixpanel.com/projects/replay-redirect?"+r}return e};M.prototype._get_session_replay_id=function(){var e=null;return this._recorder&&(e=this._recorder.replayId),e||null};M.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=p.info.campaignParams(null);p.each(e,(function(t,r){this.unregister(r)}).bind(this))}};M.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(Ie.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(p.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(Ie.referrer)};M.prototype._dom_loaded=function(){p.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||p.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};M.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!zc)return this.__dom_loaded_queue.push([e,t]),!1;var r=new e().init(this);return r.track.apply(r,t)};M.prototype._init_url_change_tracking=function(e){var t="",r=this.track_pageview();if(r&&(t=p.info.currentUrl()),p.include(["full-url","url-with-path-and-query-string","url-with-path"],e)){K.addEventListener("popstate",function(){K.dispatchEvent(new Event("mp_locationchange"))}),K.addEventListener("hashchange",function(){K.dispatchEvent(new Event("mp_locationchange"))});var n=K.history.pushState;typeof n=="function"&&(K.history.pushState=function(s,o,a){n.call(K.history,s,o,a),K.dispatchEvent(new Event("mp_locationchange"))});var i=K.history.replaceState;typeof i=="function"&&(K.history.replaceState=function(s,o,a){i.call(K.history,s,o,a),K.dispatchEvent(new Event("mp_locationchange"))}),K.addEventListener("mp_locationchange",(function(){var s=p.info.currentUrl(),o=!1;if(e==="full-url"?o=s!==t:e==="url-with-path-and-query-string"?o=s.split("#")[0]!==t.split("#")[0]:e==="url-with-path"&&(o=s.split("#")[0].split("?")[0]!==t.split("#")[0].split("?")[0]),o){var a=this.track_pageview();a&&(t=s)}}).bind(this))}};M.prototype._prepare_callback=function(e,t){if(p.isUndefined(e))return null;if(Jr){var r=function(o){e(o,t)};return r}else{var n=this._jsc,i=""+Math.floor(Math.random()*1e8),s=this.get_config("callback_fn")+"["+i+"]";return n[i]=function(o){delete n[i],e(o,t)},s}};M.prototype._send_request=function(e,t,r,n){var i=!0;if(jc)return this.__request_queue.push(arguments),i;var s={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},o=null;!n&&(p.isFunction(r)||typeof r=="string")&&(n=r,r=null),r=p.extend(s,r||{}),Jr||(r.method="GET");var a=r.method==="POST",l=Fi&&a&&r.transport.toLowerCase()==="sendbeacon",u=r.verbose;t.verbose&&(u=!0),this.get_config("test")&&(t.test=1),u&&(t.verbose=1),this.get_config("img")&&(t.img=1),Jr||(n?t.callback=n:(u||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=new Date().getTime().toString(),a&&(o="data="+encodeURIComponent(t.data),delete t.data),e+="?"+p.HTTPBuildQuery(t);var c=this;if("img"in t){var d=Ie.createElement("img");d.src=e,Ie.body.appendChild(d)}else if(l){try{i=Fi(e,o)}catch(S){c.report_error(S),i=!1}try{n&&n(i?1:0)}catch(S){c.report_error(S)}}else if(Jr)try{var f=new XMLHttpRequest;f.open(r.method,e,!0);var h=this.get_config("xhr_headers");if(a&&(h["Content-Type"]="application/x-www-form-urlencoded"),p.each(h,function(S,k){f.setRequestHeader(k,S)}),r.timeout_ms&&typeof f.timeout<"u"){f.timeout=r.timeout_ms;var g=new Date().getTime()}f.withCredentials=!0,f.onreadystatechange=function(){if(f.readyState===4)if(f.status===200){if(n)if(u){var S;try{S=p.JSONDecode(f.responseText)}catch(x){if(c.report_error(x),r.ignore_json_errors)S=f.responseText;else return}n(S)}else n(Number(f.responseText))}else{var k;if(f.timeout&&!f.status&&new Date().getTime()-g>=f.timeout?k="timeout":k="Bad HTTP status: "+f.status+" "+f.statusText,c.report_error(k),n)if(u){var b=f.responseHeaders||{};n({status:0,httpStatusCode:f.status,error:k,retryAfter:b["Retry-After"]})}else n(0)}},f.send(o)}catch(S){c.report_error(S),i=!1}else{var m=Ie.createElement("script");m.type="text/javascript",m.async=!0,m.defer=!0,m.src=e;var _=Ie.getElementsByTagName("script")[0];_.parentNode.insertBefore(m,_)}return i};M.prototype._execute_array=function(e){var t,r=[],n=[],i=[];p.each(e,function(o){o&&(t=o[0],p.isArray(t)?i.push(o):typeof o=="function"?o.call(this):p.isArray(o)&&t==="alias"?r.push(o):p.isArray(o)&&t.indexOf("track")!==-1&&typeof this[t]=="function"?i.push(o):n.push(o))},this);var s=function(o,a){p.each(o,function(l){if(p.isArray(l[0])){var u=a;p.each(l,function(c){u=u[c[0]].apply(u,c.slice(1))})}else this[l[0]].apply(this,l.slice(1))},a)};s(r,this),s(n,this),s(i,this)};M.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};M.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token"),t=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+t.track,queue_key:e+"_ev"},people:{type:"people",endpoint:"/"+t.engage,queue_key:e+"_pp"},groups:{type:"groups",endpoint:"/"+t.groups,queue_key:e+"_gr"}},this._batcher_configs};M.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=p.bind(function(r){return new Ct(r.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:p.bind(function(n,i,s){this._send_request(this.get_config("api_host")+r.endpoint,this._encode_data_for_request(n),i,this._prepare_callback(s,n))},this),beforeSendHook:p.bind(function(n){return this._run_hook("before_send_"+r.type,n)},this),stopAllBatchingFunc:p.bind(this.stop_batch_senders,this),usePersistence:!0})},this),t=this.get_batcher_configs();this.request_batchers={events:e(t.events),people:e(t.people),groups:e(t.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};M.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,p.each(this.request_batchers,function(e){e.start()}))};M.prototype.stop_batch_senders=function(){this._batch_requests=!1,p.each(this.request_batchers,function(e){e.stop(),e.clear()})};M.prototype.push=function(e){this._execute_array([e])};M.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};M.prototype._encode_data_for_request=function(e){var t=p.JSONEncode(e);return this.get_config("api_payload_format")===qc&&(t=p.base64Encode(t)),{data:t}};M.prototype._track_or_batch=function(e,t){var r=p.truncate(e.data,255),n=e.endpoint,i=e.batcher,s=e.should_send_immediately,o=e.send_request_options||{};t=t||Un;var a=!0,l=p.bind(function(){return o.skip_hooks||(r=this._run_hook("before_send_"+e.type,r)),r?(_e.log("MIXPANEL REQUEST:"),_e.log(r),this._send_request(n,this._encode_data_for_request(r),o,this._prepare_callback(t,r))):null},this);return this._batch_requests&&!s?i.enqueue(r).then(function(u){u?t(1,r):l()}):a=l(),a&&r};M.prototype.track=wr(function(e,t,r,n){!n&&typeof r=="function"&&(n=r,r=null),r=r||{};var i=r.transport;i&&(r.transport=i);var s=r.send_immediately;if(typeof n!="function"&&(n=Un),p.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){n(0);return}t=p.extend({},t),t.token=this.get_config("token");var o=this.persistence.remove_event_timer(e);if(!p.isUndefined(o)){var a=new Date().getTime()-o;t.$duration=parseFloat((a/1e3).toFixed(3))}this._set_default_superprops();var l=this.get_config("track_marketing")?p.info.marketingParams():{};t=p.extend({},p.info.properties({mp_loader:this.get_config("mp_loader")}),l,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),t);var u=this.get_config("property_blacklist");p.isArray(u)?p.each(u,function(f){delete t[f]}):this.report_error("Invalid value for property_blacklist config: "+u);var c={event:e,properties:t},d=this._track_or_batch({type:"events",data:c,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:r},n);return d});M.prototype.set_group=wr(function(e,t,r){p.isArray(t)||(t=[t]);var n={};return n[e]=t,this.register(n),this.people.set(e,t,r)});M.prototype.add_group=wr(function(e,t,r){var n=this.get_property(e),i={};return n===void 0?(i[e]=[t],this.register(i)):n.indexOf(t)===-1&&(n.push(t),i[e]=n,this.register(i)),this.people.union(e,t,r)});M.prototype.remove_group=wr(function(e,t,r){var n=this.get_property(e);if(n!==void 0){var i=n.indexOf(t);i>-1&&(n.splice(i,1),this.register({group_key:n})),n.length===0&&this.unregister(e)}return this.people.remove(e,t,r)});M.prototype.track_with_groups=wr(function(e,t,r,n){var i=p.extend({},t||{});return p.each(r,function(s,o){s!=null&&(i[o]=s)}),this.track(e,i,n)});M.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)};M.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]};M.prototype.get_group=function(e,t){var r=this._create_map_key(e,t),n=this._cached_groups[r];return(n===void 0||n._group_key!==e||n._group_id!==t)&&(n=new Pe,n._init(this,e,t),this._cached_groups[r]=n),n};M.prototype.track_pageview=wr(function(e,t){typeof e!="object"&&(e={}),t=t||{};var r=t.event_name||"$mp_web_page_view",n=p.extend(p.info.mpPageViewProperties(),p.info.campaignParams(),p.info.clickParams()),i=p.extend({},n,e);return this.track(r,i)});M.prototype.track_links=function(){return this._track_dom.call(this,ln,arguments)};M.prototype.track_forms=function(){return this._track_dom.call(this,ss,arguments)};M.prototype.time_event=function(e){if(p.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var Ph={persistent:!0},Jo=function(e){var t;return p.isObject(e)?t=e:p.isUndefined(e)?t={}:t={days:e},p.extend({},Ph,t)};M.prototype.register=function(e,t){var r=Jo(t);r.persistent?this.persistence.register(e,r.days):p.extend(this.unpersisted_superprops,e)};M.prototype.register_once=function(e,t,r){var n=Jo(r);n.persistent?this.persistence.register_once(e,t,n.days):(typeof t>"u"&&(t="None"),p.each(e,function(i,s){(!this.unpersisted_superprops.hasOwnProperty(s)||this.unpersisted_superprops[s]===t)&&(this.unpersisted_superprops[s]=i)},this))};M.prototype.unregister=function(e,t){t=Jo(t),t.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]};M.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)};M.prototype.identify=function(e,t,r,n,i,s,o,a){var l=this.get_distinct_id();if(e&&l!==e){if(typeof e=="string"&&e.indexOf(Yo)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var u=l;this.register_once({$had_persisted_distinct_id:!0,$device_id:u},"")}e!==l&&e!==this.get_property($i)&&(this.unregister($i),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,r,n,i,s,o,a),e!==l&&this.track("$identify",{distinct_id:e,$anon_distinct_id:l},{skip_hooks:!0})};M.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=p.UUID();this.register_once({distinct_id:Yo+e,$device_id:e},"")};M.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};M.prototype.alias=function(e,t){if(e===this.get_property(Uc))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var r=this;return p.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single($i,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},function(){r.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};M.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};M.prototype.set_config=function(e){if(p.isObject(e)){p.extend(this.config,e);var t=e.batch_size;t&&p.each(this.request_batchers,function(r){r.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Ht.DEBUG=Ht.DEBUG||this.get_config("debug")}};M.prototype.get_config=function(e){return this.config[e]};M.prototype._run_hook=function(e){var t=(this.config.hooks[e]||Rh).apply(this,fr.call(arguments,1));return typeof t>"u"&&(this.report_error(e+" hook did not return a value"),t=null),t};M.prototype.get_property=function(e){return this.persistence.load_prop([e])};M.prototype.toString=function(){var e=this.get_config("name");return e!==kt&&(e=kt+"."+e),e};M.prototype._event_is_disabled=function(e){return p.isBlockedUA(Bt)||this._flags.disable_all_events||p.include(this.__disabled_events,e)};M.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&p.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||p.cookie.get("mp_optout"))&&(p.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};M.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else if(e&&e.enable_persistence)t=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==t&&this.persistence.set_disabled(t),t?this.stop_batch_senders():this._batchers_were_started&&this.start_batch_senders()};M.prototype._gdpr_call_func=function(e,t){return t=p.extend({track:p.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),p.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})};M.prototype.opt_in_tracking=function(e){e=p.extend({enable_persistence:!0},e),this._gdpr_call_func(vh,e),this._gdpr_update_persistence(e)};M.prototype.opt_out_tracking=function(e){e=p.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(bh,e),this._gdpr_update_persistence(e)};M.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(wh,e)};M.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(Lc,e)};M.prototype.clear_opt_in_out_tracking=function(e){e=p.extend({enable_persistence:!0},e),this._gdpr_call_func(kh,e),this._gdpr_update_persistence(e)};M.prototype.report_error=function(e,t){_e.error.apply(_e.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(r){_e.error(r)}};M.prototype.init=M.prototype.init;M.prototype.reset=M.prototype.reset;M.prototype.disable=M.prototype.disable;M.prototype.time_event=M.prototype.time_event;M.prototype.track=M.prototype.track;M.prototype.track_links=M.prototype.track_links;M.prototype.track_forms=M.prototype.track_forms;M.prototype.track_pageview=M.prototype.track_pageview;M.prototype.register=M.prototype.register;M.prototype.register_once=M.prototype.register_once;M.prototype.unregister=M.prototype.unregister;M.prototype.identify=M.prototype.identify;M.prototype.alias=M.prototype.alias;M.prototype.name_tag=M.prototype.name_tag;M.prototype.set_config=M.prototype.set_config;M.prototype.get_config=M.prototype.get_config;M.prototype.get_property=M.prototype.get_property;M.prototype.get_distinct_id=M.prototype.get_distinct_id;M.prototype.toString=M.prototype.toString;M.prototype.opt_out_tracking=M.prototype.opt_out_tracking;M.prototype.opt_in_tracking=M.prototype.opt_in_tracking;M.prototype.has_opted_out_tracking=M.prototype.has_opted_out_tracking;M.prototype.has_opted_in_tracking=M.prototype.has_opted_in_tracking;M.prototype.clear_opt_in_out_tracking=M.prototype.clear_opt_in_out_tracking;M.prototype.get_group=M.prototype.get_group;M.prototype.set_group=M.prototype.set_group;M.prototype.add_group=M.prototype.add_group;M.prototype.remove_group=M.prototype.remove_group;M.prototype.track_with_groups=M.prototype.track_with_groups;M.prototype.start_batch_senders=M.prototype.start_batch_senders;M.prototype.stop_batch_senders=M.prototype.stop_batch_senders;M.prototype.start_session_recording=M.prototype.start_session_recording;M.prototype.stop_session_recording=M.prototype.stop_session_recording;M.prototype.get_session_recording_properties=M.prototype.get_session_recording_properties;M.prototype.get_session_replay_url=M.prototype.get_session_replay_url;M.prototype.DEFAULT_API_ROUTES=Vc;le.prototype.properties=le.prototype.properties;le.prototype.update_search_keyword=le.prototype.update_search_keyword;le.prototype.update_referrer_info=le.prototype.update_referrer_info;le.prototype.get_cross_subdomain=le.prototype.get_cross_subdomain;le.prototype.clear=le.prototype.clear;var Kr={},Lh=function(){p.each(Kr,function(e,t){t!==kt&&(tt[t]=e)}),tt._=p},Nh=function(){tt.init=function(e,t,r){if(r)return tt[r]||(tt[r]=Kr[r]=oo(e,t,r),tt[r]._loaded()),tt[r];var n=tt;Kr[kt]?n=Kr[kt]:e&&(n=oo(e,t,kt),n._loaded(),Kr[kt]=n),tt=n,Ko===Oh&&(K[kt]=tt),Lh()}},$h=function(){function e(){e.done||(e.done=!0,zc=!0,jc=!1,p.each(Kr,function(n){n._dom_loaded()}))}function t(){try{Ie.documentElement.doScroll("left")}catch{setTimeout(t,1);return}e()}if(Ie.addEventListener)Ie.readyState==="complete"?e():Ie.addEventListener("DOMContentLoaded",e,!1);else if(Ie.attachEvent){Ie.attachEvent("onreadystatechange",e);var r=!1;try{r=K.frameElement===null}catch{}Ie.documentElement.doScroll&&r&&t()}p.register_event(K,"load",e,!0)};function Fh(e){return Hc=e,Ko=Wc,tt=new M,Nh(),tt.init(),$h(),tt}function Bh(e,t){t()}var Gc=Fh(Bh);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qo(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Ee={},Qr=[],qt=()=>{},Uh=()=>!1,os=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Xo=e=>e.startsWith("onUpdate:"),Qe=Object.assign,Zo=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Hh=Object.prototype.hasOwnProperty,ke=(e,t)=>Hh.call(e,t),J=Array.isArray,Xr=e=>ei(e)==="[object Map]",as=e=>ei(e)==="[object Set]",za=e=>ei(e)==="[object Date]",te=e=>typeof e=="function",He=e=>typeof e=="string",Rt=e=>typeof e=="symbol",Re=e=>e!==null&&typeof e=="object",Kc=e=>(Re(e)||te(e))&&te(e.then)&&te(e.catch),Yc=Object.prototype.toString,ei=e=>Yc.call(e),Wh=e=>ei(e).slice(8,-1),Jc=e=>ei(e)==="[object Object]",ea=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,An=Qo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ls=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},qh=/-(\w)/g,xt=ls(e=>e.replace(qh,(t,r)=>r?r.toUpperCase():"")),jh=/\B([A-Z])/g,Fr=ls(e=>e.replace(jh,"-$1").toLowerCase()),cs=ls(e=>e.charAt(0).toUpperCase()+e.slice(1)),Os=ls(e=>e?`on${cs(e)}`:""),pr=(e,t)=>!Object.is(e,t),vi=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Qc=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},ao=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ga;const us=()=>Ga||(Ga=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jt(e){if(J(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=He(n)?Kh(n):jt(n);if(i)for(const s in i)t[s]=i[s]}return t}else if(He(e)||Re(e))return e}const Vh=/;(?![^(]*\))/g,zh=/:([^]+)/,Gh=/\/\*[^]*?\*\//g;function Kh(e){const t={};return e.replace(Gh,"").split(Vh).forEach(r=>{if(r){const n=r.split(zh);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Fe(e){let t="";if(He(e))t=e;else if(J(e))for(let r=0;r<e.length;r++){const n=Fe(e[r]);n&&(t+=n+" ")}else if(Re(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Yh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jh=Qo(Yh);function Xc(e){return!!e||e===""}function Qh(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=ds(e[n],t[n]);return r}function ds(e,t){if(e===t)return!0;let r=za(e),n=za(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Rt(e),n=Rt(t),r||n)return e===t;if(r=J(e),n=J(t),r||n)return r&&n?Qh(e,t):!1;if(r=Re(e),n=Re(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!ds(e[o],t[o]))return!1}}return String(e)===String(t)}function Zc(e,t){return e.findIndex(r=>ds(r,t))}const eu=e=>!!(e&&e.__v_isRef===!0),ie=e=>He(e)?e:e==null?"":J(e)||Re(e)&&(e.toString===Yc||!te(e.toString))?eu(e)?ie(e.value):JSON.stringify(e,tu,2):String(e),tu=(e,t)=>eu(t)?tu(e,t.value):Xr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],s)=>(r[Rs(n,s)+" =>"]=i,r),{})}:as(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Rs(r))}:Rt(t)?Rs(t):Re(t)&&!J(t)&&!Jc(t)?String(t):t,Rs=(e,t="")=>{var r;return Rt(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bt;class Xh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=bt,!t&&bt&&(this.index=(bt.scopes||(bt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=bt;try{return bt=this,t()}finally{bt=r}}}on(){bt=this}off(){bt=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Zh(){return bt}let Oe;const Ds=new WeakSet;class ru{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,bt&&bt.active&&bt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ds.has(this)&&(Ds.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||iu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ka(this),su(this);const t=Oe,r=Ot;Oe=this,Ot=!0;try{return this.fn()}finally{ou(this),Oe=t,Ot=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)na(t);this.deps=this.depsTail=void 0,Ka(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ds.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lo(this)&&this.run()}get dirty(){return lo(this)}}let nu=0,On,Rn;function iu(e,t=!1){if(e.flags|=8,t){e.next=Rn,Rn=e;return}e.next=On,On=e}function ta(){nu++}function ra(){if(--nu>0)return;if(Rn){let t=Rn;for(Rn=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;On;){let t=On;for(On=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function su(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ou(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),na(n),ep(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function lo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(au(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function au(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hn))return;e.globalVersion=Hn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!lo(e)){e.flags&=-3;return}const r=Oe,n=Ot;Oe=e,Ot=!0;try{su(e);const i=e.fn(e._value);(t.version===0||pr(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Oe=r,Ot=n,ou(e),e.flags&=-3}}function na(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)na(s,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function ep(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Ot=!0;const lu=[];function Sr(){lu.push(Ot),Ot=!1}function xr(){const e=lu.pop();Ot=e===void 0?!0:e}function Ka(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Oe;Oe=void 0;try{t()}finally{Oe=r}}}let Hn=0;class tp{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ia{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Oe||!Ot||Oe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Oe)r=this.activeLink=new tp(Oe,this),Oe.deps?(r.prevDep=Oe.depsTail,Oe.depsTail.nextDep=r,Oe.depsTail=r):Oe.deps=Oe.depsTail=r,cu(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Oe.depsTail,r.nextDep=void 0,Oe.depsTail.nextDep=r,Oe.depsTail=r,Oe.deps===r&&(Oe.deps=n)}return r}trigger(t){this.version++,Hn++,this.notify(t)}notify(t){ta();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{ra()}}}function cu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)cu(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const co=new WeakMap,Dr=Symbol(""),uo=Symbol(""),Wn=Symbol("");function rt(e,t,r){if(Ot&&Oe){let n=co.get(e);n||co.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new ia),i.map=n,i.key=r),i.track()}}function Qt(e,t,r,n,i,s){const o=co.get(e);if(!o){Hn++;return}const a=l=>{l&&l.trigger()};if(ta(),t==="clear")o.forEach(a);else{const l=J(e),u=l&&ea(r);if(l&&r==="length"){const c=Number(n);o.forEach((d,f)=>{(f==="length"||f===Wn||!Rt(f)&&f>=c)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),u&&a(o.get(Wn)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Dr)),Xr(e)&&a(o.get(uo)));break;case"delete":l||(a(o.get(Dr)),Xr(e)&&a(o.get(uo)));break;case"set":Xr(e)&&a(o.get(Dr));break}}ra()}function Ur(e){const t=we(e);return t===e?t:(rt(t,"iterate",Wn),St(e)?t:t.map(nt))}function fs(e){return rt(e=we(e),"iterate",Wn),e}const rp={__proto__:null,[Symbol.iterator](){return Ps(this,Symbol.iterator,nt)},concat(...e){return Ur(this).concat(...e.map(t=>J(t)?Ur(t):t))},entries(){return Ps(this,"entries",e=>(e[1]=nt(e[1]),e))},every(e,t){return Gt(this,"every",e,t,void 0,arguments)},filter(e,t){return Gt(this,"filter",e,t,r=>r.map(nt),arguments)},find(e,t){return Gt(this,"find",e,t,nt,arguments)},findIndex(e,t){return Gt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Gt(this,"findLast",e,t,nt,arguments)},findLastIndex(e,t){return Gt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Gt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ls(this,"includes",e)},indexOf(...e){return Ls(this,"indexOf",e)},join(e){return Ur(this).join(e)},lastIndexOf(...e){return Ls(this,"lastIndexOf",e)},map(e,t){return Gt(this,"map",e,t,void 0,arguments)},pop(){return yn(this,"pop")},push(...e){return yn(this,"push",e)},reduce(e,...t){return Ya(this,"reduce",e,t)},reduceRight(e,...t){return Ya(this,"reduceRight",e,t)},shift(){return yn(this,"shift")},some(e,t){return Gt(this,"some",e,t,void 0,arguments)},splice(...e){return yn(this,"splice",e)},toReversed(){return Ur(this).toReversed()},toSorted(e){return Ur(this).toSorted(e)},toSpliced(...e){return Ur(this).toSpliced(...e)},unshift(...e){return yn(this,"unshift",e)},values(){return Ps(this,"values",nt)}};function Ps(e,t,r){const n=fs(e),i=n[t]();return n!==e&&!St(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=r(s.value)),s}),i}const np=Array.prototype;function Gt(e,t,r,n,i,s){const o=fs(e),a=o!==e&&!St(e),l=o[t];if(l!==np[t]){const d=l.apply(e,s);return a?nt(d):d}let u=r;o!==e&&(a?u=function(d,f){return r.call(this,nt(d),f,e)}:r.length>2&&(u=function(d,f){return r.call(this,d,f,e)}));const c=l.call(o,u,n);return a&&i?i(c):c}function Ya(e,t,r,n){const i=fs(e);let s=r;return i!==e&&(St(e)?r.length>3&&(s=function(o,a,l){return r.call(this,o,a,l,e)}):s=function(o,a,l){return r.call(this,o,nt(a),l,e)}),i[t](s,...n)}function Ls(e,t,r){const n=we(e);rt(n,"iterate",Wn);const i=n[t](...r);return(i===-1||i===!1)&&aa(r[0])?(r[0]=we(r[0]),n[t](...r)):i}function yn(e,t,r=[]){Sr(),ta();const n=we(e)[t].apply(e,r);return ra(),xr(),n}const ip=Qo("__proto__,__v_isRef,__isVue"),uu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rt));function sp(e){Rt(e)||(e=String(e));const t=we(this);return rt(t,"has",e),t.hasOwnProperty(e)}class du{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?gp:gu:s?pu:hu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=J(t);if(!i){let l;if(o&&(l=rp[r]))return l;if(r==="hasOwnProperty")return sp}const a=Reflect.get(t,r,st(t)?t:n);return(Rt(r)?uu.has(r):ip(r))||(i||rt(t,"get",r),s)?a:st(a)?o&&ea(r)?a:a.value:Re(a)?i?yu(a):hs(a):a}}class fu extends du{constructor(t=!1){super(!1,t)}set(t,r,n,i){let s=t[r];if(!this._isShallow){const l=$r(s);if(!St(n)&&!$r(n)&&(s=we(s),n=we(n)),!J(t)&&st(s)&&!st(n))return l?!1:(s.value=n,!0)}const o=J(t)&&ea(r)?Number(r)<t.length:ke(t,r),a=Reflect.set(t,r,n,st(t)?t:i);return t===we(i)&&(o?pr(n,s)&&Qt(t,"set",r,n):Qt(t,"add",r,n)),a}deleteProperty(t,r){const n=ke(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&Qt(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Rt(r)||!uu.has(r))&&rt(t,"has",r),n}ownKeys(t){return rt(t,"iterate",J(t)?"length":Dr),Reflect.ownKeys(t)}}class op extends du{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const ap=new fu,lp=new op,cp=new fu(!0);const fo=e=>e,ui=e=>Reflect.getPrototypeOf(e);function up(e,t,r){return function(...n){const i=this.__v_raw,s=we(i),o=Xr(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...n),c=r?fo:t?ho:nt;return!t&&rt(s,"iterate",l?uo:Dr),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function di(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function dp(e,t){const r={get(i){const s=this.__v_raw,o=we(s),a=we(i);e||(pr(i,a)&&rt(o,"get",i),rt(o,"get",a));const{has:l}=ui(o),u=t?fo:e?ho:nt;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!e&&rt(we(i),"iterate",Dr),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=we(s),a=we(i);return e||(pr(i,a)&&rt(o,"has",i),rt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=we(a),u=t?fo:e?ho:nt;return!e&&rt(l,"iterate",Dr),a.forEach((c,d)=>i.call(s,u(c),u(d),o))}};return Qe(r,e?{add:di("add"),set:di("set"),delete:di("delete"),clear:di("clear")}:{add(i){!t&&!St(i)&&!$r(i)&&(i=we(i));const s=we(this);return ui(s).has.call(s,i)||(s.add(i),Qt(s,"add",i,i)),this},set(i,s){!t&&!St(s)&&!$r(s)&&(s=we(s));const o=we(this),{has:a,get:l}=ui(o);let u=a.call(o,i);u||(i=we(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?pr(s,c)&&Qt(o,"set",i,s):Qt(o,"add",i,s),this},delete(i){const s=we(this),{has:o,get:a}=ui(s);let l=o.call(s,i);l||(i=we(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&Qt(s,"delete",i,void 0),u},clear(){const i=we(this),s=i.size!==0,o=i.clear();return s&&Qt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=up(i,e,t)}),r}function sa(e,t){const r=dp(e,t);return(n,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(ke(r,i)&&i in n?r:n,i,s)}const fp={get:sa(!1,!1)},hp={get:sa(!1,!0)},pp={get:sa(!0,!1)};const hu=new WeakMap,pu=new WeakMap,gu=new WeakMap,gp=new WeakMap;function mp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yp(e){return e.__v_skip||!Object.isExtensible(e)?0:mp(Wh(e))}function hs(e){return $r(e)?e:oa(e,!1,ap,fp,hu)}function mu(e){return oa(e,!1,cp,hp,pu)}function yu(e){return oa(e,!0,lp,pp,gu)}function oa(e,t,r,n,i){if(!Re(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=yp(e);if(o===0)return e;const a=new Proxy(e,o===2?n:r);return i.set(e,a),a}function Zr(e){return $r(e)?Zr(e.__v_raw):!!(e&&e.__v_isReactive)}function $r(e){return!!(e&&e.__v_isReadonly)}function St(e){return!!(e&&e.__v_isShallow)}function aa(e){return e?!!e.__v_raw:!1}function we(e){const t=e&&e.__v_raw;return t?we(t):e}function _p(e){return!ke(e,"__v_skip")&&Object.isExtensible(e)&&Qc(e,"__v_skip",!0),e}const nt=e=>Re(e)?hs(e):e,ho=e=>Re(e)?yu(e):e;function st(e){return e?e.__v_isRef===!0:!1}function Be(e){return _u(e,!1)}function po(e){return _u(e,!0)}function _u(e,t){return st(e)?e:new vp(e,t)}class vp{constructor(t,r){this.dep=new ia,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:we(t),this._value=r?t:nt(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||St(t)||$r(t);t=n?t:we(t),pr(t,r)&&(this._rawValue=t,this._value=n?t:nt(t),this.dep.trigger())}}function Ke(e){return st(e)?e.value:e}const bp={get:(e,t,r)=>t==="__v_raw"?e:Ke(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return st(i)&&!st(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function vu(e){return Zr(e)?e:new Proxy(e,bp)}class wp{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new ia(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Oe!==this)return iu(this,!0),!0}get value(){const t=this.dep.track();return au(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function kp(e,t,r=!1){let n,i;return te(e)?n=e:(n=e.get,i=e.set),new wp(n,i,r)}const fi={},Bi=new WeakMap;let Tr;function Sp(e,t=!1,r=Tr){if(r){let n=Bi.get(r);n||Bi.set(r,n=[]),n.push(e)}}function xp(e,t,r=Ee){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=r,u=x=>i?x:St(x)||i===!1||i===0?Xt(x,1):Xt(x);let c,d,f,h,g=!1,m=!1;if(st(e)?(d=()=>e.value,g=St(e)):Zr(e)?(d=()=>u(e),g=!0):J(e)?(m=!0,g=e.some(x=>Zr(x)||St(x)),d=()=>e.map(x=>{if(st(x))return x.value;if(Zr(x))return u(x);if(te(x))return l?l(x,2):x()})):te(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){Sr();try{f()}finally{xr()}}const x=Tr;Tr=c;try{return l?l(e,3,[h]):e(h)}finally{Tr=x}}:d=qt,t&&i){const x=d,A=i===!0?1/0:i;d=()=>Xt(x(),A)}const _=Zh(),S=()=>{c.stop(),_&&_.active&&Zo(_.effects,c)};if(s&&t){const x=t;t=(...A)=>{x(...A),S()}}let k=m?new Array(e.length).fill(fi):fi;const b=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const A=c.run();if(i||g||(m?A.some((W,j)=>pr(W,k[j])):pr(A,k))){f&&f();const W=Tr;Tr=c;try{const j=[A,k===fi?void 0:m&&k[0]===fi?[]:k,h];l?l(t,3,j):t(...j),k=A}finally{Tr=W}}}else c.run()};return a&&a(b),c=new ru(d),c.scheduler=o?()=>o(b,!1):b,h=x=>Sp(x,!1,c),f=c.onStop=()=>{const x=Bi.get(c);if(x){if(l)l(x,4);else for(const A of x)A();Bi.delete(c)}},t?n?b(!0):k=c.run():o?o(b.bind(null,!0),!0):c.run(),S.pause=c.pause.bind(c),S.resume=c.resume.bind(c),S.stop=S,S}function Xt(e,t=1/0,r){if(t<=0||!Re(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,st(e))Xt(e.value,t,r);else if(J(e))for(let n=0;n<e.length;n++)Xt(e[n],t,r);else if(as(e)||Xr(e))e.forEach(n=>{Xt(n,t,r)});else if(Jc(e)){for(const n in e)Xt(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Xt(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ti(e,t,r,n){try{return n?e(...n):e()}catch(i){ps(i,t,r)}}function Vt(e,t,r,n){if(te(e)){const i=ti(e,t,r,n);return i&&Kc(i)&&i.catch(s=>{ps(s,t,r)}),i}if(J(e)){const i=[];for(let s=0;s<e.length;s++)i.push(Vt(e[s],t,r,n));return i}}function ps(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Ee;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){Sr(),ti(s,null,10,[e,l,u]),xr();return}}Cp(e,r,i,n,o)}function Cp(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const at=[];let Ft=-1;const en=[];let cr=null,qr=0;const bu=Promise.resolve();let Ui=null;function wu(e){const t=Ui||bu;return e?t.then(this?e.bind(this):e):t}function Mp(e){let t=Ft+1,r=at.length;for(;t<r;){const n=t+r>>>1,i=at[n],s=qn(i);s<e||s===e&&i.flags&2?t=n+1:r=n}return t}function la(e){if(!(e.flags&1)){const t=qn(e),r=at[at.length-1];!r||!(e.flags&2)&&t>=qn(r)?at.push(e):at.splice(Mp(t),0,e),e.flags|=1,ku()}}function ku(){Ui||(Ui=bu.then(xu))}function Ep(e){J(e)?en.push(...e):cr&&e.id===-1?cr.splice(qr+1,0,e):e.flags&1||(en.push(e),e.flags|=1),ku()}function Ja(e,t,r=Ft+1){for(;r<at.length;r++){const n=at[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;at.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Su(e){if(en.length){const t=[...new Set(en)].sort((r,n)=>qn(r)-qn(n));if(en.length=0,cr){cr.push(...t);return}for(cr=t,qr=0;qr<cr.length;qr++){const r=cr[qr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}cr=null,qr=0}}const qn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function xu(e){try{for(Ft=0;Ft<at.length;Ft++){const t=at[Ft];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ti(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ft<at.length;Ft++){const t=at[Ft];t&&(t.flags&=-2)}Ft=-1,at.length=0,Su(),Ui=null,(at.length||en.length)&&xu()}}let Ze=null,Cu=null;function Hi(e){const t=Ze;return Ze=e,Cu=e&&e.type.__scopeId||null,t}function De(e,t=Ze,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&sl(-1);const s=Hi(t);let o;try{o=e(...i)}finally{Hi(s),n._d&&sl(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function gr(e,t){if(Ze===null)return e;const r=_s(Ze),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,l=Ee]=t[i];s&&(te(s)&&(s={mounted:s,updated:s}),s.deep&&Xt(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Mr(e,t,r,n){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(Sr(),Vt(l,r,8,[e.el,a,e,t]),xr())}}const Ip=Symbol("_vte"),Tp=e=>e.__isTeleport;function ca(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ca(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function ve(e,t){return te(e)?Qe({name:e.name},t,{setup:e}):e}function Mu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Wi(e,t,r,n,i=!1){if(J(e)){e.forEach((g,m)=>Wi(g,t&&(J(t)?t[m]:t),r,n,i));return}if(tn(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Wi(e,t,r,n.component.subTree);return}const s=n.shapeFlag&4?_s(n.component):n.el,o=i?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Ee?a.refs={}:a.refs,d=a.setupState,f=we(d),h=d===Ee?()=>!1:g=>ke(f,g);if(u!=null&&u!==l&&(He(u)?(c[u]=null,h(u)&&(d[u]=null)):st(u)&&(u.value=null)),te(l))ti(l,a,12,[o,c]);else{const g=He(l),m=st(l);if(g||m){const _=()=>{if(e.f){const S=g?h(l)?d[l]:c[l]:l.value;i?J(S)&&Zo(S,s):J(S)?S.includes(s)||S.push(s):g?(c[l]=[s],h(l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else g?(c[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,e.k&&(c[e.k]=o))};o?(_.id=-1,vt(_,r)):_()}}}us().requestIdleCallback;us().cancelIdleCallback;const tn=e=>!!e.type.__asyncLoader,Eu=e=>e.type.__isKeepAlive;function Ap(e,t){Iu(e,"a",t)}function Op(e,t){Iu(e,"da",t)}function Iu(e,t,r=it){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(gs(t,n,r),r){let i=r.parent;for(;i&&i.parent;)Eu(i.parent.vnode)&&Rp(n,t,r,i),i=i.parent}}function Rp(e,t,r,n){const i=gs(t,e,n,!0);Tu(()=>{Zo(n[t],i)},r)}function gs(e,t,r=it,n=!1){if(r){const i=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...o)=>{Sr();const a=ri(r),l=Vt(t,r,e,o);return a(),xr(),l});return n?i.unshift(s):i.push(s),s}}const sr=e=>(t,r=it)=>{(!zn||e==="sp")&&gs(e,(...n)=>t(...n),r)},Dp=sr("bm"),ua=sr("m"),Pp=sr("bu"),Lp=sr("u"),Np=sr("bum"),Tu=sr("um"),$p=sr("sp"),Fp=sr("rtg"),Bp=sr("rtc");function Up(e,t=it){gs("ec",e,t)}const Au="components";function Hp(e,t){return Du(Au,e,!0,t)||e}const Ou=Symbol.for("v-ndc");function Ru(e){return He(e)?Du(Au,e,!1)||e:e||Ou}function Du(e,t,r=!0,n=!1){const i=Ze||it;if(i){const s=i.type;{const a=Mg(s,!1);if(a&&(a===t||a===xt(t)||a===cs(xt(t))))return s}const o=Qa(i[e]||s[e],t)||Qa(i.appContext[e],t);return!o&&n?s:o}}function Qa(e,t){return e&&(e[t]||e[xt(t)]||e[cs(xt(t))])}function Ye(e,t,r,n){let i;const s=r,o=J(e);if(o||He(e)){const a=o&&Zr(e);let l=!1;a&&(l=!St(e),e=fs(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?nt(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(Re(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=t(e[c],c,l,s)}}else i=[];return i}function qi(e,t,r={},n,i){if(Ze.ce||Ze.parent&&tn(Ze.parent)&&Ze.parent.ce)return t!=="default"&&(r.name=t),O(),Ge(se,null,[me("slot",r,n)],64);let s=e[t];s&&s._c&&(s._d=!1),O();const o=s&&Pu(s(r)),a=r.key||o&&o.key,l=Ge(se,{key:(a&&!Rt(a)?a:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return s&&s._c&&(s._d=!0),l}function Pu(e){return e.some(t=>Vn(t)?!(t.type===_r||t.type===se&&!Pu(t.children)):!0)?e:null}const go=e=>e?td(e)?_s(e):go(e.parent):null,Dn=Qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>go(e.parent),$root:e=>go(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>da(e),$forceUpdate:e=>e.f||(e.f=()=>{la(e.update)}),$nextTick:e=>e.n||(e.n=wu.bind(e.proxy)),$watch:e=>lg.bind(e)}),Ns=(e,t)=>e!==Ee&&!e.__isScriptSetup&&ke(e,t),Wp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return s[t]}else{if(Ns(n,t))return o[t]=1,n[t];if(i!==Ee&&ke(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&ke(u,t))return o[t]=3,s[t];if(r!==Ee&&ke(r,t))return o[t]=4,r[t];mo&&(o[t]=0)}}const c=Dn[t];let d,f;if(c)return t==="$attrs"&&rt(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(r!==Ee&&ke(r,t))return o[t]=4,r[t];if(f=l.config.globalProperties,ke(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:s}=e;return Ns(i,t)?(i[t]=r,!0):n!==Ee&&ke(n,t)?(n[t]=r,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!r[o]||e!==Ee&&ke(e,o)||Ns(t,o)||(a=s[0])&&ke(a,o)||ke(n,o)||ke(Dn,o)||ke(i.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ke(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Xa(e){return J(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let mo=!0;function qp(e){const t=da(e),r=e.proxy,n=e.ctx;mo=!1,t.beforeCreate&&Za(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:g,activated:m,deactivated:_,beforeDestroy:S,beforeUnmount:k,destroyed:b,unmounted:x,render:A,renderTracked:W,renderTriggered:j,errorCaptured:z,serverPrefetch:ne,expose:ce,inheritAttrs:ye,components:Q,directives:fe,filters:Z}=t;if(u&&jp(u,n,null),o)for(const ee in o){const ae=o[ee];te(ae)&&(n[ee]=ae.bind(r))}if(i){const ee=i.call(r,r);Re(ee)&&(e.data=hs(ee))}if(mo=!0,s)for(const ee in s){const ae=s[ee],Je=te(ae)?ae.bind(r,r):te(ae.get)?ae.get.bind(r,r):qt,Ne=!te(ae)&&te(ae.set)?ae.set.bind(r):qt,dt=Ce({get:Je,set:Ne});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>dt.value,set:Xe=>dt.value=Xe})}if(a)for(const ee in a)Lu(a[ee],n,r,ee);if(l){const ee=te(l)?l.call(r):l;Reflect.ownKeys(ee).forEach(ae=>{bi(ae,ee[ae])})}c&&Za(c,e,"c");function oe(ee,ae){J(ae)?ae.forEach(Je=>ee(Je.bind(r))):ae&&ee(ae.bind(r))}if(oe(Dp,d),oe(ua,f),oe(Pp,h),oe(Lp,g),oe(Ap,m),oe(Op,_),oe(Up,z),oe(Bp,W),oe(Fp,j),oe(Np,k),oe(Tu,x),oe($p,ne),J(ce))if(ce.length){const ee=e.exposed||(e.exposed={});ce.forEach(ae=>{Object.defineProperty(ee,ae,{get:()=>r[ae],set:Je=>r[ae]=Je})})}else e.exposed||(e.exposed={});A&&e.render===qt&&(e.render=A),ye!=null&&(e.inheritAttrs=ye),Q&&(e.components=Q),fe&&(e.directives=fe),ne&&Mu(e)}function jp(e,t,r=qt){J(e)&&(e=yo(e));for(const n in e){const i=e[n];let s;Re(i)?"default"in i?s=tr(i.from||n,i.default,!0):s=tr(i.from||n):s=tr(i),st(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[n]=s}}function Za(e,t,r){Vt(J(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Lu(e,t,r,n){let i=n.includes(".")?Yu(r,n):()=>r[n];if(He(e)){const s=t[e];te(s)&&nn(i,s)}else if(te(e))nn(i,e.bind(r));else if(Re(e))if(J(e))e.forEach(s=>Lu(s,t,r,n));else{const s=te(e.handler)?e.handler.bind(r):t[e.handler];te(s)&&nn(i,s,e)}}function da(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>ji(l,u,o,!0)),ji(l,t,o)),Re(t)&&s.set(t,l),l}function ji(e,t,r,n=!1){const{mixins:i,extends:s}=t;s&&ji(e,s,r,!0),i&&i.forEach(o=>ji(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const a=Vp[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Vp={data:el,props:tl,emits:tl,methods:kn,computed:kn,beforeCreate:ot,created:ot,beforeMount:ot,mounted:ot,beforeUpdate:ot,updated:ot,beforeDestroy:ot,beforeUnmount:ot,destroyed:ot,unmounted:ot,activated:ot,deactivated:ot,errorCaptured:ot,serverPrefetch:ot,components:kn,directives:kn,watch:Gp,provide:el,inject:zp};function el(e,t){return t?e?function(){return Qe(te(e)?e.call(this,this):e,te(t)?t.call(this,this):t)}:t:e}function zp(e,t){return kn(yo(e),yo(t))}function yo(e){if(J(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function ot(e,t){return e?[...new Set([].concat(e,t))]:t}function kn(e,t){return e?Qe(Object.create(null),e,t):t}function tl(e,t){return e?J(e)&&J(t)?[...new Set([...e,...t])]:Qe(Object.create(null),Xa(e),Xa(t??{})):t}function Gp(e,t){if(!e)return t;if(!t)return e;const r=Qe(Object.create(null),e);for(const n in t)r[n]=ot(e[n],t[n]);return r}function Nu(){return{app:null,config:{isNativeTag:Uh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kp=0;function Yp(e,t){return function(n,i=null){te(n)||(n=Qe({},n)),i!=null&&!Re(i)&&(i=null);const s=Nu(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:Kp++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:Ig,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&te(c.install)?(o.add(c),c.install(u,...d)):te(c)&&(o.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||me(n,i);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(h,c):e(h,c,f),l=!0,u._container=c,c.__vue_app__=u,_s(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Vt(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=rn;rn=u;try{return c()}finally{rn=d}}};return u}}let rn=null;function bi(e,t){if(it){let r=it.provides;const n=it.parent&&it.parent.provides;n===r&&(r=it.provides=Object.create(n)),r[e]=t}}function tr(e,t,r=!1){const n=it||Ze;if(n||rn){const i=rn?rn._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&te(t)?t.call(n&&n.proxy):t}}const $u={},Fu=()=>Object.create($u),Bu=e=>Object.getPrototypeOf(e)===$u;function Jp(e,t,r,n=!1){const i={},s=Fu();e.propsDefaults=Object.create(null),Uu(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:mu(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function Qp(e,t,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=we(i),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(ms(e.emitsOptions,f))continue;const h=t[f];if(l)if(ke(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const g=xt(f);i[g]=_o(l,a,g,h,e,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{Uu(e,t,i,s)&&(u=!0);let c;for(const d in a)(!t||!ke(t,d)&&((c=Fr(d))===d||!ke(t,c)))&&(l?r&&(r[d]!==void 0||r[c]!==void 0)&&(i[d]=_o(l,a,d,void 0,e,!0)):delete i[d]);if(s!==a)for(const d in s)(!t||!ke(t,d))&&(delete s[d],u=!0)}u&&Qt(e.attrs,"set","")}function Uu(e,t,r,n){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(An(l))continue;const u=t[l];let c;i&&ke(i,c=xt(l))?!s||!s.includes(c)?r[c]=u:(a||(a={}))[c]=u:ms(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(s){const l=we(r),u=a||Ee;for(let c=0;c<s.length;c++){const d=s[c];r[d]=_o(i,l,d,u[d],e,!ke(u,d))}}return o}function _o(e,t,r,n,i,s){const o=e[r];if(o!=null){const a=ke(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&te(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=ri(i);n=u[r]=l.call(null,t),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Fr(r))&&(n=!0))}return n}const Xp=new WeakMap;function Hu(e,t,r=!1){const n=r?Xp:t.propsCache,i=n.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!te(e)){const c=d=>{l=!0;const[f,h]=Hu(d,t,!0);Qe(o,f),h&&a.push(...h)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Re(e)&&n.set(e,Qr),Qr;if(J(s))for(let c=0;c<s.length;c++){const d=xt(s[c]);rl(d)&&(o[d]=Ee)}else if(s)for(const c in s){const d=xt(c);if(rl(d)){const f=s[c],h=o[d]=J(f)||te(f)?{type:f}:Qe({},f),g=h.type;let m=!1,_=!0;if(J(g))for(let S=0;S<g.length;++S){const k=g[S],b=te(k)&&k.name;if(b==="Boolean"){m=!0;break}else b==="String"&&(_=!1)}else m=te(g)&&g.name==="Boolean";h[0]=m,h[1]=_,(m||ke(h,"default"))&&a.push(d)}}const u=[o,a];return Re(e)&&n.set(e,u),u}function rl(e){return e[0]!=="$"&&!An(e)}const Wu=e=>e[0]==="_"||e==="$stable",fa=e=>J(e)?e.map(Ut):[Ut(e)],Zp=(e,t,r)=>{if(t._n)return t;const n=De((...i)=>fa(t(...i)),r);return n._c=!1,n},qu=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Wu(i))continue;const s=e[i];if(te(s))t[i]=Zp(i,s,n);else if(s!=null){const o=fa(s);t[i]=()=>o}}},ju=(e,t)=>{const r=fa(t);e.slots.default=()=>r},Vu=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},eg=(e,t,r)=>{const n=e.slots=Fu();if(e.vnode.shapeFlag&32){const i=t._;i?(Vu(n,t,r),r&&Qc(n,"_",i,!0)):qu(t,n)}else t&&ju(e,t)},tg=(e,t,r)=>{const{vnode:n,slots:i}=e;let s=!0,o=Ee;if(n.shapeFlag&32){const a=t._;a?r&&a===1?s=!1:Vu(i,t,r):(s=!t.$stable,qu(t,i)),o=t}else t&&(ju(e,t),o={default:1});if(s)for(const a in i)!Wu(a)&&o[a]==null&&delete i[a]},vt=gg;function rg(e){return ng(e)}function ng(e,t){const r=us();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=qt,insertStaticContent:g}=e,m=(y,v,C,E=null,T=null,R=null,B=void 0,N=null,P=!!v.dynamicChildren)=>{if(y===v)return;y&&!_n(y,v)&&(E=I(y),Xe(y,T,R,!0),y=null),v.patchFlag===-2&&(P=!1,v.dynamicChildren=null);const{type:D,ref:G,shapeFlag:H}=v;switch(D){case ys:_(y,v,C,E);break;case _r:S(y,v,C,E);break;case Bs:y==null&&k(v,C,E,B);break;case se:Q(y,v,C,E,T,R,B,N,P);break;default:H&1?A(y,v,C,E,T,R,B,N,P):H&6?fe(y,v,C,E,T,R,B,N,P):(H&64||H&128)&&D.process(y,v,C,E,T,R,B,N,P,q)}G!=null&&T&&Wi(G,y&&y.ref,R,v||y,!v)},_=(y,v,C,E)=>{if(y==null)n(v.el=a(v.children),C,E);else{const T=v.el=y.el;v.children!==y.children&&u(T,v.children)}},S=(y,v,C,E)=>{y==null?n(v.el=l(v.children||""),C,E):v.el=y.el},k=(y,v,C,E)=>{[y.el,y.anchor]=g(y.children,v,C,E,y.el,y.anchor)},b=({el:y,anchor:v},C,E)=>{let T;for(;y&&y!==v;)T=f(y),n(y,C,E),y=T;n(v,C,E)},x=({el:y,anchor:v})=>{let C;for(;y&&y!==v;)C=f(y),i(y),y=C;i(v)},A=(y,v,C,E,T,R,B,N,P)=>{v.type==="svg"?B="svg":v.type==="math"&&(B="mathml"),y==null?W(v,C,E,T,R,B,N,P):ne(y,v,T,R,B,N,P)},W=(y,v,C,E,T,R,B,N)=>{let P,D;const{props:G,shapeFlag:H,transition:V,dirs:X}=y;if(P=y.el=o(y.type,R,G&&G.is,G),H&8?c(P,y.children):H&16&&z(y.children,P,null,E,T,$s(y,R),B,N),X&&Mr(y,null,E,"created"),j(P,y,y.scopeId,B,E),G){for(const Te in G)Te!=="value"&&!An(Te)&&s(P,Te,null,G[Te],R,E);"value"in G&&s(P,"value",null,G.value,R),(D=G.onVnodeBeforeMount)&&Nt(D,E,y)}X&&Mr(y,null,E,"beforeMount");const he=ig(T,V);he&&V.beforeEnter(P),n(P,v,C),((D=G&&G.onVnodeMounted)||he||X)&&vt(()=>{D&&Nt(D,E,y),he&&V.enter(P),X&&Mr(y,null,E,"mounted")},T)},j=(y,v,C,E,T)=>{if(C&&h(y,C),E)for(let R=0;R<E.length;R++)h(y,E[R]);if(T){let R=T.subTree;if(v===R||Qu(R.type)&&(R.ssContent===v||R.ssFallback===v)){const B=T.vnode;j(y,B,B.scopeId,B.slotScopeIds,T.parent)}}},z=(y,v,C,E,T,R,B,N,P=0)=>{for(let D=P;D<y.length;D++){const G=y[D]=N?ur(y[D]):Ut(y[D]);m(null,G,v,C,E,T,R,B,N)}},ne=(y,v,C,E,T,R,B)=>{const N=v.el=y.el;let{patchFlag:P,dynamicChildren:D,dirs:G}=v;P|=y.patchFlag&16;const H=y.props||Ee,V=v.props||Ee;let X;if(C&&Er(C,!1),(X=V.onVnodeBeforeUpdate)&&Nt(X,C,v,y),G&&Mr(v,y,C,"beforeUpdate"),C&&Er(C,!0),(H.innerHTML&&V.innerHTML==null||H.textContent&&V.textContent==null)&&c(N,""),D?ce(y.dynamicChildren,D,N,C,E,$s(v,T),R):B||ae(y,v,N,null,C,E,$s(v,T),R,!1),P>0){if(P&16)ye(N,H,V,C,T);else if(P&2&&H.class!==V.class&&s(N,"class",null,V.class,T),P&4&&s(N,"style",H.style,V.style,T),P&8){const he=v.dynamicProps;for(let Te=0;Te<he.length;Te++){const xe=he[Te],gt=H[xe],et=V[xe];(et!==gt||xe==="value")&&s(N,xe,gt,et,T,C)}}P&1&&y.children!==v.children&&c(N,v.children)}else!B&&D==null&&ye(N,H,V,C,T);((X=V.onVnodeUpdated)||G)&&vt(()=>{X&&Nt(X,C,v,y),G&&Mr(v,y,C,"updated")},E)},ce=(y,v,C,E,T,R,B)=>{for(let N=0;N<v.length;N++){const P=y[N],D=v[N],G=P.el&&(P.type===se||!_n(P,D)||P.shapeFlag&70)?d(P.el):C;m(P,D,G,null,E,T,R,B,!0)}},ye=(y,v,C,E,T)=>{if(v!==C){if(v!==Ee)for(const R in v)!An(R)&&!(R in C)&&s(y,R,v[R],null,T,E);for(const R in C){if(An(R))continue;const B=C[R],N=v[R];B!==N&&R!=="value"&&s(y,R,N,B,T,E)}"value"in C&&s(y,"value",v.value,C.value,T)}},Q=(y,v,C,E,T,R,B,N,P)=>{const D=v.el=y?y.el:a(""),G=v.anchor=y?y.anchor:a("");let{patchFlag:H,dynamicChildren:V,slotScopeIds:X}=v;X&&(N=N?N.concat(X):X),y==null?(n(D,C,E),n(G,C,E),z(v.children||[],C,G,T,R,B,N,P)):H>0&&H&64&&V&&y.dynamicChildren?(ce(y.dynamicChildren,V,C,T,R,B,N),(v.key!=null||T&&v===T.subTree)&&zu(y,v,!0)):ae(y,v,C,G,T,R,B,N,P)},fe=(y,v,C,E,T,R,B,N,P)=>{v.slotScopeIds=N,y==null?v.shapeFlag&512?T.ctx.activate(v,C,E,B,P):Z(v,C,E,T,R,B,P):Se(y,v,P)},Z=(y,v,C,E,T,R,B)=>{const N=y.component=wg(y,E,T);if(Eu(y)&&(N.ctx.renderer=q),kg(N,!1,B),N.asyncDep){if(T&&T.registerDep(N,oe,B),!y.el){const P=N.subTree=me(_r);S(null,P,v,C)}}else oe(N,y,v,C,T,R,B)},Se=(y,v,C)=>{const E=v.component=y.component;if(hg(y,v,C))if(E.asyncDep&&!E.asyncResolved){ee(E,v,C);return}else E.next=v,E.update();else v.el=y.el,E.vnode=v},oe=(y,v,C,E,T,R,B)=>{const N=()=>{if(y.isMounted){let{next:H,bu:V,u:X,parent:he,vnode:Te}=y;{const mt=Gu(y);if(mt){H&&(H.el=Te.el,ee(y,H,B)),mt.asyncDep.then(()=>{y.isUnmounted||N()});return}}let xe=H,gt;Er(y,!1),H?(H.el=Te.el,ee(y,H,B)):H=Te,V&&vi(V),(gt=H.props&&H.props.onVnodeBeforeUpdate)&&Nt(gt,he,H,Te),Er(y,!0);const et=Fs(y),Et=y.subTree;y.subTree=et,m(Et,et,d(Et.el),I(Et),y,T,R),H.el=et.el,xe===null&&pg(y,et.el),X&&vt(X,T),(gt=H.props&&H.props.onVnodeUpdated)&&vt(()=>Nt(gt,he,H,Te),T)}else{let H;const{el:V,props:X}=v,{bm:he,m:Te,parent:xe,root:gt,type:et}=y,Et=tn(v);if(Er(y,!1),he&&vi(he),!Et&&(H=X&&X.onVnodeBeforeMount)&&Nt(H,xe,v),Er(y,!0),V&&ue){const mt=()=>{y.subTree=Fs(y),ue(V,y.subTree,y,T,null)};Et&&et.__asyncHydrate?et.__asyncHydrate(V,y,mt):mt()}else{gt.ce&&gt.ce._injectChildStyle(et);const mt=y.subTree=Fs(y);m(null,mt,C,E,y,T,R),v.el=mt.el}if(Te&&vt(Te,T),!Et&&(H=X&&X.onVnodeMounted)){const mt=v;vt(()=>Nt(H,xe,mt),T)}(v.shapeFlag&256||xe&&tn(xe.vnode)&&xe.vnode.shapeFlag&256)&&y.a&&vt(y.a,T),y.isMounted=!0,v=C=E=null}};y.scope.on();const P=y.effect=new ru(N);y.scope.off();const D=y.update=P.run.bind(P),G=y.job=P.runIfDirty.bind(P);G.i=y,G.id=y.uid,P.scheduler=()=>la(G),Er(y,!0),D()},ee=(y,v,C)=>{v.component=y;const E=y.vnode.props;y.vnode=v,y.next=null,Qp(y,v.props,E,C),tg(y,v.children,C),Sr(),Ja(y),xr()},ae=(y,v,C,E,T,R,B,N,P=!1)=>{const D=y&&y.children,G=y?y.shapeFlag:0,H=v.children,{patchFlag:V,shapeFlag:X}=v;if(V>0){if(V&128){Ne(D,H,C,E,T,R,B,N,P);return}else if(V&256){Je(D,H,C,E,T,R,B,N,P);return}}X&8?(G&16&&ft(D,T,R),H!==D&&c(C,H)):G&16?X&16?Ne(D,H,C,E,T,R,B,N,P):ft(D,T,R,!0):(G&8&&c(C,""),X&16&&z(H,C,E,T,R,B,N,P))},Je=(y,v,C,E,T,R,B,N,P)=>{y=y||Qr,v=v||Qr;const D=y.length,G=v.length,H=Math.min(D,G);let V;for(V=0;V<H;V++){const X=v[V]=P?ur(v[V]):Ut(v[V]);m(y[V],X,C,null,T,R,B,N,P)}D>G?ft(y,T,R,!0,!1,H):z(v,C,E,T,R,B,N,P,H)},Ne=(y,v,C,E,T,R,B,N,P)=>{let D=0;const G=v.length;let H=y.length-1,V=G-1;for(;D<=H&&D<=V;){const X=y[D],he=v[D]=P?ur(v[D]):Ut(v[D]);if(_n(X,he))m(X,he,C,null,T,R,B,N,P);else break;D++}for(;D<=H&&D<=V;){const X=y[H],he=v[V]=P?ur(v[V]):Ut(v[V]);if(_n(X,he))m(X,he,C,null,T,R,B,N,P);else break;H--,V--}if(D>H){if(D<=V){const X=V+1,he=X<G?v[X].el:E;for(;D<=V;)m(null,v[D]=P?ur(v[D]):Ut(v[D]),C,he,T,R,B,N,P),D++}}else if(D>V)for(;D<=H;)Xe(y[D],T,R,!0),D++;else{const X=D,he=D,Te=new Map;for(D=he;D<=V;D++){const yt=v[D]=P?ur(v[D]):Ut(v[D]);yt.key!=null&&Te.set(yt.key,D)}let xe,gt=0;const et=V-he+1;let Et=!1,mt=0;const mn=new Array(et);for(D=0;D<et;D++)mn[D]=0;for(D=X;D<=H;D++){const yt=y[D];if(gt>=et){Xe(yt,T,R,!0);continue}let Lt;if(yt.key!=null)Lt=Te.get(yt.key);else for(xe=he;xe<=V;xe++)if(mn[xe-he]===0&&_n(yt,v[xe])){Lt=xe;break}Lt===void 0?Xe(yt,T,R,!0):(mn[Lt-he]=D+1,Lt>=mt?mt=Lt:Et=!0,m(yt,v[Lt],C,null,T,R,B,N,P),gt++)}const va=Et?sg(mn):Qr;for(xe=va.length-1,D=et-1;D>=0;D--){const yt=he+D,Lt=v[yt],ba=yt+1<G?v[yt+1].el:E;mn[D]===0?m(null,Lt,C,ba,T,R,B,N,P):Et&&(xe<0||D!==va[xe]?dt(Lt,C,ba,2):xe--)}}},dt=(y,v,C,E,T=null)=>{const{el:R,type:B,transition:N,children:P,shapeFlag:D}=y;if(D&6){dt(y.component.subTree,v,C,E);return}if(D&128){y.suspense.move(v,C,E);return}if(D&64){B.move(y,v,C,q);return}if(B===se){n(R,v,C);for(let H=0;H<P.length;H++)dt(P[H],v,C,E);n(y.anchor,v,C);return}if(B===Bs){b(y,v,C);return}if(E!==2&&D&1&&N)if(E===0)N.beforeEnter(R),n(R,v,C),vt(()=>N.enter(R),T);else{const{leave:H,delayLeave:V,afterLeave:X}=N,he=()=>n(R,v,C),Te=()=>{H(R,()=>{he(),X&&X()})};V?V(R,he,Te):Te()}else n(R,v,C)},Xe=(y,v,C,E=!1,T=!1)=>{const{type:R,props:B,ref:N,children:P,dynamicChildren:D,shapeFlag:G,patchFlag:H,dirs:V,cacheIndex:X}=y;if(H===-2&&(T=!1),N!=null&&Wi(N,null,C,y,!0),X!=null&&(v.renderCache[X]=void 0),G&256){v.ctx.deactivate(y);return}const he=G&1&&V,Te=!tn(y);let xe;if(Te&&(xe=B&&B.onVnodeBeforeUnmount)&&Nt(xe,v,y),G&6)Cr(y.component,C,E);else{if(G&128){y.suspense.unmount(C,E);return}he&&Mr(y,null,v,"beforeUnmount"),G&64?y.type.remove(y,v,C,q,E):D&&!D.hasOnce&&(R!==se||H>0&&H&64)?ft(D,v,C,!1,!0):(R===se&&H&384||!T&&G&16)&&ft(P,v,C),E&&Mt(y)}(Te&&(xe=B&&B.onVnodeUnmounted)||he)&&vt(()=>{xe&&Nt(xe,v,y),he&&Mr(y,null,v,"unmounted")},C)},Mt=y=>{const{type:v,el:C,anchor:E,transition:T}=y;if(v===se){zt(C,E);return}if(v===Bs){x(y);return}const R=()=>{i(C),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(y.shapeFlag&1&&T&&!T.persisted){const{leave:B,delayLeave:N}=T,P=()=>B(C,R);N?N(y.el,R,P):P()}else R()},zt=(y,v)=>{let C;for(;y!==v;)C=f(y),i(y),y=C;i(v)},Cr=(y,v,C)=>{const{bum:E,scope:T,job:R,subTree:B,um:N,m:P,a:D}=y;nl(P),nl(D),E&&vi(E),T.stop(),R&&(R.flags|=8,Xe(B,y,v,C)),N&&vt(N,v),vt(()=>{y.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},ft=(y,v,C,E=!1,T=!1,R=0)=>{for(let B=R;B<y.length;B++)Xe(y[B],v,C,E,T)},I=y=>{if(y.shapeFlag&6)return I(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const v=f(y.anchor||y.el),C=v&&v[Ip];return C?f(C):v};let F=!1;const $=(y,v,C)=>{y==null?v._vnode&&Xe(v._vnode,null,null,!0):m(v._vnode||null,y,v,null,null,null,C),v._vnode=y,F||(F=!0,Ja(),Su(),F=!1)},q={p:m,um:Xe,m:dt,r:Mt,mt:Z,mc:z,pc:ae,pbc:ce,n:I,o:e};let U,ue;return{render:$,hydrate:U,createApp:Yp($,U)}}function $s({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Er({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ig(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function zu(e,t,r=!1){const n=e.children,i=t.children;if(J(n)&&J(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ur(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&zu(o,a)),a.type===ys&&(a.el=o.el)}}function sg(e){const t=e.slice(),r=[0];let n,i,s,o,a;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,e[r[a]]<u?s=a+1:o=a;u<e[r[s]]&&(s>0&&(t[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=t[o];return r}function Gu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Gu(t)}function nl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const og=Symbol.for("v-scx"),ag=()=>tr(og);function nn(e,t,r){return Ku(e,t,r)}function Ku(e,t,r=Ee){const{immediate:n,deep:i,flush:s,once:o}=r,a=Qe({},r),l=t&&n||!t&&s!=="post";let u;if(zn){if(s==="sync"){const h=ag();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=qt,h.resume=qt,h.pause=qt,h}}const c=it;a.call=(h,g,m)=>Vt(h,c,g,m);let d=!1;s==="post"?a.scheduler=h=>{vt(h,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(h,g)=>{g?h():la(h)}),a.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=xp(e,t,a);return zn&&(u?u.push(f):l&&f()),f}function lg(e,t,r){const n=this.proxy,i=He(e)?e.includes(".")?Yu(n,e):()=>n[e]:e.bind(n,n);let s;te(t)?s=t:(s=t.handler,r=t);const o=ri(this),a=Ku(i,s.bind(n),r);return o(),a}function Yu(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const cg=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${xt(t)}Modifiers`]||e[`${Fr(t)}Modifiers`];function ug(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Ee;let i=r;const s=t.startsWith("update:"),o=s&&cg(n,t.slice(7));o&&(o.trim&&(i=r.map(c=>He(c)?c.trim():c)),o.number&&(i=r.map(ao)));let a,l=n[a=Os(t)]||n[a=Os(xt(t))];!l&&s&&(l=n[a=Os(Fr(t))]),l&&Vt(l,e,6,i);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Vt(u,e,6,i)}}function Ju(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!te(e)){const l=u=>{const c=Ju(u,t,!0);c&&(a=!0,Qe(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Re(e)&&n.set(e,null),null):(J(s)?s.forEach(l=>o[l]=null):Qe(o,s),Re(e)&&n.set(e,o),o)}function ms(e,t){return!e||!os(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,Fr(t))||ke(e,t))}function Fs(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:g,inheritAttrs:m}=e,_=Hi(e);let S,k;try{if(r.shapeFlag&4){const x=i||n,A=x;S=Ut(u.call(A,x,c,d,h,f,g)),k=a}else{const x=t;S=Ut(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),k=t.props?a:dg(a)}}catch(x){Pn.length=0,ps(x,e,1),S=me(_r)}let b=S;if(k&&m!==!1){const x=Object.keys(k),{shapeFlag:A}=b;x.length&&A&7&&(s&&x.some(Xo)&&(k=fg(k,s)),b=un(b,k,!1,!0))}return r.dirs&&(b=un(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&ca(b,r.transition),S=b,Hi(_),S}const dg=e=>{let t;for(const r in e)(r==="class"||r==="style"||os(r))&&((t||(t={}))[r]=e[r]);return t},fg=(e,t)=>{const r={};for(const n in e)(!Xo(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function hg(e,t,r){const{props:n,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?il(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==n[f]&&!ms(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?il(n,o,u):!0:!!o;return!1}function il(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(t[s]!==e[s]&&!ms(r,s))return!0}return!1}function pg({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Qu=e=>e.__isSuspense;function gg(e,t){t&&t.pendingBranch?J(e)?t.effects.push(...e):t.effects.push(e):Ep(e)}const se=Symbol.for("v-fgt"),ys=Symbol.for("v-txt"),_r=Symbol.for("v-cmt"),Bs=Symbol.for("v-stc"),Pn=[];let wt=null;function O(e=!1){Pn.push(wt=e?null:[])}function mg(){Pn.pop(),wt=Pn[Pn.length-1]||null}let jn=1;function sl(e,t=!1){jn+=e,e<0&&wt&&t&&(wt.hasOnce=!0)}function Xu(e){return e.dynamicChildren=jn>0?wt||Qr:null,mg(),jn>0&&wt&&wt.push(e),e}function L(e,t,r,n,i,s){return Xu(w(e,t,r,n,i,s,!0))}function Ge(e,t,r,n,i){return Xu(me(e,t,r,n,i,!0))}function Vn(e){return e?e.__v_isVNode===!0:!1}function _n(e,t){return e.type===t.type&&e.key===t.key}const Zu=({key:e})=>e??null,wi=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?He(e)||st(e)||te(e)?{i:Ze,r:e,k:t,f:!!r}:e:null);function w(e,t=null,r=null,n=0,i=null,s=e===se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zu(t),ref:t&&wi(t),scopeId:Cu,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ze};return a?(ha(l,r),s&128&&e.normalize(l)):r&&(l.shapeFlag|=He(r)?8:16),jn>0&&!o&&wt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&wt.push(l),l}const me=yg;function yg(e,t=null,r=null,n=0,i=null,s=!1){if((!e||e===Ou)&&(e=_r),Vn(e)){const a=un(e,t,!0);return r&&ha(a,r),jn>0&&!s&&wt&&(a.shapeFlag&6?wt[wt.indexOf(e)]=a:wt.push(a)),a.patchFlag=-2,a}if(Eg(e)&&(e=e.__vccOpts),t){t=_g(t);let{class:a,style:l}=t;a&&!He(a)&&(t.class=Fe(a)),Re(l)&&(aa(l)&&!J(l)&&(l=Qe({},l)),t.style=jt(l))}const o=He(e)?1:Qu(e)?128:Tp(e)?64:Re(e)?4:te(e)?2:0;return w(e,t,r,n,i,o,s,!0)}function _g(e){return e?aa(e)||Bu(e)?Qe({},e):e:null}function un(e,t,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?ed(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Zu(u),ref:t&&t.ref?r&&s?J(s)?s.concat(wi(t)):[s,wi(t)]:wi(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==se?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&un(e.ssContent),ssFallback:e.ssFallback&&un(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&ca(c,l.clone(c)),c}function Le(e=" ",t=0){return me(ys,null,e,t)}function ze(e="",t=!1){return t?(O(),Ge(_r,null,e)):me(_r,null,e)}function Ut(e){return e==null||typeof e=="boolean"?me(_r):J(e)?me(se,null,e.slice()):Vn(e)?ur(e):me(ys,null,String(e))}function ur(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:un(e)}function ha(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(J(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),ha(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!Bu(t)?t._ctx=Ze:i===3&&Ze&&(Ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else te(t)?(t={default:t,_ctx:Ze},r=32):(t=String(t),n&64?(r=16,t=[Le(t)]):r=8);e.children=t,e.shapeFlag|=r}function ed(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Fe([t.class,n.class]));else if(i==="style")t.style=jt([t.style,n.style]);else if(os(i)){const s=t[i],o=n[i];o&&s!==o&&!(J(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=n[i])}return t}function Nt(e,t,r,n=null){Vt(e,t,7,[r,n])}const vg=Nu();let bg=0;function wg(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||vg,s={uid:bg++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hu(n,i),emitsOptions:Ju(n,i),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:n.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=ug.bind(null,s),e.ce&&e.ce(s),s}let it=null,Vi,vo;{const e=us(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Vi=t("__VUE_INSTANCE_SETTERS__",r=>it=r),vo=t("__VUE_SSR_SETTERS__",r=>zn=r)}const ri=e=>{const t=it;return Vi(e),e.scope.on(),()=>{e.scope.off(),Vi(t)}},ol=()=>{it&&it.scope.off(),Vi(null)};function td(e){return e.vnode.shapeFlag&4}let zn=!1;function kg(e,t=!1,r=!1){t&&vo(t);const{props:n,children:i}=e.vnode,s=td(e);Jp(e,n,s,t),eg(e,i,r);const o=s?Sg(e,t):void 0;return t&&vo(!1),o}function Sg(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Wp);const{setup:n}=r;if(n){Sr();const i=e.setupContext=n.length>1?Cg(e):null,s=ri(e),o=ti(n,e,0,[e.props,i]),a=Kc(o);if(xr(),s(),(a||e.sp)&&!tn(e)&&Mu(e),a){if(o.then(ol,ol),t)return o.then(l=>{al(e,l,t)}).catch(l=>{ps(l,e,0)});e.asyncDep=o}else al(e,o,t)}else rd(e,t)}function al(e,t,r){te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Re(t)&&(e.setupState=vu(t)),rd(e,r)}let ll;function rd(e,t,r){const n=e.type;if(!e.render){if(!t&&ll&&!n.render){const i=n.template||da(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,u=Qe(Qe({isCustomElement:s,delimiters:a},o),l);n.render=ll(i,u)}}e.render=n.render||qt}{const i=ri(e);Sr();try{qp(e)}finally{xr(),i()}}}const xg={get(e,t){return rt(e,"get",""),e[t]}};function Cg(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,xg),slots:e.slots,emit:e.emit,expose:t}}function _s(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(vu(_p(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Dn)return Dn[r](e)},has(t,r){return r in t||r in Dn}})):e.proxy}function Mg(e,t=!0){return te(e)?e.displayName||e.name:e.name||t&&e.__name}function Eg(e){return te(e)&&"__vccOpts"in e}const Ce=(e,t)=>kp(e,t,zn);function nd(e,t,r){const n=arguments.length;return n===2?Re(t)&&!J(t)?Vn(t)?me(e,null,[t]):me(e,t):me(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Vn(r)&&(r=[r]),me(e,t,r))}const Ig="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bo;const cl=typeof window<"u"&&window.trustedTypes;if(cl)try{bo=cl.createPolicy("vue",{createHTML:e=>e})}catch{}const id=bo?e=>bo.createHTML(e):e=>e,Tg="http://www.w3.org/2000/svg",Ag="http://www.w3.org/1998/Math/MathML",Jt=typeof document<"u"?document:null,ul=Jt&&Jt.createElement("template"),Og={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?Jt.createElementNS(Tg,e):t==="mathml"?Jt.createElementNS(Ag,e):r?Jt.createElement(e,{is:r}):Jt.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Jt.createTextNode(e),createComment:e=>Jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,s){const o=r?r.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{ul.innerHTML=id(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=ul.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Rg=Symbol("_vtc");function Dg(e,t,r){const n=e[Rg];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const dl=Symbol("_vod"),Pg=Symbol("_vsh"),Lg=Symbol(""),Ng=/(^|;)\s*display\s*:/;function $g(e,t,r){const n=e.style,i=He(r);let s=!1;if(r&&!i){if(t)if(He(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&ki(n,a,"")}else for(const o in t)r[o]==null&&ki(n,o,"");for(const o in r)o==="display"&&(s=!0),ki(n,o,r[o])}else if(i){if(t!==r){const o=n[Lg];o&&(r+=";"+o),n.cssText=r,s=Ng.test(r)}}else t&&e.removeAttribute("style");dl in e&&(e[dl]=s?n.display:"",e[Pg]&&(n.display="none"))}const fl=/\s*!important$/;function ki(e,t,r){if(J(r))r.forEach(n=>ki(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Fg(e,t);fl.test(r)?e.setProperty(Fr(n),r.replace(fl,""),"important"):e[n]=r}}const hl=["Webkit","Moz","ms"],Us={};function Fg(e,t){const r=Us[t];if(r)return r;let n=xt(t);if(n!=="filter"&&n in e)return Us[t]=n;n=cs(n);for(let i=0;i<hl.length;i++){const s=hl[i]+n;if(s in e)return Us[t]=s}return t}const pl="http://www.w3.org/1999/xlink";function gl(e,t,r,n,i,s=Jh(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(pl,t.slice(6,t.length)):e.setAttributeNS(pl,t,r):r==null||s&&!Xc(r)?e.removeAttribute(t):e.setAttribute(t,s?"":Rt(r)?String(r):r)}function ml(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?id(r):r);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=Xc(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(i||t)}function Or(e,t,r,n){e.addEventListener(t,r,n)}function Bg(e,t,r,n){e.removeEventListener(t,r,n)}const yl=Symbol("_vei");function Ug(e,t,r,n,i=null){const s=e[yl]||(e[yl]={}),o=s[t];if(n&&o)o.value=n;else{const[a,l]=Hg(t);if(n){const u=s[t]=jg(n,i);Or(e,a,u,l)}else o&&(Bg(e,a,o,l),s[t]=void 0)}}const _l=/(?:Once|Passive|Capture)$/;function Hg(e){let t;if(_l.test(e)){t={};let n;for(;n=e.match(_l);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Fr(e.slice(2)),t]}let Hs=0;const Wg=Promise.resolve(),qg=()=>Hs||(Wg.then(()=>Hs=0),Hs=Date.now());function jg(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Vt(Vg(n,r.value),t,5,[n])};return r.value=e,r.attached=qg(),r}function Vg(e,t){if(J(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const vl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zg=(e,t,r,n,i,s)=>{const o=i==="svg";t==="class"?Dg(e,n,o):t==="style"?$g(e,r,n):os(t)?Xo(t)||Ug(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Gg(e,t,n,o))?(ml(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&gl(e,t,n,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!He(n))?ml(e,xt(t),n,s,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),gl(e,t,n,o))};function Gg(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&vl(t)&&te(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return vl(t)&&He(r)?!1:t in e}const zi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return J(t)?r=>vi(t,r):t};function Kg(e){e.target.composing=!0}function bl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sn=Symbol("_assign"),on={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[sn]=zi(i);const s=n||i.props&&i.props.type==="number";Or(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;r&&(a=a.trim()),s&&(a=ao(a)),e[sn](a)}),r&&Or(e,"change",()=>{e.value=e.value.trim()}),t||(Or(e,"compositionstart",Kg),Or(e,"compositionend",bl),Or(e,"change",bl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:s}},o){if(e[sn]=zi(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?ao(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||i&&e.value.trim()===l)||(e.value=l))}},wl={deep:!0,created(e,t,r){e[sn]=zi(r),Or(e,"change",()=>{const n=e._modelValue,i=Yg(e),s=e.checked,o=e[sn];if(J(n)){const a=Zc(n,i),l=a!==-1;if(s&&!l)o(n.concat(i));else if(!s&&l){const u=[...n];u.splice(a,1),o(u)}}else if(as(n)){const a=new Set(n);s?a.add(i):a.delete(i),o(a)}else o(sd(e,s))})},mounted:kl,beforeUpdate(e,t,r){e[sn]=zi(r),kl(e,t,r)}};function kl(e,{value:t,oldValue:r},n){e._modelValue=t;let i;if(J(t))i=Zc(t,n.props.value)>-1;else if(as(t))i=t.has(n.props.value);else{if(t===r)return;i=ds(t,sd(e,!0))}e.checked!==i&&(e.checked=i)}function Yg(e){return"_value"in e?e._value:e.value}function sd(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const Jg=Qe({patchProp:zg},Og);let Sl;function Qg(){return Sl||(Sl=rg(Jg))}const Xg=(...e)=>{const t=Qg().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=em(n);if(!i)return;const s=t._component;!te(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,Zg(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Zg(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function em(e){return He(e)?document.querySelector(e):e}var wo=function(e,t){return wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wo(e,t)};function vs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wo(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function ko(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function So(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function xo(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function rr(e){return typeof e=="function"}function od(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Ws=od(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Co(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var bs=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=ko(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){t={error:m}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else o.remove(this);var c=this.initialTeardown;if(rr(c))try{c()}catch(m){s=m instanceof Ws?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=ko(d),h=f.next();!h.done;h=f.next()){var g=h.value;try{xl(g)}catch(m){s=s??[],m instanceof Ws?s=xo(xo([],So(s)),So(m.errors)):s.push(m)}}}catch(m){n={error:m}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(s)throw new Ws(s)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)xl(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Co(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Co(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),ad=bs.EMPTY;function ld(e){return e instanceof bs||e&&"closed"in e&&rr(e.remove)&&rr(e.add)&&rr(e.unsubscribe)}function xl(e){rr(e)?e():e.unsubscribe()}var cd={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tm={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,xo([e,t],So(r)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function rm(e){tm.setTimeout(function(){throw e})}function Cl(){}function Si(e){e()}var ud=function(e){vs(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,ld(r)&&r.add(n)):n.destination=om,n}return t.create=function(r,n,i){return new Mo(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(bs),nm=Function.prototype.bind;function qs(e,t){return nm.call(e,t)}var im=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){hi(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){hi(n)}else hi(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){hi(r)}},e}(),Mo=function(e){vs(t,e);function t(r,n,i){var s=e.call(this)||this,o;if(rr(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&cd.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return s.unsubscribe()},o={next:r.next&&qs(r.next,a),error:r.error&&qs(r.error,a),complete:r.complete&&qs(r.complete,a)}):o=r}return s.destination=new im(o),s}return t}(ud);function hi(e){rm(e)}function sm(e){throw e}var om={closed:!0,next:Cl,error:sm,complete:Cl},am=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function lm(e){return e}function cm(e){return e.length===0?lm:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var Ml=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,s=dm(t)?t:new Mo(t,r,n);return Si(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=El(r),new r(function(i,s){var o=new Mo({next:function(a){try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[am]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return cm(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=El(t),new t(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},e.create=function(t){return new e(t)},e}();function El(e){var t;return(t=e??cd.Promise)!==null&&t!==void 0?t:Promise}function um(e){return e&&rr(e.next)&&rr(e.error)&&rr(e.complete)}function dm(e){return e&&e instanceof ud||um(e)&&ld(e)}var fm=od(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),dd=function(e){vs(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Il(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new fm},t.prototype.next=function(r){var n=this;Si(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=ko(n.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(r)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;Si(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;Si(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?ad:(this.currentObservers=null,a.push(r),new bs(function(){n.currentObservers=null,Co(a,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},t.prototype.asObservable=function(){var r=new Ml;return r.source=this,r},t.create=function(r,n){return new Il(r,n)},t}(Ml),Il=function(e){vs(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:ad},t}(dd);class ut{constructor(){Ss(this,"subject",new dd)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,r){this.getInstance().dispatch({modal:t,modalConfig:r})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}Ss(ut,"instance",null);const hm=ve({__name:"the-modal-container",setup(e){const t=Be(),r=po(null),n=po(null),i=Be();function s(){var o;(o=n.value)!=null&&o.closeOnClick&&ut.close()}return ut.getInstance().addEventListener(({modal:o,modalConfig:a})=>{var l;if((l=document.activeElement)==null||l.blur(),!o)return r.value=null;r.value={...o},n.value={...a},requestAnimationFrame(()=>{var g,m;i.value&&clearInterval(i.value);const u=(g=t.value)==null?void 0:g.$el;if(!u)return;const c=u.querySelector(".modal__header")?[u.querySelector(".modal__header")]:[],d=Array.from(((m=u.querySelector(".modal__content > div"))==null?void 0:m.children)||[]),f=[...c,...d];window.modalChildren=f;const h=u.querySelector("input:not(.disabled):not(.ignore-initial-focus)");h&&h.focus(),f.forEach(_=>_.classList.add("hidden")),i.value=setInterval(()=>{if(!f.length)clearInterval(i.value);else{const _=f.shift();_==null||_.classList.remove("hidden")}},30)})}),(o,a)=>(O(),L("div",{class:Fe(["modal-container",{active:!!r.value}])},[w("div",{class:"modal-container__background",onClick:a[0]||(a[0]=l=>s())}),(O(),Ge(Ru(r.value),ed(n.value,{ref_key:"modalRef",ref:t}),null,16))],2))}}),Me=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},pm=Me(hm,[["__scopeId","data-v-d79adf29"]]),gm={class:"app-layout"},mm=ve({__name:"App",setup(e){return(t,r)=>{const n=Hp("router-view");return O(),L("div",gm,[r[0]||(r[0]=w("div",{class:"pattern"},null,-1)),me(n,{name:"page"}),me(pm)])}}}),ym={},_m={class:"modal"},vm={class:"modal__content"};function bm(e,t){return O(),L("div",_m,[qi(e.$slots,"header",{},void 0),w("div",vm,[qi(e.$slots,"content",{},void 0)]),t[0]||(t[0]=w("div",{class:"modal__background"},null,-1))])}const ni=Me(ym,[["render",bm],["__scopeId","data-v-95b1d375"]]),wm="/assets/icons/close.png",km={class:"modal__header"},Sm=ve({__name:"modal-header",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function r(){t.closeButtonAction?t.closeButtonAction():ut.close()}return(n,i)=>(O(),L("div",km,[qi(n.$slots,"default",{},void 0),e.closeButton?(O(),L("button",{key:0,class:"btn btn--icon close",onClick:r},i[0]||(i[0]=[w("img",{src:wm,alt:"Close"},null,-1)]))):ze("",!0)]))}}),ii=Me(Sm,[["__scopeId","data-v-3bc86a5b"]]),xm={class:"info"},Cm=["innerHTML"],Mm={class:"row wrap center"},Em=ve({__name:"error-modal",props:{title:{},message:{},onConfirm:{type:Function},confirmText:{}},setup(e){const t=e;return(r,n)=>(O(),Ge(ni,null,{header:De(()=>[me(ii,null,{default:De(()=>[w("h3",null,ie(t.title),1)]),_:1})]),content:De(()=>[w("div",xm,[w("p",{innerHTML:t.message},null,8,Cm),w("div",Mm,[w("button",{class:"btn",onClick:n[0]||(n[0]=(...i)=>t.onConfirm&&t.onConfirm(...i))},[w("span",null,ie(t.confirmText||"Ok"),1)])])])]),_:1}))}}),fd=Me(Em,[["__scopeId","data-v-7494a38f"]]),Im={class:"info"},Tm=["innerHTML"],Am={class:"row wrap center"},Om=ve({__name:"info-modal",props:{title:{},message:{},onConfirm:{type:Function},confirmText:{}},setup(e){const t=e;return(r,n)=>(O(),Ge(ni,null,{header:De(()=>[me(ii,null,{default:De(()=>[w("h3",null,ie(t.title),1)]),_:1})]),content:De(()=>[w("div",Im,[w("p",{innerHTML:t.message},null,8,Tm),w("div",Am,[w("button",{class:"btn",onClick:n[0]||(n[0]=i=>t.onConfirm||Ke(ut).close())},[w("span",null,ie(t.confirmText||"Ok"),1)])])])]),_:1}))}}),Rm=Me(Om,[["__scopeId","data-v-c45e5027"]]);function hd(e){const t=e.id;localStorage.setItem(`scoundrel-${t}`,JSON.stringify(e));const r=localStorage.getItem("save-index")||"[]",n=JSON.parse(r),i={id:t,lastUpdated:new Date().getTime()},s=n.filter(o=>o.id!==t);s.push(i),s.sort((o,a)=>a.lastUpdated-o.lastUpdated),localStorage.setItem("save-index",JSON.stringify(s))}function pd(e){const t=localStorage.getItem(`scoundrel-${e}`);return t?JSON.parse(t):null}function Dm(){try{const e=localStorage.getItem("save-index")||"[]";return JSON.parse(e).map(r=>pd(r.id))}catch(e){return console.error(e),[]}}function Pm(){try{const e=localStorage.getItem("save-index")||"[]";return JSON.parse(e)}catch(e){return console.error(e),[]}}function Lm(e){localStorage.removeItem(`scoundrel-${e}`);const t=localStorage.getItem("save-index")||"[]",n=JSON.parse(t).filter(i=>i.id!==e);localStorage.setItem("save-index",JSON.stringify(n))}const gd=[{id:"cutter",label:"Cutter",tagline:"A dangerous and intimidating fighter",description:"",actions:{skirmish:2,command:1}},{id:"hound",label:"Hound",tagline:"A deadly sharpshooter and tracker",description:"",actions:{hunt:2,survey:1}},{id:"leech",label:"Leech",tagline:"A saboteur and technician",description:"",actions:{tinker:2,wreck:1}},{id:"lurk",label:"Lurk",tagline:"A stealthy infiltrator and burglar",description:"",actions:{finesse:1,prowl:2}},{id:"slide",label:"Slide",tagline:"A subtle manipulator and spy",description:"",actions:{consort:1,sway:2}},{id:"spider",label:"Spider",tagline:"A devious mastermind",description:"",actions:{study:1,consort:2}},{id:"whisper",label:"Whisper",tagline:"An arcane adept and channeler",description:"",actions:{study:1,attune:2}}],md=[{id:"attune",attribute:"resolve",label:"Attune",description:"Attune to spirits and the ghost field; channel electroplasmic energy; perceive and communicate with ghosts; understand spectrology."},{id:"command",attribute:"resolve",label:"Command",description:"Command obedience with your force of personality; intimidate or threaten; lead an action with one of the crew's gangs."},{id:"consort",attribute:"resolve",label:"Consort",description:"Consort with connections from your heritage, background, friends, or rivals to gain access to resources, information, people, or places."},{id:"finesse",attribute:"prowess",label:"Finesse",description:"Finesse an item from someone's pocket; employ subtle misdirection or sleight-of-hand; handle a vehicle or a mount."},{id:"hunt",attribute:"insight",label:"Hunt",description:"Hunt a target; gather information about its location and movements; attack with precision shooting from a distance."},{id:"prowl",attribute:"prowess",label:"Prowl",description:"Prowl about unseen and traverse obstacles; climb, swim, run, jump, and tumble. Ambush with close violencea backstab, throat cutting, black-jack, etc."},{id:"skirmish",attribute:"prowess",label:"Skirmish",description:"Skirmish with an opponent in close combat; assault or hold a position; brawl and wrestle."},{id:"study",attribute:"insight",label:"Study",description:"Study a person, document, or item with close scrutiny to gather information and apply knowledge; gain a deeper understanding; do research."},{id:"survey",attribute:"insight",label:"Survey",description:"Survey a location or situation to understand what's going on; sense trouble before it happens; gather information about opportunities or exploits."},{id:"sway",attribute:"resolve",label:"Sway",description:"Sway someone with charm, logic, deception, disguise, or bluff; change attitudes or behavior with manipulation or seduction."},{id:"tinker",attribute:"insight",label:"Tinker",description:"Tinker with mechanisms to create, modify, disable, or repair; disable a trap, pick a lock, or crack a safe. Use electroplasmic devices."},{id:"wreck",attribute:"prowess",label:"Wreck",description:"Wreck a place, item, or obstacle with savage force or carefully applied sabotage; breach defenses with force; create distractions and chaos."}],Tl={insight:"#1fa87f",prowess:"#f03e3e",resolve:"#7950f2"};function Gi(e){return e in Tl?Tl[e]:(console.error(`Attribute ${e} not found in colors.`),"#000000")}function Ki(e){return md.find(t=>t.id===e)}function Sn(e,t){if(!e)return 0;const r=e[t];return Object.values(r).reduce((n,i)=>n+i,0)}const Nm="0123456789abcdefghijklmnopqrstuvwxyz";function yd(e=2){const t=Nm.split("");let r="";for(let n=0;n<e;n++){for(let i=0;i<4;i++)r+=t[Math.floor(Math.random()*t.length)];n<e-1&&(r+="-")}return r}function _d(e){if(e.name)return e.name;if(!e.playbook)return"Unnamed Scoundrel";const t=gd.find(r=>r.id===e.playbook);return t?`Unnamed ${t.label}`:"Unnamed Scoundrel"}function $m(e){({...e},yd());const t=JSON.stringify(e);return btoa(new TextEncoder().encode(t).reduce((i,s)=>i+String.fromCharCode(s),"")).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Fm(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=new TextDecoder().decode(Uint8Array.from(atob(t),n=>n.charCodeAt(0)));return JSON.parse(r)}const Bm={class:"page page--import"},Um=ve({__name:"the-import-page",setup(e){const t=Be(null),{params:r}=At.currentRoute.value;t.value=r.scoundrelData;let n=null;try{t.value&&(n=Fm(t.value))}catch{}return n?(hd(n),At.replace({name:Zt.EDIT,params:{scoundrelId:n.id}}),ut.open(Rm,{title:"Success",message:"Character sheet imported successfully!"})):ut.open(fd,{title:"Error",message:"Failed to import character sheet."}),(i,s)=>(O(),L("div",Bm,[s[0]||(s[0]=w("p",null,"Importing character sheet...",-1)),w("pre",null,ie(t.value),1)]))}}),Hm=Me(Um,[["__scopeId","data-v-d5932b3c"]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const jr=typeof document<"u";function vd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Wm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&vd(e.default)}const be=Object.assign;function js(e,t){const r={};for(const n in t){const i=t[n];r[n]=Dt(i)?i.map(e):e(i)}return r}const Ln=()=>{},Dt=Array.isArray,bd=/#/g,qm=/&/g,jm=/\//g,Vm=/=/g,zm=/\?/g,wd=/\+/g,Gm=/%5B/g,Km=/%5D/g,kd=/%5E/g,Ym=/%60/g,Sd=/%7B/g,Jm=/%7C/g,xd=/%7D/g,Qm=/%20/g;function pa(e){return encodeURI(""+e).replace(Jm,"|").replace(Gm,"[").replace(Km,"]")}function Xm(e){return pa(e).replace(Sd,"{").replace(xd,"}").replace(kd,"^")}function Eo(e){return pa(e).replace(wd,"%2B").replace(Qm,"+").replace(bd,"%23").replace(qm,"%26").replace(Ym,"`").replace(Sd,"{").replace(xd,"}").replace(kd,"^")}function Zm(e){return Eo(e).replace(Vm,"%3D")}function ey(e){return pa(e).replace(bd,"%23").replace(zm,"%3F")}function ty(e){return e==null?"":ey(e).replace(jm,"%2F")}function Gn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ry=/\/$/,ny=e=>e.replace(ry,"");function Vs(e,t,r="/"){let n,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=ay(n??t,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:Gn(o)}}function iy(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Al(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function sy(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&dn(t.matched[n],r.matched[i])&&Cd(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function dn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Cd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!oy(e[r],t[r]))return!1;return!0}function oy(e,t){return Dt(e)?Ol(e,t):Dt(t)?Ol(t,e):e===t}function Ol(e,t){return Dt(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function ay(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const ar={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Kn;(function(e){e.pop="pop",e.push="push"})(Kn||(Kn={}));var Nn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Nn||(Nn={}));function ly(e){if(!e)if(jr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ny(e)}const cy=/^[^#]+#/;function uy(e,t){return e.replace(cy,"#")+t}function dy(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const ws=()=>({left:window.scrollX,top:window.scrollY});function fy(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=dy(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Rl(e,t){return(history.state?history.state.position-t:-1)+e}const Io=new Map;function hy(e,t){Io.set(e,t)}function py(e){const t=Io.get(e);return Io.delete(e),t}let gy=()=>location.protocol+"//"+location.host;function Md(e,t){const{pathname:r,search:n,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Al(l,"")}return Al(r,e)+n+i}function my(e,t,r,n){let i=[],s=[],o=null;const a=({state:f})=>{const h=Md(e,location),g=r.value,m=t.value;let _=0;if(f){if(r.value=h,t.value=f,o&&o===g){o=null;return}_=m?f.position-m.position:0}else n(h);i.forEach(S=>{S(r.value,g,{delta:_,type:Kn.pop,direction:_?_>0?Nn.forward:Nn.back:Nn.unknown})})};function l(){o=r.value}function u(f){i.push(f);const h=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(be({},f.state,{scroll:ws()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function Dl(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?ws():null}}function yy(e){const{history:t,location:r}=window,n={value:Md(e,r)},i={value:t.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(r.host&&document.querySelector("base")?e:e.slice(d))+l:gy()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),r[c?"replace":"assign"](f)}}function o(l,u){const c=be({},t.state,Dl(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),n.value=l}function a(l,u){const c=be({},i.value,t.state,{forward:l,scroll:ws()});s(c.current,c,!0);const d=be({},Dl(n.value,l,null),{position:c.position+1},u);s(l,d,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function _y(e){e=ly(e);const t=yy(e),r=my(e,t.state,t.location,t.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=be({location:"",base:e,go:n,createHref:uy.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function vy(e){return typeof e=="string"||e&&typeof e=="object"}function Ed(e){return typeof e=="string"||typeof e=="symbol"}const Id=Symbol("");var Pl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Pl||(Pl={}));function fn(e,t){return be(new Error,{type:e,[Id]:!0},t)}function Kt(e,t){return e instanceof Error&&Id in e&&(t==null||!!(e.type&t))}const Ll="[^/]+?",by={sensitive:!1,strict:!1,start:!0,end:!0},wy=/[.+*?^${}()[\]/\\]/g;function ky(e,t){const r=be({},by,t),n=[];let i=r.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(r.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(wy,"\\$&"),h+=40;else if(f.type===1){const{value:g,repeatable:m,optional:_,regexp:S}=f;s.push({name:g,repeatable:m,optional:_});const k=S||Ll;if(k!==Ll){h+=10;try{new RegExp(`(${k})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${g}" (${k}): `+x.message)}}let b=m?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;d||(b=_&&u.length<2?`(?:/${b})`:"/"+b),_&&(b+="?"),i+=b,h+=20,_&&(h+=-8),m&&(h+=-20),k===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",g=s[f-1];d[g.name]=h&&g.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:g,repeatable:m,optional:_}=h,S=g in u?u[g]:"";if(Dt(S)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const k=Dt(S)?S.join("/"):S;if(!k)if(_)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);c+=k}}return c||"/"}return{re:o,score:n,keys:s,parse:a,stringify:l}}function Sy(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Td(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const s=Sy(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(Nl(n))return 1;if(Nl(i))return-1}return i.length-n.length}function Nl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const xy={type:0,value:""},Cy=/[a-zA-Z0-9_]/;function My(e){if(!e)return[[]];if(e==="/")return[[xy]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${r})/"${u}": ${h}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(r===0?s.push({type:0,value:u}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),r=1):f();break;case 4:f(),r=n;break;case 1:l==="("?r=2:Cy.test(l)?f():(d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function Ey(e,t,r){const n=ky(My(e.path),r),i=be(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Iy(e,t){const r=[],n=new Map;t=Ul({strict:!1,end:!0,sensitive:!1},t);function i(d){return n.get(d)}function s(d,f,h){const g=!h,m=Fl(d);m.aliasOf=h&&h.record;const _=Ul(t,d),S=[m];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of x)S.push(Fl(be({},m,{components:h?h.record.components:m.components,path:A,aliasOf:h?h.record:m})))}let k,b;for(const x of S){const{path:A}=x;if(f&&A[0]!=="/"){const W=f.record.path,j=W[W.length-1]==="/"?"":"/";x.path=f.record.path+(A&&j+A)}if(k=Ey(x,f,_),h?h.alias.push(k):(b=b||k,b!==k&&b.alias.push(k),g&&d.name&&!Bl(k)&&o(d.name)),Ad(k)&&l(k),m.children){const W=m.children;for(let j=0;j<W.length;j++)s(W[j],k,h&&h.children[j])}h=h||k}return b?()=>{o(b)}:Ln}function o(d){if(Ed(d)){const f=n.get(d);f&&(n.delete(d),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(d);f>-1&&(r.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return r}function l(d){const f=Oy(d,r);r.splice(f,0,d),d.record.name&&!Bl(d)&&n.set(d.record.name,d)}function u(d,f){let h,g={},m,_;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw fn(1,{location:d});_=h.record.name,g=be($l(f.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&$l(d.params,h.keys.map(b=>b.name))),m=h.stringify(g)}else if(d.path!=null)m=d.path,h=r.find(b=>b.re.test(m)),h&&(g=h.parse(m),_=h.record.name);else{if(h=f.name?n.get(f.name):r.find(b=>b.re.test(f.path)),!h)throw fn(1,{location:d,currentLocation:f});_=h.record.name,g=be({},f.params,d.params),m=h.stringify(g)}const S=[];let k=h;for(;k;)S.unshift(k.record),k=k.parent;return{name:_,path:m,params:g,matched:S,meta:Ay(S)}}e.forEach(d=>s(d));function c(){r.length=0,n.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function $l(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function Fl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ty(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ty(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function Bl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ay(e){return e.reduce((t,r)=>be(t,r.meta),{})}function Ul(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function Oy(e,t){let r=0,n=t.length;for(;r!==n;){const s=r+n>>1;Td(e,t[s])<0?n=s:r=s+1}const i=Ry(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function Ry(e){let t=e;for(;t=t.parent;)if(Ad(t)&&Td(e,t)===0)return t}function Ad({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Dy(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(wd," "),o=s.indexOf("="),a=Gn(o<0?s:s.slice(0,o)),l=o<0?null:Gn(s.slice(o+1));if(a in t){let u=t[a];Dt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Hl(e){let t="";for(let r in e){const n=e[r];if(r=Zm(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Dt(n)?n.map(s=>s&&Eo(s)):[n&&Eo(n)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+r,s!=null&&(t+="="+s))})}return t}function Py(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Dt(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const Ly=Symbol(""),Wl=Symbol(""),ga=Symbol(""),Od=Symbol(""),To=Symbol("");function vn(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function dr(e,t,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(fn(4,{from:r,to:t})):f instanceof Error?l(f):vy(f)?l(fn(2,{from:t,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>e.call(n&&n.instances[i],t,r,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function zs(e,t,r,n,i=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(vd(l)){const c=(l.__vccOpts||l)[t];c&&s.push(dr(c,r,n,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Wm(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&dr(h,r,n,o,a,i)()}))}}return s}function ql(e){const t=tr(ga),r=tr(Od),n=Ce(()=>{const l=Ke(e.to);return t.resolve(l)}),i=Ce(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],d=r.matched;if(!c||!d.length)return-1;const f=d.findIndex(dn.bind(null,c));if(f>-1)return f;const h=jl(l[u-2]);return u>1&&jl(c)===h&&d[d.length-1].path!==h?d.findIndex(dn.bind(null,l[u-2])):f}),s=Ce(()=>i.value>-1&&Uy(r.params,n.value.params)),o=Ce(()=>i.value>-1&&i.value===r.matched.length-1&&Cd(r.params,n.value.params));function a(l={}){if(By(l)){const u=t[Ke(e.replace)?"replace":"push"](Ke(e.to)).catch(Ln);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Ce(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}function Ny(e){return e.length===1?e[0]:e}const $y=ve({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ql,setup(e,{slots:t}){const r=hs(ql(e)),{options:n}=tr(ga),i=Ce(()=>({[Vl(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Vl(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=t.default&&Ny(t.default(r));return e.custom?s:nd("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),Fy=$y;function By(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Uy(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Dt(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function jl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Vl=(e,t,r)=>e??t??r,Hy=ve({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=tr(To),i=Ce(()=>e.route||n.value),s=tr(Wl,0),o=Ce(()=>{let u=Ke(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Ce(()=>i.value.matched[o.value]);bi(Wl,Ce(()=>o.value+1)),bi(Ly,a),bi(To,i);const l=Be();return nn(()=>[l.value,a.value,e.name],([u,c,d],[f,h,g])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!dn(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return zl(r.default,{Component:f,route:u});const h=d.props[c],g=h?h===!0?u.params:typeof h=="function"?h(u):h:null,_=nd(f,be({},g,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return zl(r.default,{Component:_,route:u})||_}}});function zl(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Wy=Hy;function qy(e){const t=Iy(e.routes,e),r=e.parseQuery||Dy,n=e.stringifyQuery||Hl,i=e.history,s=vn(),o=vn(),a=vn(),l=po(ar);let u=ar;jr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=js.bind(null,I=>""+I),d=js.bind(null,ty),f=js.bind(null,Gn);function h(I,F){let $,q;return Ed(I)?($=t.getRecordMatcher(I),q=F):q=I,t.addRoute(q,$)}function g(I){const F=t.getRecordMatcher(I);F&&t.removeRoute(F)}function m(){return t.getRoutes().map(I=>I.record)}function _(I){return!!t.getRecordMatcher(I)}function S(I,F){if(F=be({},F||l.value),typeof I=="string"){const v=Vs(r,I,F.path),C=t.resolve({path:v.path},F),E=i.createHref(v.fullPath);return be(v,C,{params:f(C.params),hash:Gn(v.hash),redirectedFrom:void 0,href:E})}let $;if(I.path!=null)$=be({},I,{path:Vs(r,I.path,F.path).path});else{const v=be({},I.params);for(const C in v)v[C]==null&&delete v[C];$=be({},I,{params:d(v)}),F.params=d(F.params)}const q=t.resolve($,F),U=I.hash||"";q.params=c(f(q.params));const ue=iy(n,be({},I,{hash:Xm(U),path:q.path})),y=i.createHref(ue);return be({fullPath:ue,hash:U,query:n===Hl?Py(I.query):I.query||{}},q,{redirectedFrom:void 0,href:y})}function k(I){return typeof I=="string"?Vs(r,I,l.value.path):be({},I)}function b(I,F){if(u!==I)return fn(8,{from:F,to:I})}function x(I){return j(I)}function A(I){return x(be(k(I),{replace:!0}))}function W(I){const F=I.matched[I.matched.length-1];if(F&&F.redirect){const{redirect:$}=F;let q=typeof $=="function"?$(I):$;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=k(q):{path:q},q.params={}),be({query:I.query,hash:I.hash,params:q.path!=null?{}:I.params},q)}}function j(I,F){const $=u=S(I),q=l.value,U=I.state,ue=I.force,y=I.replace===!0,v=W($);if(v)return j(be(k(v),{state:typeof v=="object"?be({},U,v.state):U,force:ue,replace:y}),F||$);const C=$;C.redirectedFrom=F;let E;return!ue&&sy(n,q,$)&&(E=fn(16,{to:C,from:q}),dt(q,q,!0,!1)),(E?Promise.resolve(E):ce(C,q)).catch(T=>Kt(T)?Kt(T,2)?T:Ne(T):ae(T,C,q)).then(T=>{if(T){if(Kt(T,2))return j(be({replace:y},k(T.to),{state:typeof T.to=="object"?be({},U,T.to.state):U,force:ue}),F||C)}else T=Q(C,q,!0,y,U);return ye(C,q,T),T})}function z(I,F){const $=b(I,F);return $?Promise.reject($):Promise.resolve()}function ne(I){const F=zt.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(I):I()}function ce(I,F){let $;const[q,U,ue]=jy(I,F);$=zs(q.reverse(),"beforeRouteLeave",I,F);for(const v of q)v.leaveGuards.forEach(C=>{$.push(dr(C,I,F))});const y=z.bind(null,I,F);return $.push(y),ft($).then(()=>{$=[];for(const v of s.list())$.push(dr(v,I,F));return $.push(y),ft($)}).then(()=>{$=zs(U,"beforeRouteUpdate",I,F);for(const v of U)v.updateGuards.forEach(C=>{$.push(dr(C,I,F))});return $.push(y),ft($)}).then(()=>{$=[];for(const v of ue)if(v.beforeEnter)if(Dt(v.beforeEnter))for(const C of v.beforeEnter)$.push(dr(C,I,F));else $.push(dr(v.beforeEnter,I,F));return $.push(y),ft($)}).then(()=>(I.matched.forEach(v=>v.enterCallbacks={}),$=zs(ue,"beforeRouteEnter",I,F,ne),$.push(y),ft($))).then(()=>{$=[];for(const v of o.list())$.push(dr(v,I,F));return $.push(y),ft($)}).catch(v=>Kt(v,8)?v:Promise.reject(v))}function ye(I,F,$){a.list().forEach(q=>ne(()=>q(I,F,$)))}function Q(I,F,$,q,U){const ue=b(I,F);if(ue)return ue;const y=F===ar,v=jr?history.state:{};$&&(q||y?i.replace(I.fullPath,be({scroll:y&&v&&v.scroll},U)):i.push(I.fullPath,U)),l.value=I,dt(I,F,$,y),Ne()}let fe;function Z(){fe||(fe=i.listen((I,F,$)=>{if(!Cr.listening)return;const q=S(I),U=W(q);if(U){j(be(U,{replace:!0,force:!0}),q).catch(Ln);return}u=q;const ue=l.value;jr&&hy(Rl(ue.fullPath,$.delta),ws()),ce(q,ue).catch(y=>Kt(y,12)?y:Kt(y,2)?(j(be(k(y.to),{force:!0}),q).then(v=>{Kt(v,20)&&!$.delta&&$.type===Kn.pop&&i.go(-1,!1)}).catch(Ln),Promise.reject()):($.delta&&i.go(-$.delta,!1),ae(y,q,ue))).then(y=>{y=y||Q(q,ue,!1),y&&($.delta&&!Kt(y,8)?i.go(-$.delta,!1):$.type===Kn.pop&&Kt(y,20)&&i.go(-1,!1)),ye(q,ue,y)}).catch(Ln)}))}let Se=vn(),oe=vn(),ee;function ae(I,F,$){Ne(I);const q=oe.list();return q.length?q.forEach(U=>U(I,F,$)):console.error(I),Promise.reject(I)}function Je(){return ee&&l.value!==ar?Promise.resolve():new Promise((I,F)=>{Se.add([I,F])})}function Ne(I){return ee||(ee=!I,Z(),Se.list().forEach(([F,$])=>I?$(I):F()),Se.reset()),I}function dt(I,F,$,q){const{scrollBehavior:U}=e;if(!jr||!U)return Promise.resolve();const ue=!$&&py(Rl(I.fullPath,0))||(q||!$)&&history.state&&history.state.scroll||null;return wu().then(()=>U(I,F,ue)).then(y=>y&&fy(y)).catch(y=>ae(y,I,F))}const Xe=I=>i.go(I);let Mt;const zt=new Set,Cr={currentRoute:l,listening:!0,addRoute:h,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:_,getRoutes:m,resolve:S,options:e,push:x,replace:A,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:oe.add,isReady:Je,install(I){const F=this;I.component("RouterLink",Fy),I.component("RouterView",Wy),I.config.globalProperties.$router=F,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>Ke(l)}),jr&&!Mt&&l.value===ar&&(Mt=!0,x(i.location).catch(U=>{}));const $={};for(const U in ar)Object.defineProperty($,U,{get:()=>l.value[U],enumerable:!0});I.provide(ga,F),I.provide(Od,mu($)),I.provide(To,l);const q=I.unmount;zt.add(I),I.unmount=function(){zt.delete(I),zt.size<1&&(u=ar,fe&&fe(),fe=null,l.value=ar,Mt=!1,ee=!1),q()}}};function ft(I){return I.reduce((F,$)=>F.then(()=>ne($)),Promise.resolve())}return Cr}function jy(e,t){const r=[],n=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>dn(u,a))?n.push(a):r.push(a));const l=e.matched[o];l&&(t.matched.find(u=>dn(u,l))||i.push(l))}return[r,n,i]}const Rd="/assets/icons/loading.png",Vy={class:"news"},zy={key:0},Gy={class:"news-item__title"},Ky=["innerHTML"],Yy={key:1,class:"preview-container"},Jy={ref:"sheetPreview",class:"preview"},Qy=ve({__name:"news-modal",setup(e){const t=Be([]);return fetch("/assets/news.json?_t="+Date.now()).then(r=>r.json()).then(r=>{t.value=r,localStorage.setItem("lastNewsIdSeen",r[0].id)}),(r,n)=>(O(),Ge(ni,null,{header:De(()=>[me(ii,{"close-button":""},{default:De(()=>n[0]||(n[0]=[w("h3",null,"News & Updates",-1)])),_:1})]),content:De(()=>[w("section",Vy,[t.value.length?(O(),L("ul",zy,[(O(!0),L(se,null,Ye(t.value,i=>(O(),L("li",{class:"news-item",key:i.id},[w("div",Gy,[w("h2",null,ie(i==null?void 0:i.title),1),w("h2",null,ie(i==null?void 0:i.date),1)]),w("div",{class:"news-item__content",innerHTML:i==null?void 0:i.content},null,8,Ky)]))),128))])):(O(),L("div",Yy,[n[1]||(n[1]=w("img",{class:"spinner",src:Rd,alt:"Loading"},null,-1)),w("img",Jy,null,512)]))])]),_:1}))}}),Gl=Me(Qy,[["__scopeId","data-v-d6cc3db3"]]),Xy={class:"scoundrel-card"},Zy=["src"],e_={key:1},t_=ve({__name:"scoundrel-card",props:{scoundrel:{},lastUpdated:{}},setup(e){const t=e,r=Ce(()=>_d(t.scoundrel));return(n,i)=>(O(),L("div",Xy,[t.scoundrel.portrait?(O(),L("img",{key:0,class:"portrait",src:`/assets/${t.scoundrel.portrait}`},null,8,Zy)):ze("",!0),w("p",null,ie(r.value),1),t.lastUpdated?(O(),L("label",e_,"Updated "+ie(t.lastUpdated.toLocaleDateString()),1)):ze("",!0)]))}}),r_=Me(t_,[["__scopeId","data-v-6ba1c352"]]),n_={class:"page-content"},i_={key:0,class:"saved-scoundrels-list"},s_={class:"footer-container"},o_={class:"logo-and-olin"},a_={class:"version"},l_={class:"muted"},c_=ve({__name:"the-home-page",setup(e){const t=Be(null),r=Be([]);r.value=Dm().filter(a=>!!a);const n=Be(Pm());ua(()=>{fetch("/assets/news.json?_t="+Date.now()).then(a=>a.json()).then(a=>{const l=localStorage.getItem("lastNewsIdSeen");a.map(d=>d.id)[0].toString()!==l&&ut.open(Gl)})});async function i(){var a,l;(a=t.value)==null||a.classList.remove("page-in"),(l=t.value)==null||l.classList.add("page-out"),await new Promise(u=>setTimeout(u,500)),At.push({name:Zt.MAKE})}function s(a){At.replace({name:Zt.EDIT,params:{scoundrelId:a.id}})}function o(a){const l=n.value.find(u=>u.id===a);return l?new Date(l==null?void 0:l.lastUpdated):null}return(a,l)=>(O(),L("div",{class:"page page--home page-in",ref_key:"page",ref:t},[w("div",n_,[l[2]||(l[2]=w("h1",null,"Scoundry",-1)),l[3]||(l[3]=w("p",null,[Le(" A character keeper for "),w("a",{href:"https://bladesinthedark.com/",target:"_blank"},"Blades in the Dark")],-1)),w("div",{class:"row"},[w("button",{class:"btn",onClick:i},l[1]||(l[1]=[w("span",null,"Make a new Scoundrel",-1)]))]),r.value.length?(O(),L("ul",i_,[(O(!0),L(se,null,Ye(r.value,u=>(O(),Ge(r_,{key:u.id,scoundrel:u,lastUpdated:o(u.id),onClick:c=>s(u)},null,8,["scoundrel","lastUpdated","onClick"]))),128))])):ze("",!0),l[4]||(l[4]=w("label",{class:"scroll-note"},"Scroll down to see attribution",-1))]),w("div",s_,[w("footer",null,[w("div",o_,[w("h2",null,[l[5]||(l[5]=Le(" www.scoundry.com ")),w("span",a_,"v"+ie(Ke(Wd)),1)]),l[6]||(l[6]=w("p",null,[Le(" Code & design by "),w("a",{href:"https://olinkirk.land",target:"_blank"},"Olin Kirkland")],-1)),w("p",null,[w("a",{onClick:l[0]||(l[0]=u=>Ke(ut).open(Gl))},"News & Updates")]),w("p",l_," Copyright  "+ie(new Date().getFullYear())+" Olin Kirkland ",1)]),l[7]||(l[7]=w("div",null,[w("p",null,[Le(" This work is based on "),w("a",{href:"http://www.bladesinthedark.com/",target:"_blank"},"Blades in the Dark"),Le("  a product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),w("a",{href:"http://creativecommons.org/licenses/by/3.0",target:"_blank"},"Creative Commons Attribution 3.0 license")])],-1)),l[8]||(l[8]=w("div",null,[w("p",null,[Le(" Portrait images are from "),w("a",{href:"https://guides.loc.gov/p-and-p-rights-and-restrictions/risk-assessment",target:"_blank"},"The Library of Congress"),Le(" with no known restrictions their use. ")]),w("p",null,[Le(" Icons are from "),w("a",{href:"https://icons8.com",target:"_blank"},"Icons8.com")])],-1))])])],512))}}),u_=Me(c_,[["__scopeId","data-v-74f796ff"]]),d_={class:"page page--lost"},f_=ve({__name:"the-lost-page",setup(e){function t(){At.push({name:Zt.HOME})}return(r,n)=>(O(),L("div",d_,[n[1]||(n[1]=w("h1",null,"404",-1)),n[2]||(n[2]=w("p",null,"This page does not exist.",-1)),w("button",{class:"btn btn--alt",onClick:n[0]||(n[0]=i=>t())}," Return to Home Page ")]))}}),h_=Me(f_,[["__scopeId","data-v-629e908b"]]),p_={class:"confirm"},g_=["innerHTML"],m_={class:"choices"},y_=ve({__name:"confirm-modal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{}},setup(e){const t=e;function r(){t.onCancel?t.onCancel():ut.close()}return(n,i)=>(O(),Ge(ni,null,{header:De(()=>[me(ii,{closeButton:"",closeButtonAction:r},{default:De(()=>[w("h3",null,ie(t.title),1)]),_:1})]),content:De(()=>[w("div",p_,[w("p",{innerHTML:t.message},null,8,g_),w("div",m_,[w("button",{class:"btn btn--alt",onClick:i[0]||(i[0]=(...s)=>t.onConfirm&&t.onConfirm(...s))},[w("span",null,ie(t.confirmText||"Yes"),1)]),w("button",{class:"btn",onClick:r},[w("span",null,ie(t.cancelText||"No, I changed my mind"),1)])])])]),_:1}))}}),__=Me(y_,[["__scopeId","data-v-0b702394"]]),v_=ve({__name:"step-block",props:{stepLabel:{},stepNumber:{},active:{type:Boolean},completed:{type:Boolean}},setup(e){const t=e,r=Be();return(n,i)=>(O(),L("div",{ref_key:"step",ref:r,class:Fe(["step",{active:t.active,completed:t.completed}])},[w("p",null,ie(t.stepLabel),1)],2))}}),b_=Me(v_,[["__scopeId","data-v-cb1f6949"]]),w_=JSON.parse(`[{"id":"battleborn","label":"Battleborn","description":"You may expend your special armor to reduce harm from an attack in combat or to push yourself during a fight.","category":"cutter"},{"id":"bodyguard","label":"Bodyguard","description":"When you protect a teammate, take +1d to your resistance roll. When you gather info to anticipate possible threats in the current situation, you get +1 effect.","category":"cutter"},{"id":"ghost-fighter","label":"Ghost Fighter","description":"You may imbue your hands, melee weapons, or tools with spirit energy. You gain potency in combat vs. the supernatural. You may grapple with spirits to restrain and capture them.","category":"cutter"},{"id":"leader","label":"Leader","description":"When you Command a cohort in combat, they continue to fight when they would otherwise break (they're not taken out when they suffer level 3 harm). They gain +1 effect and 1 armor.","category":"cutter"},{"id":"mule","label":"Mule","description":"Your load limits are higher. Light: 5. Normal: 7. Heavy: 8.","category":"cutter"},{"id":"not-to-be-trifled-with","label":"Not to be Trifled With","description":"You can push yourself to do one of the following: perform a feat of physical force that verges on the superhumanengage a small gang on equal footing in close combat.","category":"cutter"},{"id":"savage","label":"Savage","description":"When you unleash physical violence, it's especially frightening. When you Command a frightened target, take +1d.","category":"cutter"},{"id":"vigorous","label":"Vigorous","description":"You recover from harm faster. Permanently fill in one of your healing clock segments. Take +1d to healing treatment rolls.","category":"cutter"},{"id":"sharpshooter","label":"Sharpshooter","description":"You can push yourself to do one of the following: make a ranged attack at extreme distance beyond whats normal for the weaponunleash a barrage of rapid fire to suppress the enemy.","category":"hound"},{"id":"focused","label":"Focused","description":"You may expend your special armor to resist a consequence of surprise or mental harm (fear, confusion, losing track of someone) or to push yourself for ranged combat or tracking.","category":"hound"},{"id":"ghost-hunter","label":"Ghost Hunter","description":"Your hunting pet is imbued with spirit energy. It gains potency when tracking or fighting the supernatural, and gains one arcane ability: ghost-form, mind-link, or arrow-swift.","category":"hound"},{"id":"ghost-hunter-2","label":"Ghost Hunter +","description":"Ghost Hunter is required to take this ability. Choose an additional arcane ability for your pet.","category":"hound"},{"id":"scout","label":"Scout","description":"When you gather info to locate a target, you get +1 effect. When you hide in a prepared position or use camouflage, you get +1d to rolls to avoid detection.","category":"hound"},{"id":"survivor","label":"Survivor","description":"From hard-won experience or occult ritual, you are immune to the poisonous miasma of the deathlands and are able to subsist on the strange flora and fauna there. You get +1 stress box.","category":"hound"},{"id":"tough-as-nails","label":"Tough as Nails","description":"Penalties from harm are one level less severe (though level 4 harm is still fatal).","category":"hound"},{"id":"vengeful","label":"Vengeful","description":"You gain an additional xp trigger: You got payback against someone who harmed you or someone you care about. If your crew helped you get payback, also mark crew xp.","category":"hound"},{"id":"alchemist","label":"Alchemist","description":"When you invent or craft a creation with alchemical features, take +1 result level to your roll. You begin with one special formula already known.","category":"leech"},{"id":"analyst","label":"Analyst","description":"During downtime, you get two ticks to distribute among any long-term project clocks that involve investigation or learning a new formula or design plan.","category":"leech"},{"id":"artificer","label":"Artificer","description":"When you invent or craft a creation with spark-craft features, take +1 result level to your roll. You begin with one special design already known.","category":"leech"},{"id":"fortitude","label":"Fortitude","description":"You may expend your special armor to resist a consequence of fatigue, weakness, or chemical effects, or to push yourself when working with technical skill or handling alchemicals.","category":"leech"},{"id":"ghost-ward","label":"Ghost Ward","description":"You know how to Wreck an area with arcane substances and methods so it is either anathema or enticing to spirits (your choice).","category":"leech"},{"id":"physicker","label":"Physicker","description":"You can Tinker with bones, blood, and bodily humours to treat wounds or stabilize the dying. You may study a malady or corpse. Everyone in your crew gets +1d to their healing treatment rolls.","category":"leech"},{"id":"saboteur","label":"Saboteur","description":"When you Wreck, the work is much quieter than it should be and the damage is hidden from casual inspection.","category":"leech"},{"id":"venomous","label":"Venomous","description":"Choose a drug or poison (from your bandolier stock) to which you have become immune. You can push yourself to secrete it through your skin or saliva or exhale it as a vapor.","category":"leech"},{"id":"infiltrator","label":"Infiltrator","description":"You are not affected by quality or Tier when you bypass security measures.","category":"lurk"},{"id":"ambush","label":"Ambush","description":"When you attack from hiding or spring a trap, you get +1d.","category":"lurk"},{"id":"daredevil","label":"Daredevil","description":"When you roll a desperate action, you get +1d to your roll if you also take -1d to any resistance rolls against consequences from your action.","category":"lurk"},{"id":"the-devils-footsteps","label":"The Devil's Footsteps","description":"When you push yourself, choose one of the following additional benefits: perform a feat of athletics that verges on the superhumanmaneuver to confuse your enemies so they mistakenly attack each other.","category":"lurk"},{"id":"expertise","label":"Expertise","description":"Choose one of your action ratings. When you lead a group action using that action, you can suffer only 1 stress at most regardless of the number of failed rolls.","category":"lurk"},{"id":"ghost-veil","label":"Ghost Veil","description":"You may shift partially into the ghost field, becoming shadowy and insubstantial for a few moments. Take 2 stress when you shift, plus 1 stress for each extra feature: It lasts for a few minutes rather than momentsyou are invisible rather than shadowyyou may float through the air like a ghost.","category":"lurk"},{"id":"reflexes","label":"Reflexes","description":"When there's a question about who acts first, the answer is you (two characters with Reflexes act simultaneously).","category":"lurk"},{"id":"shadow","label":"Shadow","description":"You may expend your special armor to resist a consequence from detection or security measures, or to push yourself for a feat of athletics or stealth.","category":"lurk"},{"id":"rooks-gambit","label":"Rook's Gambit","description":"Take 2 stress to roll your best action rating while performing a different action. Say how you adapt your skill to this use.","category":"slide"},{"id":"cloak-and-dagger","label":"Cloak & Dagger","description":"When you use a disguise or other form of covert misdirection, you get +1d to rolls to confuse or deflect suspicion. When you throw off your disguise, the resulting surprise gives you the initiative in the situation.","category":"slide"},{"id":"ghost-voice","label":"Ghost Voice","description":"You know the secret method to interact with a ghost or demon as if it was a normal human, regardless of how wild or feral it appears. You gain potency when communicating with the supernatural.","category":"slide"},{"id":"like-looking-into-a-mirror","label":"Like Looking into a Mirror","description":"You can always tell when someone is lying to you.","category":"slide"},{"id":"a-little-something-on-the-side","label":"A Little Something on the Side","description":"At the end of each downtime phase, you earn +2 stash.","category":"slide"},{"id":"mesmerism","label":"Mesmerism","description":"When you Sway someone, you may cause them to forget that it's happened until they next interact with you.","category":"slide"},{"id":"subterfuge","label":"Subterfuge","description":"You may expend your special armor to resist a consequence from suspicion or persuasion, or to push yourself for subterfuge.","category":"slide"},{"id":"trust-in-me","label":"Trust in Me","description":"You get +1d vs. a target with whom you have an intimate relationship.","category":"slide"},{"id":"foresight","label":"Foresight","description":"Two times per score you can assist a teammate without paying stress. Tell us how you prepared for this.","category":"spider"},{"id":"calculating","label":"Calculating","description":"Due to your careful planning, during downtime, you may give yourself or another crew member +1 downtime action.","category":"spider"},{"id":"connected","label":"Connected","description":"During downtime, you get +1 result level when you acquire an asset or reduce heat.","category":"spider"},{"id":"functioning-vice","label":"Functioning Vice","description":"When you indulge your vice, you may adjust the dice outcome by 1 or 2 (up or down). An ally who joins in your vice may do the same.","category":"spider"},{"id":"ghost-contract","label":"Ghost Contract","description":"When you shake on a deal, you and your partnerhuman or otherwiseboth bear a mark of your oath. If either breaks the contract, they take level 3 harm, 'Cursed'.","category":"spider"},{"id":"jail-bird","label":"Jail Bird","description":"When incarcerated, your wanted level counts as 1 less, your Tier as 1 more, and you gain +1 faction status with a faction you help on the inside (in addition to your incarceration roll).","category":"spider"},{"id":"mastermind","label":"Mastermind","description":"You may expend your special armor to protect a teammate, or to push yourself when you gather information or work on a long-term project.","category":"spider"},{"id":"weaving-the-web","label":"Weaving the Web","description":"You gain +1d to Consort when you gather information on a target for a score. You get +1d to the engagement roll for that operation.","category":"spider"},{"id":"compel","label":"Compel","description":"You can Attune to the ghost field to force a nearby ghost to appear and obey a command you give it. You are not supernaturally terrified by a ghost you summon or compel (though your allies may be).","category":"whisper"},{"id":"ghost-mind","label":"Ghost Mind","description":"Youre always aware of supernatural entities in your presence. Take +1d when you gather info about the supernatural.","category":"whisper"},{"id":"iron-will","label":"Iron Will","description":"You're immune to the terror that some supernatural entities inflict on sight. Take +1d to resistance rolls with Resolve.","category":"whisper"},{"id":"occultist","label":"Occultist","description":"You know the secret ways to Consort with ancient powers, forgotten gods or demons. Once you've consorted with one, you get +1d to command cultists who worship it.","category":"whisper"},{"id":"ritual","label":"Ritual","description":"You can Study an occult ritual (or create a new one) to summon a supernatural effect or being. You know the arcane methods to perform ritual sorcery. You begin with one ritual already learned.","category":"whisper"},{"id":"strange-methods","label":"Strange Methods","description":"When you invent or craft a creation with arcane features, take +1 result level to your roll. You begin with one arcane design already known.","category":"whisper"},{"id":"tempest","label":"Tempest","description":"You can push yourself to do one of the following: unleash a stroke of lightning as a weaponsummon a storm in your immediate vicinity (torrential rain, roaring winds, heavy fog, chilling frost/snow, etc.).","category":"whisper"},{"id":"warded","label":"Warded","description":"You may expend your special armor to resist a supernatural consequence, or to push yourself when you deal with arcane forces.","category":"whisper"}]`),k_={};function S_(e,t){return O(),L("header",null,[qi(e.$slots,"default",{},void 0)])}const or=Me(k_,[["render",S_],["__scopeId","data-v-57b3b720"]]),x_={class:"ability-card"},C_={class:"description"},M_=ve({__name:"ability-card",props:{ability:{}},setup(e){return(t,r)=>(O(),L("div",x_,[w("h2",null,ie(t.ability.label),1),w("p",C_,ie(t.ability.description),1)]))}}),E_=Me(M_,[["__scopeId","data-v-37f853d2"]]),I_={key:0,class:"abilities-list"},T_=ve({__name:"abilities-step",props:{scoundrel:{}},setup(e){const t=Ce(()=>w_.filter(i=>i.category===r.scoundrel.playbook)),r=e;r.scoundrel.abilities||(r.scoundrel.abilities=[]);function n(i){const s=r.scoundrel.abilities.indexOf(i.id);s===-1?r.scoundrel.abilities.push(i.id):r.scoundrel.abilities.splice(s,1)}return(i,s)=>(O(),L(se,null,[me(or,null,{default:De(()=>s[0]||(s[0]=[w("h2",null,[Le("Choose a "),w("strong",null,"special ability")],-1),w("p",null,"What ability sets your character apart in the crew?",-1)])),_:1}),i.scoundrel.abilities?(O(),L("ul",I_,[(O(!0),L(se,null,Ye(t.value,o=>(O(),Ge(E_,{key:o.id,ability:o,class:Fe({active:i.scoundrel.abilities.includes(o.id)}),onClick:a=>n(o)},null,8,["ability","class","onClick"]))),128))])):ze("",!0),s[1]||(s[1]=w("section",{class:"veteran hidden"},[w("p",null,[Le(" You can add a special ability from another playbook by using a "),w("strong",null,"veteran advance"),Le(". ")]),w("button",{class:"btn btn--alt disabled"},"Use a Veteran Advance")],-1))],64))}}),A_=Me(T_,[["__scopeId","data-v-221cc523"]]),O_="/assets/icons/minus.png",R_="/assets/icons/plus.png",Yi=JSON.parse('[{"trait":"academic","id":"antiquarian","label":"Antiquarian","suggestedActions":["attune","study","tinker"]},{"trait":"academic","id":"criminologist","label":"Criminologist","suggestedActions":["consort","study","survey"]},{"trait":"academic","id":"demonologist","label":"Demonologist","suggestedActions":["attune","consort","study"]},{"trait":"academic","id":"electrochemist","label":"Electrochemist","suggestedActions":["attune","study","tinker"]},{"trait":"academic","id":"engineer","label":"Engineer","suggestedActions":["study","tinker","wreck"]},{"trait":"academic","id":"naturalist","label":"Naturalist","suggestedActions":["attune","hunt","study"]},{"trait":"academic","id":"psychometrist","label":"Psychometrist","suggestedActions":["consort","study","sway"]},{"trait":"academic","id":"scholar","label":"Scholar","suggestedActions":["consort","study","sway"]},{"trait":"academic","id":"spectrologist","label":"Spectrologist","suggestedActions":["attune","study","tinker"]},{"trait":"law-and-military","id":"acolyte-spirit-warden","label":"Acolyte Spirit Warden","suggestedActions":["attune","command","skirmish"]},{"trait":"law-and-military","id":"bluecoat","label":"Bluecoat","suggestedActions":["command","skirmish","wreck"]},{"trait":"law-and-military","id":"bounty-hunter","label":"Bounty Hunter","suggestedActions":["consort","hunt","skirmish"]},{"trait":"law-and-military","id":"diplomat","label":"Diplomat","suggestedActions":["study","consort","sway"]},{"trait":"law-and-military","id":"firefighter","label":"Firefighter","suggestedActions":["command","survey","wreck"]},{"trait":"law-and-military","id":"leviathan-hunter","label":"Leviathan Hunter","suggestedActions":["finesse","hunt","skirmish"]},{"trait":"law-and-military","id":"military-guardsman","label":"Military Guardsman","suggestedActions":["command","hunt","skirmish"]},{"trait":"law-and-military","id":"ministry-agent","label":"Ministry Agent","suggestedActions":["hunt","prowl","survey"]},{"trait":"law-and-military","id":"rifle-scout","label":"Rifle Scout","suggestedActions":["hunt","prowl","survey"]},{"trait":"law-and-military","id":"sparkwright","label":"Sparkwright","suggestedActions":["finesse","study","tinker"]},{"trait":"labor","id":"docker","label":"Docker","suggestedActions":["consort","skirmish","wreck"]},{"trait":"labor","id":"driver","label":"Driver","suggestedActions":["finesse","prowl","skirmish"]},{"trait":"labor","id":"factory-worker","label":"Factory Worker","suggestedActions":["command","tinker","wreck"]},{"trait":"labor","id":"farmhand","label":"Farmhand","suggestedActions":["finesse","study","tinker"]},{"trait":"labor","id":"fighter","label":"Fighter","suggestedActions":["command","prowl","skirmish"]},{"trait":"labor","id":"linewalker","label":"Linewalker","suggestedActions":["finesse","prowl","tinker"]},{"trait":"labor","id":"miner","label":"Miner","suggestedActions":["survey","tinker","wreck"]},{"trait":"labor","id":"rail-jack","label":"Rail Jack","suggestedActions":["attune","prowl","skirmish"]},{"trait":"labor","id":"sailor","label":"Sailor","suggestedActions":["command","finesse","survey"]},{"trait":"labor","id":"scavenger","label":"Scavenger","suggestedActions":["hunt","survey","tinker"]},{"trait":"labor","id":"sentry","label":"Sentry","suggestedActions":["hunt","skirmish","survey"]},{"trait":"labor","id":"servant","label":"Servant","suggestedActions":["consort","finesse","survey"]},{"trait":"noble","id":"artist","label":"Artist","suggestedActions":["consort","finesse","sway"]},{"trait":"noble","id":"captain","label":"Captain","suggestedActions":["command","finesse","survey"]},{"trait":"noble","id":"councilor","label":"Councilor","suggestedActions":["consort","study","sway"]},{"trait":"noble","id":"courtier","label":"Courtier","suggestedActions":["consort","study","sway"]},{"trait":"noble","id":"dilettante","label":"Dilettante","suggestedActions":["consort","finesse","sway"]},{"trait":"noble","id":"duelist","label":"Duelist","suggestedActions":["finesse","skirmish","study"]},{"trait":"noble","id":"envoy","label":"Envoy","suggestedActions":["consort","study","sway"]},{"trait":"noble","id":"explorer","label":"Explorer","suggestedActions":["hunt","finesse","survey"]},{"trait":"noble","id":"occultist","label":"Occultist","suggestedActions":["attune","consort","study"]},{"trait":"noble","id":"steward","label":"Steward","suggestedActions":["command","study","survey"]},{"trait":"trade","id":"artisan","label":"Artisan","suggestedActions":["finesse","study","tinker"]},{"trait":"trade","id":"courier","label":"Courier","suggestedActions":["hunt","prowl","survey"]},{"trait":"trade","id":"gondolier","label":"Gondolier","suggestedActions":["attune","finesse","hunt"]},{"trait":"trade","id":"journalist","label":"Journalist","suggestedActions":["consort","study","sway"]},{"trait":"trade","id":"mediciner","label":"Mediciner","suggestedActions":["consort","finesse","study"]},{"trait":"trade","id":"merchant","label":"Merchant","suggestedActions":["consort","study","sway"]},{"trait":"trade","id":"purveyor","label":"Purveyor","suggestedActions":["consort","study","tinker"]},{"trait":"trade","id":"secretary","label":"Secretary","suggestedActions":["consort","study","survey"]},{"trait":"trade","id":"technician","label":"Technician","suggestedActions":["study","tinker","wreck"]},{"trait":"trade","id":"taverner","label":"Taverner","suggestedActions":["consort","finesse","sway"]},{"trait":"underworld","id":"convict","label":"Convict","suggestedActions":["consort","command","skirmish"]},{"trait":"underworld","id":"cultist","label":"Cultist","suggestedActions":["attune","consort","study"]},{"trait":"underworld","id":"dealer","label":"Dealer","suggestedActions":["consort","sway","tinker"]},{"trait":"underworld","id":"fence","label":"Fence","suggestedActions":["consort","study","sway"]},{"trait":"underworld","id":"hustler","label":"Hustler","suggestedActions":["consort","study","sway"]},{"trait":"underworld","id":"informant","label":"Informant","suggestedActions":["hunt","study","survey"]},{"trait":"underworld","id":"lark","label":"Lark","suggestedActions":["consort","finesse","sway"]},{"trait":"underworld","id":"roof-runner","label":"Roof Runner","suggestedActions":["hunt","prowl","survey"]},{"trait":"underworld","id":"thief","label":"Thief","suggestedActions":["finesse","prowl","tinker"]},{"trait":"underworld","id":"thug","label":"Thug","suggestedActions":["command","skirmish","wreck"]}]'),Ji=JSON.parse(`[{"trait":null,"label":"Deathlander","id":"deathlander","suggestedActions":["attune","hunt","prowl"]},{"trait":null,"label":"Exile","id":"exile","suggestedActions":["command","consort","sway"]},{"trait":null,"label":"Nomad","id":"nomad","suggestedActions":["consort","finesse","survey"]},{"trait":null,"label":"Outlaw","id":"outlaw","suggestedActions":["consort","sway","prowl"]},{"trait":null,"label":"Refugee","id":"refugee","suggestedActions":["consort","finesse","skirmish"]},{"label":"Church of Ecstasy","id":"church-of-ecstasy","suggestedActions":["attune","command","sway"],"trait":"akoros"},{"label":"Doskvol Academy","id":"doskvol-academy","suggestedActions":["command","finesse","study"],"trait":"akoros"},{"label":"Governor's Stronghold","id":"governors-stronghold","suggestedActions":["command","consort","sway"],"trait":"akoros"},{"label":"Ironworks Labor","id":"ironworks-labor","suggestedActions":["consort","tinker","wreck"],"trait":"akoros"},{"label":"North Hook Company","id":"north-hook-company","suggestedActions":["command","finesse","sway"],"trait":"akoros"},{"label":"Radiant Energy Farmers","id":"radiant-energy-farmers","suggestedActions":["study","survey","tinker"],"trait":"akoros"},{"label":"Cloudspire Aeronauts","id":"cloudspire-aeronauts","suggestedActions":["study","tinker","wreck"],"trait":"akoros"},{"label":"Ilysian Guard","id":"ilysian-guard","suggestedActions":["command","hunt","skirmish"],"trait":"akoros"},{"label":"Imperial City Courtiers","id":"imperial-city-courtiers","suggestedActions":["command","consort","sway"],"trait":"akoros"},{"label":"South Point Traders","id":"south-point-traders","suggestedActions":["consort","finesse","sway"],"trait":"akoros"},{"label":"Whitehollow Miners","id":"whitehollow-miners","suggestedActions":["study","tinker","wreck"],"trait":"akoros"},{"label":"Wintercliff Wardens","id":"wintercliff-wardens","suggestedActions":["attune","hunt","study"],"trait":"akoros"},{"label":"Bonewalker","id":"bonewalker","suggestedActions":["attune","consort","study"],"trait":"dagger-isles"},{"label":"Lhan Lhaban","id":"lhan-lhaban","suggestedActions":["consort","finesse","skirmish"],"trait":"dagger-isles"},{"label":"Liberators","id":"liberators","suggestedActions":["prowl","skirmish","wreck"],"trait":"dagger-isles"},{"label":"Lore Keepers","id":"lore-keepers","suggestedActions":["consort","study","sway"],"trait":"dagger-isles"},{"label":"Melamatines","id":"melamatines","suggestedActions":["attune","prowl","survey"],"trait":"dagger-isles"},{"label":"Vidyad","id":"vidyad","suggestedActions":["finesse","survey","tinker"],"trait":"dagger-isles"},{"label":"Bright Harbor Fleet","id":"bright-harbor-fleet","suggestedActions":["command","study","sway"],"trait":"iruvia"},{"label":"City Guardians","id":"city-guardians","suggestedActions":["attune","hunt","skirmish"],"trait":"iruvia"},{"label":"Emissaries","id":"emissaries","suggestedActions":["command","consort","sway"],"trait":"iruvia"},{"label":"Falconers","id":"falconers","suggestedActions":["command","hunt","sway"],"trait":"iruvia"},{"label":"Lightning Couriers","id":"lightning-couriers","suggestedActions":["finesse","prowl","survey"],"trait":"iruvia"},{"label":"Water Bearers","id":"water-bearers","suggestedActions":["consort","prowl","skirmish"],"trait":"iruvia"},{"label":"Blackvale Coven","id":"blackvale-coven","suggestedActions":["attune","hunt","study"],"trait":"skovlan"},{"label":"Blood Cullers","id":"blood-cullers","suggestedActions":["attune","finesse","tinker"],"trait":"skovlan"},{"label":"Home Guard Militia","id":"home-guard-militia","suggestedActions":["hunt","skirmish","wreck"],"trait":"skovlan"},{"label":"Imperial Collaborators","id":"imperial-collaborators","suggestedActions":["prowl","skirmish","survey"],"trait":"skovlan"},{"label":"Lockport Scummer","id":"lockport-scummer","suggestedActions":["attune","tinker","wreck"],"trait":"skovlan"},{"label":"Onyx Citadel","id":"onyx-citadel","suggestedActions":["attune","consort","study"],"trait":"skovlan"},{"label":"Bastion Elders","id":"bastion-elders","suggestedActions":["command","study","sway"],"trait":"severos"},{"label":"Cullfield Observatory","id":"cullfield-observatory","suggestedActions":["study","survey","tinker"],"trait":"severos"},{"label":"Irondale Metalworks","id":"irondale-metalworks","suggestedActions":["study","tinker","wreck"],"trait":"severos"},{"label":"Spirit Hunters","id":"spirit-hunters","suggestedActions":["finesse","hunt","skirmish"],"trait":"severos"},{"label":"Thorn Devils","id":"thorn-devils","suggestedActions":["hunt","prowl","skirmish"],"trait":"severos"},{"label":"Tyrmoor Clanholder","id":"tyrmoor-clanholder","suggestedActions":["finesse","hunt","skirmish"],"trait":"severos"},{"label":"Confessors","id":"confessors","suggestedActions":["hunt","prowl","skirmish"],"trait":"tycheros"},{"label":"Demon Scholars","id":"demon-scholars","suggestedActions":["attune","consort","study"],"trait":"tycheros"},{"label":"Lunarium Players","id":"lunarium-players","suggestedActions":["consort","finesse","sway"],"trait":"tycheros"},{"label":"Seekers","id":"seekers","suggestedActions":["attune","prowl","survey"],"trait":"tycheros"},{"label":"Steelhand","id":"steelhand","suggestedActions":["prowl","survey","tinker"],"trait":"tycheros"},{"label":"Void Gate Sentries","id":"void-gate-sentries","suggestedActions":["attune","command","tinker"],"trait":"tycheros"}]`),D_={class:"circles-list"},P_={class:"label"},L_=ve({__name:"action-tag",props:{action:{},value:{}},setup(e){const t=e,r=Ce(()=>Ki(t.action)),n=Ce(()=>Gi(r.value.attribute));return(i,s)=>(O(),L("div",{class:Fe(["action-tag",{disabled:i.value==0}]),style:jt({backgroundColor:n.value,borderColor:n.value})},[w("ul",D_,[(O(!0),L(se,null,Ye(i.value,o=>(O(),L("li",{key:o,style:jt({color:n.value})},null,4))),128)),i.value==0?(O(),L("li",{key:0,class:"empty",style:jt({color:n.value})},null,4)):ze("",!0)]),w("p",P_,ie(r.value.label),1)],6))}}),Dd=Me(L_,[["__scopeId","data-v-5b6c0ae9"]]),N_={class:"actions"},$_={class:"callout options"},F_={key:0,class:"callout suggested-actions"},B_=["innerHTML"],U_={class:"action-tally"},H_={key:0},W_={class:"attributes-list"},q_={class:"action-row"},j_={class:"controls"},V_=["onClick"],z_=["onClick"],G_=ve({__name:"actions-step",props:{scoundrel:{}},setup(e){const t=e;t.scoundrel.optionActionsCreatingCharacter===void 0&&(t.scoundrel.optionActionsCreatingCharacter=!0),!t.scoundrel.optionActionsMasteryAdvance===void 0&&(t.scoundrel.optionActionsMasteryAdvance=!1);const r=Ce(()=>t.scoundrel.optionActionsCreatingCharacter?2:t.scoundrel.optionActionsMasteryAdvance?4:3),n=[{id:"insight",label:"Insight"},{id:"prowess",label:"Prowess"},{id:"resolve",label:"Resolve"}];ua(()=>{const c=document.querySelector(".action-tally");new IntersectionObserver(([f])=>{f.target.classList.toggle("pinned",f.intersectionRatio<1)},{threshold:1}).observe(c)});const i=Ce(()=>{let c=0;for(const d of Object.keys(t.scoundrel.actions))c+=Sn(t.scoundrel.actions,d);return c}),s=Ce(()=>{var g,m;const c=Ji,d=Yi,f=((g=c.find(_=>_.label===t.scoundrel.heritageDetail))==null?void 0:g.suggestedActions)||[],h=((m=d.find(_=>_.label===t.scoundrel.backgroundDetail))==null?void 0:m.suggestedActions)||[];return f.length>0||h.length>0}),o=Ce(()=>{var _,S;const c=Ji,d=Yi,f=((_=c.find(k=>k.label===t.scoundrel.heritageDetail))==null?void 0:_.suggestedActions)||[],h=((S=d.find(k=>k.label===t.scoundrel.backgroundDetail))==null?void 0:S.suggestedActions)||[],g=[];f.forEach(k=>{const b=Ki(k);g.push({actionRating:b,isImportant:!1,color:Gi(b.attribute)})}),h.forEach(k=>{const b=Ki(k),x=g.findIndex(A=>A.actionRating.id===b.id);x===-1?g.push({actionRating:b,isImportant:!1,color:Gi(b.attribute)}):g[x].isImportant=!0});const m=["insight","prowess","resolve"];return g.sort((k,b)=>{const x=m.indexOf(k.actionRating.attribute),A=m.indexOf(b.actionRating.attribute);return x<A?-1:x>A?1:0}),g.map(k=>`<span style="color: ${k.color}" class="suggestion${k.isImportant?"--important":""}">${k.actionRating.label}</span>`).join(", ")});function a(c){return md.filter(d=>d.attribute===c)}function l(c,d){t.scoundrel.actions[c].custom||(t.scoundrel.actions[c].custom=0),d<0&&t.scoundrel.actions[c].custom--,d>0&&t.scoundrel.actions[c].custom++,t.scoundrel.actions[c].custom<=0&&delete t.scoundrel.actions[c].custom}function u(c){let d=0;return a(c).forEach(f=>{Sn(t.scoundrel.actions,f.id)>0&&d++}),d}return(c,d)=>(O(),L(se,null,[me(or,null,{default:De(()=>d[2]||(d[2]=[w("h2",null,"What are your strongest attributes?",-1),w("p",null," Assign action dots to attributes that best represent your scoundrel. ",-1)])),_:1}),w("div",N_,[w("div",$_,[w("div",{class:Fe(["checkbox-group",{disabled:c.scoundrel.optionActionsMasteryAdvance}])},[gr(w("input",{type:"checkbox",id:"optionActionsCreatingCharacter","onUpdate:modelValue":d[0]||(d[0]=f=>c.scoundrel.optionActionsCreatingCharacter=f)},null,512),[[wl,c.scoundrel.optionActionsCreatingCharacter]]),d[3]||(d[3]=w("label",{for:"optionActionsCreatingCharacter"},"Character Creation: 7 action dots total, limit 2 dots per action",-1))],2),w("div",{class:Fe(["checkbox-group",{disabled:c.scoundrel.optionActionsCreatingCharacter}])},[gr(w("input",{type:"checkbox",id:"optionActionsMasteryAdvance","onUpdate:modelValue":d[1]||(d[1]=f=>c.scoundrel.optionActionsMasteryAdvance=f)},null,512),[[wl,c.scoundrel.optionActionsMasteryAdvance]]),d[4]||(d[4]=w("label",{for:"optionActionsMasteryAdvance"},"Mastery Advance: Allow actions to advance to 4",-1))],2)]),s.value?(O(),L("div",F_,[d[5]||(d[5]=Le(" Action ratings suggested by your background and heritage: ")),w("span",{innerHTML:o.value},null,8,B_)])):ze("",!0),w("div",U_,[w("p",null,[w("strong",null,ie(i.value),1),c.scoundrel.optionActionsCreatingCharacter?(O(),L("span",H_," of 7")):ze("",!0),d[6]||(d[6]=Le(" action dots assigned "))])]),w("div",W_,[(O(),L(se,null,Ye(n,f=>w("div",{class:"attribute",key:f.id},[w("label",null,ie(f.label)+" ("+ie(u(f.id))+") ",1),w("ul",{class:Fe(f.id)},[(O(!0),L(se,null,Ye(a(f.id),h=>(O(),L("li",{key:h.id},[w("div",q_,[me(Dd,{action:h.id,value:Ke(Sn)(c.scoundrel.actions,h.id)},null,8,["action","value"]),w("div",j_,[w("button",{class:Fe(["btn btn--mini",{disabled:!c.scoundrel.actions[h.id].custom}]),onClick:g=>l(h.id,-1)},d[7]||(d[7]=[w("img",{src:O_},null,-1)]),10,V_),w("button",{class:Fe(["btn btn--mini",{disabled:Ke(Sn)(c.scoundrel.actions,h.id)===r.value||c.scoundrel.optionActionsCreatingCharacter&&i.value>=7}]),onClick:g=>l(h.id,1)},d[8]||(d[8]=[w("img",{src:R_},null,-1)]),10,z_)])]),w("p",null,ie(h.description),1)]))),128))],2)])),64))])])],64))}}),K_=Me(G_,[["__scopeId","data-v-c9181c3e"]]),Y_=[{label:"Underworld",id:"underworld",description:"A street urchin, gang member, young thug, or other outcast who grew up on the streets."},{label:"Academic",id:"academic",description:"A scholar, a professor or student from Doskvol Academy, a philosopher or journalist, etc."},{label:"Labor",id:"labor",description:"A servant, a factory worker, a coach driver, a docker, a sailor, a Rail Jack, etc. A stevedore for the North Hook Company."},{label:"Law",id:"law",description:"An advocate or barrister, a Bluecoat or inspector (or even Spirit Warden), a prison guard from Ironhook, etc."},{label:"Trade",id:"trade",description:"A shopkeeper, a merchant, a skilled crafts-person, a shipping agent, etc. A liaison to the Ministry of Preservation."},{label:"Noble",id:"noble",description:"A dilettante, a courtier, the scion of a fallen house, etc."},{label:"Military",id:"military",description:"An Imperial or Skovlander soldier, a mercenary, an intelligence operative, a strategist, a training instructor, etc."}],J_=ve({__name:"trait-card",props:{trait:{},selected:{type:Boolean}},setup(e){return(t,r)=>(O(),L("div",{class:Fe(["playbook-card",{selected:t.selected}])},[r[0]||(r[0]=w("div",{class:"overlay"},null,-1)),w("h2",null,ie(t.trait.label),1)],2))}}),ma=Me(J_,[["__scopeId","data-v-3f084756"]]),Q_={class:"suggested-action-tag"},X_=ve({__name:"suggested-action-tag",props:{action:{}},setup(e){const r=Ki(e.action),n=Gi(r.attribute);return(i,s)=>(O(),L("div",Q_,[w("p",{style:jt({color:Ke(n)})},ie(Ke(r).label),5)]))}}),Z_={class:"action-tags"},ev=ve({__name:"trait-detail-card",props:{traitDetail:{},selected:{type:Boolean}},setup(e){return(t,r)=>(O(),L("div",{class:Fe(["trait-detail-card",{selected:t.selected}])},[w("h2",null,ie(t.traitDetail.label),1),w("ul",Z_,[(O(!0),L(se,null,Ye(t.traitDetail.suggestedActions,n=>(O(),Ge(X_,{key:n,action:n},null,8,["action"]))),128))])],2))}}),Pd=Me(ev,[["__scopeId","data-v-b5029618"]]),tv={class:"list-container-frame"},rv={class:"list-container"},nv={class:"backgrounds-list"},iv={key:0,class:"description"},sv={key:1,class:"description"},ov={key:2,class:"selected-background"},av={class:"input-block"},lv={class:"background-details-list"},cv=ve({__name:"background-step",props:{scoundrel:{}},setup(e){const t=e,r=Y_,n=Yi,i=Ce(()=>r.find(l=>l.id===t.scoundrel.background)),s=Ce(()=>{if(!i.value)return[];let l=i.value.id;return["law","military"].includes(i.value.id)&&(l="law-and-military"),n.filter(u=>u.trait===l||!u.trait)});function o(l){t.scoundrel.background=l.id,t.scoundrel.backgroundDetail=""}function a(l){if(t.scoundrel.backgroundDetail===l.label){t.scoundrel.backgroundDetail="";return}t.scoundrel.backgroundDetail=l.label}return(l,u)=>(O(),L(se,null,[me(or,null,{default:De(()=>u[1]||(u[1]=[w("h2",null,"What did you do before you joined the crew?",-1),w("p",null,"Pick a background and write a detail specific to you.",-1)])),_:1}),w("div",tv,[w("div",rv,[w("ul",nv,[(O(!0),L(se,null,Ye(Ke(r),c=>(O(),Ge(ma,{key:c.id,trait:c,selected:c.id===l.scoundrel.background,onClick:d=>o(c)},null,8,["trait","selected","onClick"]))),128))])])]),i.value?(O(),L("p",iv,ie(i.value.description),1)):(O(),L("p",sv," Select a background to see its description and suggested details. ")),l.scoundrel.background?(O(),L("section",ov,[w("div",av,[u[2]||(u[2]=w("label",null,"A detail about your background",-1)),gr(w("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=c=>l.scoundrel.backgroundDetail=c)},null,512),[[on,l.scoundrel.backgroundDetail]])]),w("ul",lv,[(O(!0),L(se,null,Ye(s.value,c=>(O(),Ge(Pd,{key:c.id,selected:c.label===l.scoundrel.backgroundDetail,traitDetail:c,onClick:d=>a(c)},null,8,["selected","traitDetail","onClick"]))),128))]),u[3]||(u[3]=w("p",{class:"reference"},[Le(" Full descriptions of these backgrounds can be found in the "),w("a",{href:"https://johnharper.itch.io/deep-cuts",target:"_blank"},"Deep Cuts"),Le(" Blades in the Dark expansion. ")],-1))])):ze("",!0)],64))}}),uv=Me(cv,[["__scopeId","data-v-f290a3e3"]]),dv="/assets/icons/done.png";function Gs(e,t,r){if(e&&e.length){const[n,i]=t,s=Math.PI/180*r,o=Math.cos(s),a=Math.sin(s);for(const l of e){const[u,c]=l;l[0]=(u-n)*o-(c-i)*a+n,l[1]=(u-n)*a+(c-i)*o+i}}}function fv(e,t){return e[0]===t[0]&&e[1]===t[1]}function hv(e,t,r,n=1){const i=r,s=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,a=[0,0];if(i)for(const u of o)Gs(u,a,i);const l=function(u,c,d){const f=[];for(const k of u){const b=[...k];fv(b[0],b[b.length-1])||b.push([b[0][0],b[0][1]]),b.length>2&&f.push(b)}const h=[];c=Math.max(c,.1);const g=[];for(const k of f)for(let b=0;b<k.length-1;b++){const x=k[b],A=k[b+1];if(x[1]!==A[1]){const W=Math.min(x[1],A[1]);g.push({ymin:W,ymax:Math.max(x[1],A[1]),x:W===x[1]?x[0]:A[0],islope:(A[0]-x[0])/(A[1]-x[1])})}}if(g.sort((k,b)=>k.ymin<b.ymin?-1:k.ymin>b.ymin?1:k.x<b.x?-1:k.x>b.x?1:k.ymax===b.ymax?0:(k.ymax-b.ymax)/Math.abs(k.ymax-b.ymax)),!g.length)return h;let m=[],_=g[0].ymin,S=0;for(;m.length||g.length;){if(g.length){let k=-1;for(let b=0;b<g.length&&!(g[b].ymin>_);b++)k=b;g.splice(0,k+1).forEach(b=>{m.push({s:_,edge:b})})}if(m=m.filter(k=>!(k.edge.ymax<=_)),m.sort((k,b)=>k.edge.x===b.edge.x?0:(k.edge.x-b.edge.x)/Math.abs(k.edge.x-b.edge.x)),(d!==1||S%c==0)&&m.length>1)for(let k=0;k<m.length;k+=2){const b=k+1;if(b>=m.length)break;const x=m[k].edge,A=m[b].edge;h.push([[Math.round(x.x),_],[Math.round(A.x),_]])}_+=d,m.forEach(k=>{k.edge.x=k.edge.x+d*k.edge.islope}),S++}return h}(o,s,n);if(i){for(const u of o)Gs(u,a,-i);(function(u,c,d){const f=[];u.forEach(h=>f.push(...h)),Gs(f,c,d)})(l,a,-i)}return l}function si(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),hv(e,i,n,s||1)}class ya{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=si(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function ks(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class pv extends ya{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=si(t,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,o=[],a=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[u,c]of i)ks([u,c])&&o.push([[u[0]-a,u[1]+l],[...c]],[[u[0]+a,u[1]-l],[...c]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}}class gv extends ya{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class mv{constructor(t){this.helper=t}fillPolygons(t,r){const n=si(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const o=i/4;for(const a of t){const l=ks(a),u=l/i,c=Math.ceil(u)-1,d=l-c*i,f=(a[0][0]+a[1][0])/2-i/4,h=Math.min(a[0][1],a[1][1]);for(let g=0;g<c;g++){const m=h+d+g*i,_=f-o+2*Math.random()*o,S=m-o+2*Math.random()*o,k=this.helper.ellipse(_,S,s,s,r);n.push(...k.ops)}}return{type:"fillSketch",ops:n}}}class yv{constructor(t){this.helper=t}fillPolygons(t,r){const n=si(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach(o=>{const a=ks(o),l=Math.floor(a/(n+i)),u=(a+i-l*(n+i))/2;let c=o[0],d=o[1];c[0]>d[0]&&(c=o[1],d=o[0]);const f=Math.atan((d[1]-c[1])/(d[0]-c[0]));for(let h=0;h<l;h++){const g=h*(n+i),m=g+n,_=[c[0]+g*Math.cos(f)+u*Math.cos(f),c[1]+g*Math.sin(f)+u*Math.sin(f)],S=[c[0]+m*Math.cos(f)+u*Math.cos(f),c[1]+m*Math.sin(f)+u*Math.sin(f)];s.push(...this.helper.doubleLineOps(_[0],_[1],S[0],S[1],r))}}),s}}class _v{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=si(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach(s=>{const o=ks(s),a=Math.round(o/(2*r));let l=s[0],u=s[1];l[0]>u[0]&&(l=s[1],u=s[0]);const c=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let d=0;d<a;d++){const f=2*d*r,h=2*(d+1)*r,g=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+f*Math.cos(c),l[1]+f*Math.sin(c)],_=[l[0]+h*Math.cos(c),l[1]+h*Math.sin(c)],S=[m[0]+g*Math.cos(c+Math.PI/4),m[1]+g*Math.sin(c+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],S[0],S[1],n),...this.helper.doubleLineOps(S[0],S[1],_[0],_[1],n))}}),i}}const ht={};class vv{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const bv=0,Ks=1,Kl=2,pi={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Ys(e,t){return e.type===t}function _a(e){const t=[],r=function(o){const a=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:bv,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:Ks,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return a[a.length]={type:Kl,text:""},a}(e);let n="BOD",i=0,s=r[i];for(;!Ys(s,Kl);){let o=0;const a=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return _a("M0,0"+e);i++,o=pi[s.text],n=s.text}else Ys(s,Ks)?o=pi[n]:(i++,o=pi[s.text],n=s.text);if(!(i+o<r.length))throw new Error("Path data ended short");for(let l=i;l<i+o;l++){const u=r[l];if(!Ys(u,Ks))throw new Error("Param not a number: "+n+","+u.text);a[a.length]=+u.text}if(typeof pi[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:a};t.push(l),i+=o,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function Ld(e){let t=0,r=0,n=0,i=0;const s=[];for(const{key:o,data:a}of e)switch(o){case"M":s.push({key:"M",data:[...a]}),[t,r]=a,[n,i]=a;break;case"m":t+=a[0],r+=a[1],s.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":s.push({key:"L",data:[...a]}),[t,r]=a;break;case"l":t+=a[0],r+=a[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...a]}),t=a[4],r=a[5];break;case"c":{const l=a.map((u,c)=>c%2?u+r:u+t);s.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...a]}),t=a[2],r=a[3];break;case"q":{const l=a.map((u,c)=>c%2?u+r:u+t);s.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...a]}),t=a[5],r=a[6];break;case"a":t+=a[5],r+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,r]});break;case"H":s.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...a]}),r=a[0];break;case"v":r+=a[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...a]}),t=a[2],r=a[3];break;case"s":{const l=a.map((u,c)=>c%2?u+r:u+t);s.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...a]}),t=a[0],r=a[1];break;case"t":t+=a[0],r+=a[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,r=i}return s}function Nd(e){const t=[];let r="",n=0,i=0,s=0,o=0,a=0,l=0;for(const{key:u,data:c}of e){switch(u){case"M":t.push({key:"M",data:[...c]}),[n,i]=c,[s,o]=c;break;case"C":t.push({key:"C",data:[...c]}),n=c[4],i=c[5],a=c[2],l=c[3];break;case"L":t.push({key:"L",data:[...c]}),[n,i]=c;break;case"H":n=c[0],t.push({key:"L",data:[n,i]});break;case"V":i=c[0],t.push({key:"L",data:[n,i]});break;case"S":{let d=0,f=0;r==="C"||r==="S"?(d=n+(n-a),f=i+(i-l)):(d=n,f=i),t.push({key:"C",data:[d,f,...c]}),a=c[0],l=c[1],n=c[2],i=c[3];break}case"T":{const[d,f]=c;let h=0,g=0;r==="Q"||r==="T"?(h=n+(n-a),g=i+(i-l)):(h=n,g=i);const m=n+2*(h-n)/3,_=i+2*(g-i)/3,S=d+2*(h-d)/3,k=f+2*(g-f)/3;t.push({key:"C",data:[m,_,S,k,d,f]}),a=h,l=g,n=d,i=f;break}case"Q":{const[d,f,h,g]=c,m=n+2*(d-n)/3,_=i+2*(f-i)/3,S=h+2*(d-h)/3,k=g+2*(f-g)/3;t.push({key:"C",data:[m,_,S,k,h,g]}),a=d,l=f,n=h,i=g;break}case"A":{const d=Math.abs(c[0]),f=Math.abs(c[1]),h=c[2],g=c[3],m=c[4],_=c[5],S=c[6];d===0||f===0?(t.push({key:"C",data:[n,i,_,S,_,S]}),n=_,i=S):(n!==_||i!==S)&&($d(n,i,_,S,d,f,h,g,m).forEach(function(k){t.push({key:"C",data:k})}),n=_,i=S);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=o}r=u}return t}function bn(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function $d(e,t,r,n,i,s,o,a,l,u){const c=(d=o,Math.PI*d/180);var d;let f=[],h=0,g=0,m=0,_=0;if(u)[h,g,m,_]=u;else{[e,t]=bn(e,t,-c),[r,n]=bn(r,n,-c);const fe=(e-r)/2,Z=(t-n)/2;let Se=fe*fe/(i*i)+Z*Z/(s*s);Se>1&&(Se=Math.sqrt(Se),i*=Se,s*=Se);const oe=i*i,ee=s*s,ae=oe*ee-oe*Z*Z-ee*fe*fe,Je=oe*Z*Z+ee*fe*fe,Ne=(a===l?-1:1)*Math.sqrt(Math.abs(ae/Je));m=Ne*i*Z/s+(e+r)/2,_=Ne*-s*fe/i+(t+n)/2,h=Math.asin(parseFloat(((t-_)/s).toFixed(9))),g=Math.asin(parseFloat(((n-_)/s).toFixed(9))),e<m&&(h=Math.PI-h),r<m&&(g=Math.PI-g),h<0&&(h=2*Math.PI+h),g<0&&(g=2*Math.PI+g),l&&h>g&&(h-=2*Math.PI),!l&&g>h&&(g-=2*Math.PI)}let S=g-h;if(Math.abs(S)>120*Math.PI/180){const fe=g,Z=r,Se=n;g=l&&g>h?h+120*Math.PI/180*1:h+120*Math.PI/180*-1,f=$d(r=m+i*Math.cos(g),n=_+s*Math.sin(g),Z,Se,i,s,o,0,l,[g,fe,m,_])}S=g-h;const k=Math.cos(h),b=Math.sin(h),x=Math.cos(g),A=Math.sin(g),W=Math.tan(S/4),j=4/3*i*W,z=4/3*s*W,ne=[e,t],ce=[e+j*b,t-z*k],ye=[r+j*A,n-z*x],Q=[r,n];if(ce[0]=2*ne[0]-ce[0],ce[1]=2*ne[1]-ce[1],u)return[ce,ye,Q].concat(f);{f=[ce,ye,Q].concat(f);const fe=[];for(let Z=0;Z<f.length;Z+=3){const Se=bn(f[Z][0],f[Z][1],c),oe=bn(f[Z+1][0],f[Z+1][1],c),ee=bn(f[Z+2][0],f[Z+2][1],c);fe.push([Se[0],Se[1],oe[0],oe[1],ee[0],ee[1]])}return fe}}const wv={randOffset:function(e,t){return Y(e,t)},randOffsetWithRange:function(e,t,r){return Qi(e,t,r)},ellipse:function(e,t,r,n,i){const s=Bd(r,n,i);return Ao(e,t,i,s).opset},doubleLineOps:function(e,t,r,n,i){return vr(e,t,r,n,i,!0)}};function Fd(e,t,r,n,i){return{type:"path",ops:vr(e,t,r,n,i)}}function xi(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...vr(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&i.push(...vr(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?Fd(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function kv(e,t,r,n,i){return function(s,o){return xi(s,!0,o)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function Yl(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=gi(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:gi(r[0],1.5*(1+.22*t.roughness),Xl(t));for(let s=1;s<r.length;s++){const o=r[s];if(o.length){const a=gi(o,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:gi(o,1.5*(1+.22*t.roughness),Xl(t));for(const u of a)u.op!=="move"&&n.push(u);for(const u of l)u.op!=="move"&&i.push(u)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function Bd(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let o=Math.abs(e/2),a=Math.abs(t/2);const l=1-r.curveFitting;return o+=Y(o*l,r),a+=Y(a*l,r),{increment:s,rx:o,ry:a}}function Ao(e,t,r,n){const[i,s]=Zl(n.increment,e,t,n.rx,n.ry,1,n.increment*Qi(.1,Qi(.4,1,r),r),r);let o=Xi(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[a]=Zl(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=Xi(a,null,r);o=o.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function Jl(e,t,r,n,i,s,o,a,l){const u=e,c=t;let d=Math.abs(r/2),f=Math.abs(n/2);d+=Y(.01*d,l),f+=Y(.01*f,l);let h=i,g=s;for(;h<0;)h+=2*Math.PI,g+=2*Math.PI;g-h>2*Math.PI&&(h=0,g=2*Math.PI);const m=2*Math.PI/l.curveStepCount,_=Math.min(m/2,(g-h)/2),S=ec(_,u,c,d,f,h,g,1,l);if(!l.disableMultiStroke){const k=ec(_,u,c,d,f,h,g,1.5,l);S.push(...k)}return o&&(a?S.push(...vr(u,c,u+d*Math.cos(h),c+f*Math.sin(h),l),...vr(u,c,u+d*Math.cos(g),c+f*Math.sin(g),l)):S.push({op:"lineTo",data:[u,c]},{op:"lineTo",data:[u+d*Math.cos(h),c+f*Math.sin(h)]})),{type:"path",ops:S}}function Ql(e,t){const r=Nd(Ld(_a(e))),n=[];let i=[0,0],s=[0,0];for(const{key:o,data:a}of r)switch(o){case"M":s=[a[0],a[1]],i=[a[0],a[1]];break;case"L":n.push(...vr(s[0],s[1],a[0],a[1],t)),s=[a[0],a[1]];break;case"C":{const[l,u,c,d,f,h]=a;n.push(...Sv(l,u,c,d,f,h,s,t)),s=[f,h];break}case"Z":n.push(...vr(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]]}return{type:"path",ops:n}}function Js(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+Y(i,t),n[0][1]+Y(i,t)]});for(let o=1;o<s;o++)r.push({op:"lineTo",data:[n[o][0]+Y(i,t),n[o][1]+Y(i,t)]})}}return{type:"fillPath",ops:r}}function Hr(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!ht[i])switch(i){case"zigzag":ht[i]||(ht[i]=new pv(n));break;case"cross-hatch":ht[i]||(ht[i]=new gv(n));break;case"dots":ht[i]||(ht[i]=new mv(n));break;case"dashed":ht[i]||(ht[i]=new yv(n));break;case"zigzag-line":ht[i]||(ht[i]=new _v(n));break;default:i="hachure",ht[i]||(ht[i]=new ya(n))}return ht[i]}(t,wv).fillPolygons(e,t)}function Xl(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function Ud(e){return e.randomizer||(e.randomizer=new vv(e.seed||0)),e.randomizer.next()}function Qi(e,t,r,n=1){return r.roughness*n*(Ud(r)*(t-e)+e)}function Y(e,t,r=1){return Qi(-e,e,t,r)}function vr(e,t,r,n,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,a=Oo(e,t,r,n,i,!0,!1);if(o)return a;const l=Oo(e,t,r,n,i,!0,!0);return a.concat(l)}function Oo(e,t,r,n,i,s,o){const a=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(a);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let c=i.maxRandomnessOffset||0;c*c*100>a&&(c=l/10);const d=c/2,f=.2+.2*Ud(i);let h=i.bowing*i.maxRandomnessOffset*(n-t)/200,g=i.bowing*i.maxRandomnessOffset*(e-r)/200;h=Y(h,i,u),g=Y(g,i,u);const m=[],_=()=>Y(d,i,u),S=()=>Y(c,i,u),k=i.preserveVertices;return o?m.push({op:"move",data:[e+(k?0:_()),t+(k?0:_())]}):m.push({op:"move",data:[e+(k?0:Y(c,i,u)),t+(k?0:Y(c,i,u))]}),o?m.push({op:"bcurveTo",data:[h+e+(r-e)*f+_(),g+t+(n-t)*f+_(),h+e+2*(r-e)*f+_(),g+t+2*(n-t)*f+_(),r+(k?0:_()),n+(k?0:_())]}):m.push({op:"bcurveTo",data:[h+e+(r-e)*f+S(),g+t+(n-t)*f+S(),h+e+2*(r-e)*f+S(),g+t+2*(n-t)*f+S(),r+(k?0:S()),n+(k?0:S())]}),m}function gi(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+Y(t,r),e[0][1]+Y(t,r)]),n.push([e[0][0]+Y(t,r),e[0][1]+Y(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+Y(t,r),e[i][1]+Y(t,r)]),i===e.length-1&&n.push([e[i][0]+Y(t,r),e[i][1]+Y(t,r)]);return Xi(n,null,r)}function Xi(e,t,r){const n=e.length,i=[];if(n>3){const s=[],o=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let a=1;a+2<n;a++){const l=e[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*e[a+1][0]-o*e[a-1][0])/6,l[1]+(o*e[a+1][1]-o*e[a-1][1])/6],s[2]=[e[a+1][0]+(o*e[a][0]-o*e[a+2][0])/6,e[a+1][1]+(o*e[a][1]-o*e[a+2][1])/6],s[3]=[e[a+1][0],e[a+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...Oo(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function Zl(e,t,r,n,i,s,o,a){const l=[],u=[];if(a.roughness===0){e/=4,u.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let c=0;c<=2*Math.PI;c+=e){const d=[t+n*Math.cos(c),r+i*Math.sin(c)];l.push(d),u.push(d)}u.push([t+n*Math.cos(0),r+i*Math.sin(0)]),u.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const c=Y(.5,a)-Math.PI/2;u.push([Y(s,a)+t+.9*n*Math.cos(c-e),Y(s,a)+r+.9*i*Math.sin(c-e)]);const d=2*Math.PI+c-.01;for(let f=c;f<d;f+=e){const h=[Y(s,a)+t+n*Math.cos(f),Y(s,a)+r+i*Math.sin(f)];l.push(h),u.push(h)}u.push([Y(s,a)+t+n*Math.cos(c+2*Math.PI+.5*o),Y(s,a)+r+i*Math.sin(c+2*Math.PI+.5*o)]),u.push([Y(s,a)+t+.98*n*Math.cos(c+o),Y(s,a)+r+.98*i*Math.sin(c+o)]),u.push([Y(s,a)+t+.9*n*Math.cos(c+.5*o),Y(s,a)+r+.9*i*Math.sin(c+.5*o)])}return[u,l]}function ec(e,t,r,n,i,s,o,a,l){const u=s+Y(.1,l),c=[];c.push([Y(a,l)+t+.9*n*Math.cos(u-e),Y(a,l)+r+.9*i*Math.sin(u-e)]);for(let d=u;d<=o;d+=e)c.push([Y(a,l)+t+n*Math.cos(d),Y(a,l)+r+i*Math.sin(d)]);return c.push([t+n*Math.cos(o),r+i*Math.sin(o)]),c.push([t+n*Math.cos(o),r+i*Math.sin(o)]),Xi(c,null,l)}function Sv(e,t,r,n,i,s,o,a){const l=[],u=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let c=[0,0];const d=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let h=0;h<d;h++)h===0?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(f?0:Y(u[0],a)),o[1]+(f?0:Y(u[0],a))]}),c=f?[i,s]:[i+Y(u[h],a),s+Y(u[h],a)],l.push({op:"bcurveTo",data:[e+Y(u[h],a),t+Y(u[h],a),r+Y(u[h],a),n+Y(u[h],a),c[0],c[1]]});return l}function wn(e){return[...e]}function tc(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(wn(e[0]),wn(e[1]),wn(e[2]),wn(e[2]));else{const i=[];i.push(e[0],e[0]);for(let a=1;a<e.length;a++)i.push(e[a]),a===e.length-1&&i.push(e[a]);const s=[],o=1-t;n.push(wn(i[0]));for(let a=1;a+2<i.length;a++){const l=i[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*i[a+1][0]-o*i[a-1][0])/6,l[1]+(o*i[a+1][1]-o*i[a-1][1])/6],s[2]=[i[a+1][0]+(o*i[a][0]-o*i[a+2][0])/6,i[a+1][1]+(o*i[a][1]-o*i[a+2][1])/6],s[3]=[i[a+1][0],i[a+1][1]],n.push(s[1],s[2],s[3])}}return n}function Ci(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function xv(e,t,r){const n=Ci(t,r);if(n===0)return Ci(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),Ci(e,Ar(t,r,i))}function Ar(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function Ro(e,t,r,n){const i=n||[];if(function(a,l){const u=a[l+0],c=a[l+1],d=a[l+2],f=a[l+3];let h=3*c[0]-2*u[0]-f[0];h*=h;let g=3*c[1]-2*u[1]-f[1];g*=g;let m=3*d[0]-2*f[0]-u[0];m*=m;let _=3*d[1]-2*f[1]-u[1];return _*=_,h<m&&(h=m),g<_&&(g=_),h+g}(e,t)<r){const a=e[t+0];i.length?(s=i[i.length-1],o=a,Math.sqrt(Ci(s,o))>1&&i.push(a)):i.push(a),i.push(e[t+3])}else{const l=e[t+0],u=e[t+1],c=e[t+2],d=e[t+3],f=Ar(l,u,.5),h=Ar(u,c,.5),g=Ar(c,d,.5),m=Ar(f,h,.5),_=Ar(h,g,.5),S=Ar(m,_,.5);Ro([l,f,m,S],0,r,i),Ro([S,_,g,d],0,r,i)}var s,o;return i}function Cv(e,t){return Zi(e,0,e.length,t)}function Zi(e,t,r,n,i){const s=i||[],o=e[t],a=e[r-1];let l=0,u=1;for(let c=t+1;c<r-1;++c){const d=xv(e[c],o,a);d>l&&(l=d,u=c)}return Math.sqrt(l)>n?(Zi(e,t,u+1,n,s),Zi(e,u,r,n,s)):(s.length||s.push(o),s.push(a)),s}function Qs(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let s=0;s<i;s++)Ro(e,3*s,t,n);return r&&r>0?Zi(n,0,n.length,r):n}const _t="none";class es{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,s){const o=this._o(s);return this._d("line",[Fd(t,r,n,i,o)],o)}rectangle(t,r,n,i,s){const o=this._o(s),a=[],l=kv(t,r,n,i,o);if(o.fill){const u=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];o.fillStyle==="solid"?a.push(Js([u],o)):a.push(Hr([u],o))}return o.stroke!==_t&&a.push(l),this._d("rectangle",a,o)}ellipse(t,r,n,i,s){const o=this._o(s),a=[],l=Bd(n,i,o),u=Ao(t,r,o,l);if(o.fill)if(o.fillStyle==="solid"){const c=Ao(t,r,o,l).opset;c.type="fillPath",a.push(c)}else a.push(Hr([u.estimatedPoints],o));return o.stroke!==_t&&a.push(u.opset),this._d("ellipse",a,o)}circle(t,r,n,i){const s=this.ellipse(t,r,n,n,i);return s.shape="circle",s}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[xi(t,!1,n)],n)}arc(t,r,n,i,s,o,a=!1,l){const u=this._o(l),c=[],d=Jl(t,r,n,i,s,o,a,!0,u);if(a&&u.fill)if(u.fillStyle==="solid"){const f=Object.assign({},u);f.disableMultiStroke=!0;const h=Jl(t,r,n,i,s,o,!0,!1,f);h.type="fillPath",c.push(h)}else c.push(function(f,h,g,m,_,S,k){const b=f,x=h;let A=Math.abs(g/2),W=Math.abs(m/2);A+=Y(.01*A,k),W+=Y(.01*W,k);let j=_,z=S;for(;j<0;)j+=2*Math.PI,z+=2*Math.PI;z-j>2*Math.PI&&(j=0,z=2*Math.PI);const ne=(z-j)/k.curveStepCount,ce=[];for(let ye=j;ye<=z;ye+=ne)ce.push([b+A*Math.cos(ye),x+W*Math.sin(ye)]);return ce.push([b+A*Math.cos(z),x+W*Math.sin(z)]),ce.push([b,x]),Hr([ce],k)}(t,r,n,i,s,o,u));return u.stroke!==_t&&c.push(d),this._d("arc",c,u)}curve(t,r){const n=this._o(r),i=[],s=Yl(t,n);if(n.fill&&n.fill!==_t)if(n.fillStyle==="solid"){const o=Yl(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],a=t;if(a.length){const l=typeof a[0][0]=="number"?[a]:a;for(const u of l)u.length<3?o.push(...u):u.length===3?o.push(...Qs(tc([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):o.push(...Qs(tc(u),10,(1+n.roughness)/2))}o.length&&i.push(Hr([o],n))}return n.stroke!==_t&&i.push(s),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],s=xi(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(Js([t],n)):i.push(Hr([t],n))),n.stroke!==_t&&i.push(s),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==_t,o=n.stroke!==_t,a=!!(n.simplification&&n.simplification<1),l=function(c,d,f){const h=Nd(Ld(_a(c))),g=[];let m=[],_=[0,0],S=[];const k=()=>{S.length>=4&&m.push(...Qs(S,d)),S=[]},b=()=>{k(),m.length&&(g.push(m),m=[])};for(const{key:A,data:W}of h)switch(A){case"M":b(),_=[W[0],W[1]],m.push(_);break;case"L":k(),m.push([W[0],W[1]]);break;case"C":if(!S.length){const j=m.length?m[m.length-1]:_;S.push([j[0],j[1]])}S.push([W[0],W[1]]),S.push([W[2],W[3]]),S.push([W[4],W[5]]);break;case"Z":k(),m.push([_[0],_[1]])}if(b(),!f)return g;const x=[];for(const A of g){const W=Cv(A,f);W.length&&x.push(W)}return x}(t,1,a?4-4*(n.simplification||1):(1+n.roughness)/2),u=Ql(t,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const c=Ql(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else i.push(Js(l,n));else i.push(Hr(l,n));return o&&(a?l.forEach(c=>{i.push(xi(c,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const s=typeof r=="number"&&r>=0?i.data.map(o=>+o.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of r){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:_t};break;case"fillPath":o={d:this.opsToPath(s),stroke:_t,strokeWidth:0,fill:n.fill||_t};break;case"fillSketch":o=this.fillSketch(s,n)}o&&i.push(o)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||_t,strokeWidth:n,fill:_t}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}}class Mv{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new es(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const a=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,a),i.restore();break}case"fillSketch":this.fillSketch(i,o,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const s of r.ops){const o=typeof n=="number"&&n>=0?s.data.map(a=>+a.toFixed(n)):s.data;switch(s.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,s){const o=this.gen.line(t,r,n,i,s);return this.draw(o),o}rectangle(t,r,n,i,s){const o=this.gen.rectangle(t,r,n,i,s);return this.draw(o),o}ellipse(t,r,n,i,s){const o=this.gen.ellipse(t,r,n,i,s);return this.draw(o),o}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s),s}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,s,o,a=!1,l){const u=this.gen.arc(t,r,n,i,s,o,a,l);return this.draw(u),u}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const mi="http://www.w3.org/2000/svg";class Ev{constructor(t,r){this.svg=t,this.gen=new es(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(mi,"g"),o=t.options.fixedDecimalPlaceDigits;for(const a of r){let l=null;switch(a.type){case"path":l=i.createElementNS(mi,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(mi,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,a,n)}l&&s.appendChild(l)}return s}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(mi,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,s){const o=this.gen.line(t,r,n,i,s);return this.draw(o)}rectangle(t,r,n,i,s){const o=this.gen.rectangle(t,r,n,i,s);return this.draw(o)}ellipse(t,r,n,i,s){const o=this.gen.ellipse(t,r,n,i,s);return this.draw(o)}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,s,o,a=!1,l){const u=this.gen.arc(t,r,n,i,s,o,a,l);return this.draw(u)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var Iv={canvas:(e,t)=>new Mv(e,t),svg:(e,t)=>new Ev(e,t),generator:e=>new es(e),newSeed:()=>es.newSeed()};const je={name:{x:100,y:235},alias:{x:704,y:235},look:{x:100,y:316},heritages:{akoros:{x:272,y:428,w:110},"dagger-isles":{x:460,y:428,w:260},iruvia:{x:138,y:453,w:95},severos:{x:240,y:453,w:110},skovlan:{x:136,y:453,w:95},tycheros:{x:480,y:453,w:135}},backgrounds:{academic:{x:826,y:428,w:140},labor:{x:942,y:428,w:90},law:{x:1026,y:428,w:75},trade:{x:636,y:453,w:95},military:{x:742,y:453,w:120},noble:{x:848,y:453,w:90},underworld:{x:976,y:453,w:160}},heritageText:{x:105,y:400},backgroundText:{x:605,y:400},actions:{hunt:{x:1838.5,y:325.5},study:{x:1838.5,y:354.1},survey:{x:1838.5,y:382.7},tinker:{x:1838.5,y:411.3},finesse:{x:1838.5,y:488},prowl:{x:1838.5,y:516.6},skirmish:{x:1838.5,y:545.2},wreck:{x:1838.5,y:573.8},attune:{x:1838.5,y:650.5},command:{x:1838.5,y:679.1},consort:{x:1838.5,y:707.7},sway:{x:1838.5,y:736.3}},abilities:{battleborn:{x:1097,y:271},bodyguard:{x:1097,y:337.5},"ghost-fighter":{x:1097,y:431.5},leader:{x:1097,y:525},mule:{x:1097,y:619},"not-to-be-trifled-with":{x:1097,y:654},savage:{x:1097,y:745},vigorous:{x:1097,y:809},sharpshooter:{x:1097,y:269},focused:{x:1097,y:355},"ghost-hunter":{x:1097,y:440.5},"ghost-hunter-2":{x:1122,y:440.5},scout:{x:1097,y:553},survivor:{x:1097,y:638.5},"tough-as-nails":{x:1097,y:724},vengeful:{x:1097,y:783},alchemist:{x:1097,y:269},analyst:{x:1097,y:350},artificer:{x:1097,y:431},fortitude:{x:1097,y:512},"ghost-ward":{x:1097,y:593.5},physicker:{x:1097,y:649.5},saboteur:{x:1097,y:730},venomous:{x:1097,y:787},infiltrator:{x:1097,y:269},ambush:{x:1097,y:323},daredevil:{x:1097,y:353},"the-devils-footsteps":{x:1097,y:430},expertise:{x:1097,y:532},"ghost-veil":{x:1097,y:610},reflexes:{x:1097,y:735.5},shadow:{x:1097,y:790},"rooks-gambit":{x:1097,y:269},"cloak-and-dagger":{x:1097,y:330.5},"ghost-voice":{x:1097,y:444.5},"like-looking-into-a-mirror":{x:1097,y:532},"a-little-something-on-the-side":{x:1097,y:594},mesmerism:{x:1097,y:656},subterfuge:{x:1097,y:718},"trust-in-me":{x:1097,y:805.5},foresight:{x:1097,y:269},calculating:{x:1097,y:327},connected:{x:1097,y:389},"functioning-vice":{x:1097,y:449.5},"ghost-contract":{x:1097,y:533},"jail-bird":{x:1097,y:617},mastermind:{x:1097,y:700},"weaving-the-web":{x:1097,y:784},compel:{x:1097,y:269},"ghost-mind":{x:1097,y:353},"iron-will":{x:1097,y:412},occultist:{x:1097,y:471},ritual:{x:1097,y:555},"strange-methods":{x:1097,y:640},tempest:{x:1097,y:724.5},warded:{x:1097,y:808.5}},friends:{marlane:{x:1110,y:958},chael:{x:1110,y:1e3},mercy:{x:1110,y:1042},grace:{x:1110,y:1084},sawtooth:{x:1110,y:1126},steiner:{x:1110,y:958},celene:{x:1110,y:1e3},melvir:{x:1110,y:1042},veleris:{x:1110,y:1084},casta:{x:1110,y:1126},stazia:{x:1110,y:958},veldren:{x:1110,y:1e3},eckerd:{x:1110,y:1042},jul:{x:1110,y:1084},malista:{x:1110,y:1126},telda:{x:1110,y:958},darmot:{x:1110,y:1e3},frake:{x:1110,y:1042},"roslyn-kellis":{x:1110,y:1084},petra:{x:1110,y:1126},bryl:{x:1110,y:958},"bazso-baz":{x:1110,y:1e3},khyra:{x:1110,y:1042},nyryx:{x:1110,y:1084},harker:{x:1110,y:1126},salia:{x:1110,y:958},augus:{x:1110,y:1e3},jennah:{x:1110,y:1042},riven:{x:1110,y:1084},jeren:{x:1110,y:1126},"nyryx-2":{x:1110,y:958},scurlock:{x:1110,y:1e3},setarra:{x:1110,y:1042},quellyn:{x:1110,y:1084},flynn:{x:1110,y:1126}},vices:{faith:{x:320,y:542,w:75},gambling:{x:430,y:542,w:130},luxury:{x:547,y:542,w:105},obligation:{x:672,y:542,w:145},pleasure:{x:808,y:542,w:125},stupor:{x:920,y:542,w:100},weird:{x:1015,y:542,w:95}},viceText:{x:100,y:515}};async function Tv(e,t){return document.fonts.check("32px Gochi Hand")||await new Promise(r=>setTimeout(r,2e3)),new Promise((r,n)=>{const i=new Image;i.src=`/assets/sheets/sheet-images/${e.playbook}.png`,i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const o=Iv.canvas(s),a=s.getContext("2d");a.drawImage(i,0,0),a.font="32px Gochi Hand",a.fillStyle=t,a.strokeStyle="red",a.lineWidth=2;const l=36,u=je.heritages[e.heritage];u&&o.rectangle(u.x-u.w/2,u.y-l/2,u.w,l,{roughness:2,stroke:t,strokeWidth:4});const c=36,d=je.backgrounds[e.background];d&&o.rectangle(d.x-d.w/2,d.y-c/2,d.w,c,{roughness:2,stroke:t,strokeWidth:4});const f=Ji.find(_=>_.id===e.heritageDetail);e.backgroundDetail&&a.fillText((f==null?void 0:f.label)||e.heritageDetail,je.heritageText.x,je.heritageText.y);const h=Yi.find(_=>_.id===e.backgroundDetail);e.backgroundDetail&&a.fillText((h==null?void 0:h.label)||e.backgroundDetail,je.backgroundText.x,je.backgroundText.y),["hunt","study","survey","tinker","finesse","prowl","skirmish","wreck","attune","command","consort","sway"].forEach((_,S)=>{Rv(a,e,_)}),e.abilities.forEach(_=>{if(je.abilities.hasOwnProperty(_)){const S=je.abilities[_];Hd(a,S)}}),e.friends.forEach(_=>{const S=je.friends[_];if(!S)return console.error("No point for",_);Av(a,S)}),e.rivals.forEach(_=>{const S=je.friends[_];if(!S)return console.error("No point for",_);const k={x:28,y:-14};e.playbook==="whisper"&&(k.x=24.5),Ov(a,{x:S.x+k.x,y:S.y+k.y})});const g=36,m=je.vices[e.vice];m&&o.rectangle(m.x-m.w/2,m.y-g/2,m.w,g,{roughness:2,stroke:t,strokeWidth:4}),e.viceDetail&&rc(a,e.viceDetail,je.viceText.x,je.viceText.y,940),e.name&&a.fillText(e.name,je.name.x,je.name.y),e.alias&&a.fillText(e.alias,je.alias.x,je.alias.y),e.look&&rc(a,e.look,je.look.x,je.look.y,940),r(s)},i.onerror=s=>{n(new Error(`Failed to load image: ${i.src}`))}})}function rc(e,t,r,n,i){const s=[],a=t.split(" ");let l="",u=0;for(let c=0;c<a.length;c++){const d=l+a[c]+" ";e.measureText(d).width>i&&c>0?(s.push({text:l,x:r,y:n}),l=a[c]+" ",n+=32,u++):l=d}s.push({text:l,x:r,y:n}),s.forEach(c=>c.y-=u*32),s.forEach(c=>e.fillText(c.text,c.x,c.y))}function Av(e,t){e.beginPath(),e.moveTo(t.x,t.y-21),e.lineTo(t.x+12.5,t.y),e.lineTo(t.x-12.5,t.y),e.fill()}function Ov(e,t){e.beginPath(),e.moveTo(t.x,t.y+21),e.lineTo(t.x+12.5,t.y),e.lineTo(t.x-12.5,t.y),e.fill()}function Rv(e,t,r){const n=Sn(t.actions,r),i=je.actions[r];for(let s=0;s<n;s++)Hd(e,{x:i.x+s*27,y:i.y})}function Hd(e,t){e.beginPath(),e.arc(t.x,t.y,8,0,2*Math.PI),e.fill()}const Dv={class:"save"},Pv={class:"ink-row"},Lv={class:"ink-colors"},Nv=["onClick"],$v={key:0,src:dv,alt:"Selected"},Fv={class:"preview-container"},Bv={key:0,class:"spinner",src:Rd,alt:"Loading"},Uv={class:"row wrap"},Hv=["disabled"],Wv={key:0,class:"copy-message"},qv={key:1},jv=ve({__name:"finish-step",props:{scoundrel:{}},setup(e){const t=e,r=["#f03e3e","#ff922b","#ffd43b","#51cf66","#20c997","#339af0","#5c7cfa","#7950f2","#e9417c","#131313"];Be(!1);const n=Be(!1),i=Be(r[0]),s=Be(""),o=Be(null);c();let a="";try{a=`${window.location.origin}/import/${$m(t.scoundrel)}`}catch(h){console.error("Error encoding scoundrel to base64",h)}function l(h){i.value=h,c()}function u(){ts("copy-url"),navigator.clipboard.writeText(a),n.value=!0,setTimeout(()=>{n.value=!1},2e3)}async function c(){ts("generate-png",{inkColor:i.value,playbook:t.scoundrel.playbook,background:t.scoundrel.background,backgroundDetail:t.scoundrel.backgroundDetail,heritage:t.scoundrel.heritage,heritageDetail:t.scoundrel.heritageDetail,name:t.scoundrel.name,alias:t.scoundrel.alias,vice:t.scoundrel.vice,viceDetail:t.scoundrel.viceDetail});const h=await Tv(t.scoundrel,i.value);console.log(h),h&&(s.value=h.toDataURL("image/png"),o.value.src=s.value)}function d(){if(!t.scoundrel.playbook)return;const h=f(_d(t.scoundrel)),g=document.createElement("a");g.download=`${h}.png`,g.href=s.value.replace("image/png","image/octet-stream"),g.click(),g.remove()}function f(h){return`${h.replace(/[^a-zA-Z0-9\s]/g,"").toLowerCase().replace(/\s/g,"-")}__character-sheet`}return(h,g)=>(O(),L(se,null,[me(or,null,{default:De(()=>g[0]||(g[0]=[w("h2",null,[Le("Export your "),w("strong",null,"scoundrel")],-1),w("p",null,"Share or print your character sheet.",-1)])),_:1}),w("div",Dv,[w("div",Pv,[w("p",null,[g[1]||(g[1]=Le(" Choose an ")),w("span",{class:"filled",style:jt({color:i.value})},"ink color",4),g[2]||(g[2]=Le(" for your sheet. "))]),w("ul",Lv,[(O(),L(se,null,Ye(r,m=>w("li",{key:m,onClick:_=>l(m),style:jt({backgroundColor:m,color:m}),class:Fe({active:m===i.value})},[m===i.value?(O(),L("img",$v)):ze("",!0)],14,Nv)),64))])]),w("div",Fv,[s.value?ze("",!0):(O(),L("img",Bv)),w("img",{ref_key:"sheetPreview",ref:o,class:"preview"},null,512)]),w("div",Uv,[w("button",{class:Fe(["btn btn--alt",{"no-click":n.value}]),disabled:n.value,onClick:u},[n.value?(O(),L("span",Wv,"Copied!")):(O(),L("span",qv,"Share as URL"))],10,Hv),w("button",{class:"btn",onClick:d}," Save as Image ")])])],64))}}),Vv=Me(jv,[["__scopeId","data-v-4207deea"]]),zv=[{id:"marlane",label:"Marlane",description:"A pugilist",category:"cutter"},{id:"chael",label:"Chael",description:"A vicious thug",category:"cutter"},{id:"mercy",label:"Mercy",description:"A cold killer",category:"cutter"},{id:"grace",label:"Grace",description:"An extortionist",category:"cutter"},{id:"sawtooth",label:"Sawtooth",description:"A physicker",category:"cutter"},{id:"steiner",label:"Steiner",description:"An assassin",category:"hound"},{id:"celene",label:"Celene",description:"A sentinel",category:"hound"},{id:"melvir",label:"Melvir",description:"A physicker",category:"hound"},{id:"veleris",label:"Veleris",description:"A spy",category:"hound"},{id:"casta",label:"Casta",description:"A bounty hunter",category:"hound"},{id:"stazia",label:"Stazia",description:"An apothecary",category:"leech"},{id:"veldren",label:"Veldren",description:"A psychonaut",category:"leech"},{id:"eckerd",label:"Eckerd",description:"A corpse thief",category:"leech"},{id:"jul",label:"Jul",description:"A blood dealer",category:"leech"},{id:"malista",label:"Malista",description:"A priestess",category:"leech"},{id:"telda",label:"Telda",description:"A beggar",category:"lurk"},{id:"darmot",label:"Darmot",description:"A bluecoat",category:"lurk"},{id:"frake",label:"Frake",description:"A locksmith",category:"lurk"},{id:"roslyn-kellis",label:"Roslyn Kellis",description:"A noble",category:"lurk"},{id:"petra",label:"Petra",description:"A city clerk",category:"lurk"},{id:"bryl",label:"Bryl",description:"A drug dealer",category:"slide"},{id:"bazso-baz",label:"Bazso Baz",description:"A gang leader",category:"slide"},{id:"khyra",label:"Khyra",description:"A tavern owner",category:"slide"},{id:"nyryx",label:"Nyryx",description:"A prostitute",category:"slide"},{id:"harker",label:"Harker",description:"A jail bird",category:"slide"},{id:"salia",label:"Salia",description:"An information broker",category:"spider"},{id:"augus",label:"Augus",description:"A master architect",category:"spider"},{id:"jennah",label:"Jennah",description:"A servant",category:"spider"},{id:"riven",label:"Riven",description:"A chemist",category:"spider"},{id:"jeren",label:"Jeren",description:"A bluecoat archivist",category:"spider"},{id:"nyryx-2",label:"Nyryx",description:"A possessor ghost",category:"whisper"},{id:"scurlock",label:"Scurlock",description:"A vampire",category:"whisper"},{id:"setarra",label:"Setarra",description:"A demon",category:"whisper"},{id:"quellyn",label:"Quellyn",description:"A witch",category:"whisper"},{id:"flint",label:"Flint",description:"A spirit trafficker",category:"whisper"}],Gv={class:"friends-list"},Kv={class:"body"},Yv={class:"checkboxes"},Jv=["onClick"],Qv=["checked"],Xv=["onClick"],Zv=["checked"],eb=ve({__name:"friends-step",props:{scoundrel:{}},setup(e){const t=e;t.scoundrel.friends||(t.scoundrel.friends=[]),t.scoundrel.rivals||(t.scoundrel.rivals=[]);const r=Ce(()=>zv.filter(s=>s.category===t.scoundrel.playbook));function n(i,s){const o=t.scoundrel[s].indexOf(i);o===-1?t.scoundrel[s].push(i):t.scoundrel[s].splice(o,1);const a=s==="friends"?"rivals":"friends",l=t.scoundrel[a].indexOf(i);l!==-1&&t.scoundrel[a].splice(l,1)}return(i,s)=>(O(),L(se,null,[me(or,null,{default:De(()=>s[0]||(s[0]=[w("h2",null,"Who owes you one and who's your bitter enemy?",-1),w("p",null," Who is a long-time ally, family relation, or lover? And who is a rival, enemy, scorned lover, or betrayed partner? ",-1)])),_:1}),w("ul",Gv,[(O(!0),L(se,null,Ye(r.value,o=>(O(),L("li",{class:Fe(["person-card",{"person-card--selected":i.scoundrel.friends.includes(o.id)||i.scoundrel.rivals.includes(o.id)}])},[s[3]||(s[3]=w("div",{class:"background-fill"},null,-1)),w("div",Kv,[w("p",null,ie(o.label),1),w("label",null,ie(o.description),1)]),w("div",Yv,[w("div",{class:"checkbox-group",onClick:a=>n(o.id,"friends")},[w("input",{type:"checkbox",checked:i.scoundrel.friends.includes(o.id)},null,8,Qv),s[1]||(s[1]=w("label",null,"Friend",-1))],8,Jv),w("div",{class:"checkbox-group",onClick:a=>n(o.id,"rivals")},[w("input",{type:"checkbox",checked:i.scoundrel.rivals.includes(o.id)},null,8,Zv),s[2]||(s[2]=w("label",null,"Rival",-1))],8,Xv)])],2))),256))])],64))}}),tb=Me(eb,[["__scopeId","data-v-a6bb7001"]]),rb=[{label:"Akoros",id:"akoros",description:"The largest and most industrialized land in the Imperium, and home to the capital city as well as Duskwall itself. They're known as a diverse conglomeration of cultures, somewhat like Europe."},{label:"Dagger Isles",id:"dagger-isles",description:"People in the Dagger Isles often grow up on ships and travel a lot before settling down. They're known as corsairs and merchants who live without lightning barriers, dealing with spirits in other ways."},{label:"Iruvia",id:"iruvia",description:"A rich and powerful desert kingdom far to the south. A diverse land of varying cultures similar to old Persia, Egypt, and India."},{label:"Skovlan",id:"skovlan",description:"A cold and rugged island kingdom just across the sea from Duskwall. Skovlan was last to be brought under Imperial rule, over the course of the Unity War, which ended only a few years ago."},{label:"Severos",id:"severos",description:"Most Severosi live in nomadic horse-tribes scattered across the blasted deathlands, surviving within the ruins of ancient arcane fortresses which still repel spirits."},{label:"Tycheros",id:"tycheros",description:"A semi-mythical place far away beyond the northern Void Sea. It's said the people there are part-demon. If you choose Tycherosi heritage, also create a demonic tell that marks your character."}],nb={class:"image"},ib=["src","alt"],sb=ve({__name:"image-modal",props:{title:{},image:{},backgroundColor:{}},setup(e){const t=e;return(r,n)=>(O(),Ge(ni,null,{header:De(()=>[me(ii,{"close-button":""},{default:De(()=>[w("h3",null,ie(t.title),1)]),_:1})]),content:De(()=>[w("div",nb,[w("img",{src:t.image,alt:t.image,style:jt({backgroundColor:t.backgroundColor})},null,12,ib)])]),_:1}))}}),ob=Me(sb,[["__scopeId","data-v-1b8980fb"]]),ab={class:"list-container-frame"},lb={class:"list-container"},cb={class:"heritages-list"},ub={key:0,class:"description"},db={key:1,class:"description"},fb={key:2,class:"selected-heritage"},hb={class:"input-block"},pb={class:"heritage-details-list"},gb=ve({__name:"heritage-step",props:{scoundrel:{}},setup(e){const t=e,r=rb,n=Ji,i=Ce(()=>r.find(l=>l.id===t.scoundrel.heritage)),s=Ce(()=>{if(!i.value)return[];let l=i.value.id;return n.filter(u=>u.trait===l||!u.trait)});function o(l){t.scoundrel.heritage=l.id,t.scoundrel.heritageDetail=""}function a(l){if(t.scoundrel.heritageDetail===l.label){t.scoundrel.heritageDetail="";return}t.scoundrel.heritageDetail=l.label}return(l,u)=>(O(),L(se,null,[me(or,null,{default:De(()=>[u[3]||(u[3]=w("h2",null,"What are your origins?",-1)),u[4]||(u[4]=w("p",null,"Pick a heritage and write a detail specific to you.",-1)),w("a",{onClick:u[0]||(u[0]=c=>Ke(ut).open(ob,{title:"World Map",image:"/assets/images/world-map.png",backgroundColor:"#ffffff"}))},u[2]||(u[2]=[w("span",null,"World Map",-1)]))]),_:1}),w("div",ab,[w("div",lb,[w("ul",cb,[(O(!0),L(se,null,Ye(Ke(r),c=>(O(),Ge(ma,{key:c.id,trait:c,selected:c.id===l.scoundrel.heritage,onClick:d=>o(c)},null,8,["trait","selected","onClick"]))),128))])])]),i.value?(O(),L("p",ub,ie(i.value.description),1)):(O(),L("p",db," Select a heritage to see its description and suggested details. ")),l.scoundrel.heritage?(O(),L("section",fb,[w("div",hb,[u[5]||(u[5]=w("label",null,"A detail about your heritage",-1)),gr(w("input",{type:"text","onUpdate:modelValue":u[1]||(u[1]=c=>l.scoundrel.heritageDetail=c)},null,512),[[on,l.scoundrel.heritageDetail]])]),w("ul",pb,[(O(!0),L(se,null,Ye(s.value,c=>(O(),Ge(Pd,{key:c.id,selected:c.label===l.scoundrel.heritageDetail,traitDetail:c,onClick:d=>a(c)},null,8,["selected","traitDetail","onClick"]))),128))]),u[6]||(u[6]=w("p",{class:"reference"},[Le(" Full descriptions of these heritages can be found in the "),w("a",{href:"https://johnharper.itch.io/deep-cuts",target:"_blank"},"Deep Cuts"),Le(" Blades in the Dark expansion. ")],-1))])):ze("",!0)],64))}}),mb=Me(gb,[["__scopeId","data-v-2679f958"]]),yb=["Affable","Athletic","Bony","Bright","Brooding","Calm","Chiseled","Cold","Dark","Delicate","Fair","Fierce","Grimy","Handsome","Huge","Hunched","Languid","Lovely","Open","Plump","Rough","Sad","Scarred","Slim","Soft","Squat","Stern","Stout","Striking","Twitchy","Weathered","Wiry","Worn"],_b=["a Collared Shirt","a Eel-skin Bodysuit","a Fitted Dress","a Fitted Leggings","a Half-Cape","a Heavy Cloak","a Heavy Jacket","Hide & Furs","a Hood & Veil","a Hooded Cape","a Hooded Coat","a Knit Cap","a Knit Sweater","Leathers","a Long Coat","a Long Scarf","Loose Silks","a Mask & Robes","Rags & Tatters","a Rough Tunic","a Scavenged Uniform","Sharp Trousers","a Short Cloak","a Skirt & Blouse","a Slim Jacket","Soft Boots","a Suit & Tie","Suspenders","Tall Boots","a Thick Greatcoat","a Tricorn Hat","a Vest","a fancy Waistcoat","a Waxed Coat","a Wide Belt","Work Boots","Work Trousers"],nc={adjectives:yb,clothes:_b},vb=["Adric","Aldo","Amison","Andrel","Arcy","Arden","Arilyn","Arquo","Arvus","Ashlyn","Branon","Brace","Brance","Brena","Bricks","Candra","Canter","Carissa","Carro","Casslyn","Cavelle","Clave","Corille","Cross","Crowl","Cyrene","Daphnia","Drav","Edlun","Emeline","Grell","Helles","Hix","Holtz","Kamelin","Kelyr","Kobb","Kristov","Laudius","Lauria","Lenia","Lizete","Lorette","Lucella","Lynthia","Mara","Milos","Morlan","Myre","Narcus","Naria","Noggs","Odrienne","Orlan","Phin","Polonia","Quess","Remira","Ring","Roethe","Sesereth","Sethla","Skannon","Stavrul","Stev","Syra","Talitha","Tesslyn","Thena","Timoth","Tocker","Una","Vaurin","Veleris","Veretta","Vestine","Vey","Volette","Vond","Weaver","Wester","Zamira"],bb=["Arran","Athanoch","Basran","Boden","Booker","Ankhayat","Bowmore","Breakiron","Brogan","Clelland","Clermont","Coleburn","Comber","Daava","Dalmore","Danfield","Dunvil","Edrad","Farros","Grine","Haig","Helker","Helles","Hellyers","Jayan","Jeduin","Kardera","Karstas","Keel","Kessarin","Kinclaith","Lomond","Maroden","Michter","Morriston","Penderyn","Prichard","Rowan","Salkara","Sevoy","Skelkallan","Slane","Strangford","Strathmill","Templeton","Tyrconnell","Vale","Vedat","Walund"],wb=["The One Within Many","The Silver Fire","The Rapturous Chord","The Fallen Star","The Lord of the Depths","The Silent Song","The Lady of Thorns","Our Blood Spilled in Glory","The Ram","The Empty Vessel","The Closed Eye","The Hand of Sorrow","That Which Hungers","The Thousand Faces","The Web of Pain","The Pillars of Night","The Burned King","The Father of the Abyss","The Forsaken Legion","The Unbroken Sun","The Revelation","The Radiant Word","The Shrouded Queen","The Reconciler","The Cloud of Woe","The Broken Circle","The Conqueror","She Who Slays in Darkness","The Dream Beyond Death","The Blood Dimmed Tide","The Guardian of the Gates","The Maw of the Void","The Keeper of the Flame","The Throne of Judgment","The Lost Crown","The Golden Stag"],kb=["Bell","Birch","Bricks","Bug","Chime","Coil","Cricket","Cross","Crow","Echo","Flint","Frog","Frost","Grip","Gunner","Hammer","Hook","Junker","Mist","Moon","Nail","Needle","Ogre","Pool","Ring","Ruby","Silver","Skinner","Song","Spur","Tackle","Thistle","Thorn","Tick-Tock","Twelves","Vixen","Whip","Wicker"],Xs={firstNames:vb,lastNames:bb,deityNames:wb,aliases:kb},Sb=[{path:"portraits/edward-roye.png",source:"Library of Congress"},{path:"portraits/emma-bostwick.png",source:"Library of Congress"},{path:"portraits/george-wallace-jones.png",source:"Library of Congress"},{path:"portraits/jacob-collamer.png",source:"Library of Congress"},{path:"portraits/john-kennedy.png",source:"Library of Congress"},{path:"portraits/john-van-buren.png",source:"Library of Congress"},{path:"portraits/nathaniel-hawthorne.png",source:"Library of Congress"},{path:"portraits/robert-smalls.png",source:"Library of Congress"},{path:"portraits/susie-taylor.png",source:"Library of Congress"},{path:"portraits/tom-thumb.png",source:"Library of Congress"},{path:"portraits/william-cranch.png",source:"Library of Congress"},{path:"portraits/woman-1.png",source:"Library of Congress"},{path:"portraits/woman-2.png",source:"Library of Congress"},{path:"portraits/wong-kim-ark.png",source:"Wikicommons"}];function Ir(e){return e[Math.floor(Math.random()*e.length)]}const xb={class:"name"},Cb={class:"input-with-suggestions"},Mb={class:"input-block"},Eb={class:"input-with-suggestions"},Ib={class:"input-block"},Tb={class:"input-with-suggestions"},Ab={class:"input-block"},Ob={class:"portraits-block"},Rb={class:"portraits-list"},Db=["onClick"],Pb=["src"],Lb={key:0},Nb=ve({__name:"name-step",props:{scoundrel:{}},setup(e){const t=e,r=Xs.firstNames,n=Xs.lastNames,i=Xs.aliases,s=nc.adjectives,o=nc.clothes,a=Sb;function l(){t.scoundrel.name=`${Ir(r)} ${Ir(n)}`}function u(){t.scoundrel.alias=Ir(i)}function c(){const h=Math.floor(Math.random()*2)+1,g=Array.from({length:h},()=>Ir(s).toLowerCase()),m=Math.floor(Math.random()*2)+1,_=Array.from({length:m},()=>Ir(o).toLowerCase()),S=Ir(["man","woman","person"]),k=Ir(["wearing","sporting","dressed in"]);let x=`${g[0].startsWith("a")||g[0].startsWith("e")||g[0].startsWith("i")||g[0].startsWith("o")||g[0].startsWith("u")?"An":"A"} ${d(g)} ${S} ${k} ${d(_)}`;t.scoundrel.look=x}function d(h){return h.length===0?"":h.length===1?h[0]:h.length===2?h.join(" and "):h.slice(0,-1).join(", ")+", and "+h.slice(-1)}function f(h){var m;const g=(m=a.find(_=>_.path===h))==null?void 0:m.source;return g?`(${g})`:"No source"}return(h,g)=>(O(),L(se,null,[me(or,null,{default:De(()=>g[3]||(g[3]=[w("h2",null,"Record your name and look",-1),w("p",null," Your name is your identity. Your look is your brand. Both are important to your reputation. ",-1)])),_:1}),w("div",xb,[w("div",Cb,[w("div",Mb,[g[4]||(g[4]=w("label",null,"Your name",-1)),gr(w("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=m=>h.scoundrel.name=m)},null,512),[[on,h.scoundrel.name]])]),w("button",{class:"btn btn--alt",onClick:l}," Randomize Name ")]),w("div",Eb,[w("div",Ib,[g[5]||(g[5]=w("label",null,"Your alias",-1)),gr(w("input",{type:"text","onUpdate:modelValue":g[1]||(g[1]=m=>h.scoundrel.alias=m)},null,512),[[on,h.scoundrel.alias]])]),w("button",{class:"btn btn--alt",onClick:u}," Randomize Alias ")]),w("div",Tb,[w("div",Ab,[g[6]||(g[6]=w("label",null,"Your look",-1)),gr(w("input",{type:"text","onUpdate:modelValue":g[2]||(g[2]=m=>h.scoundrel.look=m)},null,512),[[on,h.scoundrel.look]])]),w("button",{class:"btn btn--alt",onClick:c}," Randomize Look ")])]),w("div",Ob,[g[7]||(g[7]=w("label",null,"Choose a portrait",-1)),w("ul",Rb,[(O(!0),L(se,null,Ye(Ke(a),m=>(O(),L("li",{key:m.path,onClick:_=>h.scoundrel.portrait==m.path?h.scoundrel.portrait="":h.scoundrel.portrait=m.path,class:Fe({selected:h.scoundrel.portrait===m.path})},[w("img",{src:`/assets/${m.path}`},null,8,Pb)],10,Db))),128))]),h.scoundrel.portrait?(O(),L("label",Lb,ie(h.scoundrel.portrait)+" ... "+ie(f(h.scoundrel.portrait)),1)):ze("",!0)])],64))}}),$b=Me(Nb,[["__scopeId","data-v-6ba7c873"]]),Fb={class:"playbook-card"},Bb={class:"tagline"},Ub={class:"action-tags"},Hb={class:"description"},Wb=ve({__name:"playbook-card",props:{playbook:{}},setup(e){return(t,r)=>(O(),L("div",Fb,[w("h2",null,ie(t.playbook.label),1),w("p",Bb,ie(t.playbook.tagline),1),w("ul",Ub,[(O(!0),L(se,null,Ye(Object.keys(t.playbook.actions),n=>(O(),Ge(Dd,{key:n,action:n,value:t.playbook.actions[n]},null,8,["action","value"]))),128))]),w("p",Hb,ie(t.playbook.description),1)]))}}),qb=Me(Wb,[["__scopeId","data-v-06416016"]]),jb={class:"playbook-list"},Vb=ve({__name:"playbook-step",props:{scoundrel:{}},setup(e){const t=gd,r=e;function n(i){r.scoundrel.playbook=i.id,Object.keys(r.scoundrel.actions).forEach(s=>{delete r.scoundrel.actions[s].playbook}),Object.keys(i.actions).forEach(s=>{const o=i.actions[s];r.scoundrel.actions[s].playbook=o}),r.scoundrel.abilities=[],r.scoundrel.friends=[],r.scoundrel.rivals=[]}return(i,s)=>(O(),L(se,null,[me(or,null,{default:De(()=>s[0]||(s[0]=[w("h2",null,[Le("What kind of "),w("strong",null,"scoundrel"),Le(" are you?")],-1),w("p",null," Your playbook represents your character's reputation in the underworld, their special abilities, and how they advance. ",-1)])),_:1}),w("ul",jb,[(O(!0),L(se,null,Ye(Ke(t),o=>(O(),Ge(qb,{key:o.id,playbook:o,class:Fe({active:o.id===i.scoundrel.playbook}),onClick:a=>n(o)},null,8,["playbook","class","onClick"]))),128))])],64))}}),zb=Me(Vb,[["__scopeId","data-v-4ca1cce5"]]),Gb=[{id:"mother-narya",name:"Mother Narya",trait:"faith",description:"House of the Weeping Lady",district:"Six towers",label:"Mother Narya; House of the Weeping Lady; Six towers"},{id:"ilacille",name:"Ilacille",trait:"faith",description:"The ruins of the Temple to forgotten gods",district:"Coalridge",label:"Ilacille; The ruins of the Temple to forgotten gods; Coalridge"},{id:"nelisanne",name:"Nelisanne",trait:"faith",description:"The Church of the Ecstasy of the Flesh",district:"Brightstone",label:"Nelisanne; The Church of the Ecstasy of the Flesh; Brightstone"},{id:"lord-penderyn",name:"Lord Penderyn",trait:"faith",description:"The Archive of Echoes",district:"Charterhall",label:"Lord Penderyn; The Archive of Echoes; Charterhall"},{id:"spoggs",name:"Spogg's dice game",trait:"gambling",description:null,district:"Crows foot",label:"Spogg's dice game; Crows foot"},{id:"grist",name:"Grist",trait:"gambling",description:"Boxing",district:"The docks",label:"Grist; Boxing; The docks"},{id:"helene",name:"Helene",trait:"gambling",description:"Silver Stag casino",district:"Silkshore",label:"Helene; Silver Stag casino; Silkshore"},{id:"master-vreen",name:"Master Vreen",trait:"gambling",description:"Hound racing",district:"Nightmarket",label:"Master Vreen; Hound racing; Nightmarket"},{id:"lady-dusk",name:"Lady Dusk",trait:"gambling",description:"The Dusk Manor Club",district:"Whitecrown",label:"Lady Dusk; The Dusk Manor Club; Whitecrown"},{id:"sergeant-velk",name:"Sergeant Velk",trait:"gambling",description:"The fighting pits",district:"Dunslough",label:"Sergeant Velk; The fighting pits; Dunslough"},{id:"singer",name:"Singer",trait:["luxury","pleasure"],description:"Bath house",district:"Crows foot",label:"Singer; Bath house; Crows foot"},{id:"harvale-brogan",name:"Harvale Brogan",trait:["luxury","pleasure"],description:"The Centuralia Club",district:"Brightstone",label:"Harvale Brogan; The Centuralia Club; Brightstone"},{id:"travens",name:"Traven's smoke shop",trait:["luxury","pleasure"],description:null,district:"Coalridge",label:"Traven's smoke shop; Coalridge"},{id:"dunridge-sons",name:"Dunridge & Sons",trait:["luxury","pleasure"],description:"Fine fabrics and tailoring",district:"Nightmarket",label:"Dunridge & Sons; Fine fabrics and tailoring; Nightmarket"},{id:"chef-roselle",name:"Chef Roselle",trait:["luxury","pleasure"],description:"The Golden Plum restaurant",district:"Six towers",label:"Chef Roselle; The Golden Plum restaurant; Six towers"},{id:"maestro-helleren",name:"Maestro Helleren",trait:["luxury","pleasure"],description:"Spiregarden theater",district:"Whitecrown",label:"Maestro Helleren; Spiregarden theater; Whitecrown"},{id:"family-members",name:"Family members",trait:"obligation",description:"(heritage) or former co-workers (background)",district:null,label:"Family members; (heritage) or former co-workers (background)"},{id:"hutton",name:"Hutton",trait:"obligation",description:"Skovlander Refugees/Revolutionaries",district:"Charhollow",label:"Hutton; Skovlander Refugees/Revolutionaries; Charhollow"},{id:"circle-of-flame",name:"The Circle of Flame",trait:"obligation",description:"A secret society",district:null,label:"The Circle of Flame; A secret society"},{id:"mardin-gull",name:"Mardin Gull",trait:["pleasure","stupor"],description:"The Leaky Bucket, tavern",district:"Crows foot",label:"Mardin Gull; The Leaky Bucket, tavern; Crows foot"},{id:"pux-bolin",name:"Pux Bolin",trait:["pleasure","stupor"],description:"The Harping Monkey, tavern",district:"Nightmarket",label:"Pux Bolin; The Harping Monkey, tavern; Nightmarket"},{id:"lady-freyla",name:"Lady Freyla",trait:["pleasure","stupor"],description:"The Emperor's Cask, bar",district:"Whitecrown",label:"Lady Freyla; The Emperor's Cask, bar; Whitecrown"},{id:"avrick",name:"Avrick",trait:["pleasure","stupor"],description:"Powder dealer",district:"Barrowcleft",label:"Avrick; Powder dealer; Barrowcleft"},{id:"rolan-volaris",name:"Rolan Volaris",trait:["pleasure","stupor"],description:"The Veil, social club",district:"Nightmarket",label:"Rolan Volaris; The Veil, social club; Nightmarket"},{id:"madame-tesslyn",name:"Madame Tesslyn",trait:["pleasure","stupor"],description:"The Red Lamp, brothel",district:"Silkshore",label:"Madame Tesslyn; The Red Lamp, brothel; Silkshore"},{id:"eldrin-prichard",name:"Eldrin Prichard",trait:["pleasure","stupor"],description:"The Silver Swan pleasure barge",district:"Brightstone canals",label:"Eldrin Prichard; The Silver Swan pleasure barge; Brightstone canals"},{id:"jewel-bird-shine",name:"Jewel, Bird, and Shine",trait:["pleasure","stupor"],description:"Catcrawl Alley",district:"The docks",label:"Jewel, Bird, and Shine; Catcrawl Alley; The docks"},{id:"hooded-proprietor",name:"The hooded proprietor",trait:"weird",description:"A half-flooded grotto tavern near the docks",district:"The docks",label:"The hooded proprietor; A half-flooded grotto tavern; The docks"},{id:"father-yoren",name:"Father Yoren",trait:"weird",description:"House of the Weeping Lady",district:"Six towers",label:"Father Yoren; House of the Weeping Lady; Six towers"},{id:"salia",name:"Salia",trait:"weird",description:"A spirit of the Reconciled, which moves from body to body at their whim",district:null,label:"Salia; A spirit of the Reconciled, which moves from body to body at their whim"},{id:"sister-thorn",name:"Sister Thorn",trait:"weird",description:"Deathlands scavenger gang",district:"Gaddoc station",label:"Sister Thorn; Deathlands scavenger gang; Gaddoc station"},{id:"ojak",name:"Ojak",trait:"weird",description:"Tycherosi rooftop market vendor",district:"Silkshore",label:"Ojak; Tycherosi rooftop market vendor; Silkshore"},{id:"aranna-the-blessed",name:"Aranna the Blessed",trait:"weird",description:"Cultist of a forgotten god",district:"Nightmarket",label:"Aranna the Blessed; Cultist of a forgotten god; Nightmarket"}],Kb=[{id:"faith",label:"Faith",description:"You're dedicated to an unseen power, forgotten god, ancestor, etc."},{id:"gambling",label:"Gambling",description:"You crave games of chance, betting on sporting events, etc."},{id:"luxury",label:"Luxury",description:"Expensive and/or ostentatious displays of opulence."},{id:"obligation",label:"Obligation",description:"You're devoted to a family, a cause, a charity, etc."},{id:"pleasure",label:"Pleasure",description:"Gratification from lovers, food, drink, drugs, art, theater, etc."},{id:"stupor",label:"Stupor",description:"You seek oblivion in the abuse of drugs, drink to excess, getting beaten to a pulp in the fighting pits, etc."},{id:"weird",label:"Weird",description:"You experiment with strange essences, consort with rogue spirits, observe bizarre rituals or taboos, etc."}],Yb={class:"list-container-frame"},Jb={class:"list-container"},Qb={class:"vices-list"},Xb={key:0,class:"description"},Zb={key:1,class:"description"},e0={key:2,class:"selected-vice"},t0={class:"input-block"},r0={class:"vice-details-list"},n0=["onClick"],i0={key:0},s0={key:1},o0=ve({__name:"vice-step",props:{scoundrel:{}},setup(e){const t=e,r=Kb,n=Gb,i=Ce(()=>r.find(l=>l.id===t.scoundrel.vice)),s=Ce(()=>{if(!i.value)return[];let l=i.value.id;return n.filter(u=>!u.trait||u.trait===l||u.trait.includes(l))});function o(l){t.scoundrel.vice=l.id,t.scoundrel.viceDetail=""}function a(l){if(t.scoundrel.viceDetail===l.label){t.scoundrel.viceDetail="";return}t.scoundrel.viceDetail=l.label}return(l,u)=>(O(),L(se,null,[me(or,null,{default:De(()=>u[1]||(u[1]=[w("h2",null,"Choose your vice",-1),w("p",null," Every scoundrel is in thrall to some vice or another, which they indulge to deal with stress. Record the name and location of your vice purveyor. ",-1)])),_:1}),w("div",Yb,[w("div",Jb,[w("ul",Qb,[(O(!0),L(se,null,Ye(Ke(r),c=>(O(),Ge(ma,{key:c.id,trait:c,selected:c.id===l.scoundrel.vice,onClick:d=>o(c)},null,8,["trait","selected","onClick"]))),128))])])]),i.value?(O(),L("p",Xb,ie(i.value.description),1)):(O(),L("p",Zb," Select a vice to see its description and suggested purveyors. ")),l.scoundrel.vice?(O(),L("section",e0,[w("div",t0,[u[2]||(u[2]=w("label",null,"A description of where you go to indulge",-1)),gr(w("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=c=>l.scoundrel.viceDetail=c)},null,512),[[on,l.scoundrel.viceDetail]])]),w("ul",r0,[(O(!0),L(se,null,Ye(s.value,c=>(O(),L("li",{key:c.id,class:Fe(["vice-detail",{selected:c.label===l.scoundrel.viceDetail}]),onClick:d=>a(c)},[w("h2",null,ie(c.name),1),c.description?(O(),L("p",i0,ie(c.description),1)):ze("",!0),c.district?(O(),L("label",s0,ie(c.district),1)):ze("",!0)],10,n0))),128))])])):ze("",!0)],64))}}),a0=Me(o0,[["__scopeId","data-v-b2f5a7da"]]),l0={key:1},c0={class:"control-bar"},u0=ve({__name:"the-make-page",setup(e){const t=Be(null),r=Be(null),n=Be(!1),i={playbook:zb,background:uv,heritage:mb,actions:K_,abilities:A_,friends:tb,vice:a0,name:$b,finish:Vv},s=[{id:"playbook",label:"Playbook"},{id:"background",label:"Background"},{id:"heritage",label:"Heritage"},{id:"actions",label:"Actions"},{id:"abilities",label:"Abilities"},{id:"friends",label:"Friends"},{id:"vice",label:"Vice"},{id:"name",label:"Name & Look"},{id:"finish",label:"Export"}],o=Be(null),a=Be(null),l=Be(null),u=Be(null),c=Ce(()=>s.find(b=>b.id===u.value)),{params:d}=At.currentRoute.value;l.value=d.scoundrelId,u.value=d.stepId,l.value?(console.log("Loading scoundrel:",l.value),a.value=pd(l.value),a.value?u.value||S("playbook"):(console.error("Scoundrel not found"),ut.open(fd,{title:"Scoundrel not found",message:"The scoundrel you are trying to edit could not be found.",onConfirm:()=>{ut.close(),h()}}))):(console.log("No scoundrelId; generating a new scoundrel"),l.value=yd(),a.value={id:l.value,actions:{hunt:{},study:{},survey:{},tinker:{},finesse:{},prowl:{},skirmish:{},wreck:{},attune:{},command:{},consort:{},sway:{}}},At.replace({name:Zt.EDIT_WITH_STEP,params:{scoundrelId:l.value,stepId:"playbook"}}),S("playbook")),nn(()=>a.value,b=>{b&&hd(b)},{deep:!0}),nn(()=>{var b;return(b=a.value)==null?void 0:b.playbook},(b,x)=>{!x&&b&&ts("new-character",{playbook:b})});function f(){const b=s.findIndex(A=>A.id===u.value),x=s[b+1];x&&S(x.id)}async function h(){var b,x;(b=t.value)==null||b.classList.remove("page-in"),(x=t.value)==null||x.classList.add("page-out"),await new Promise(A=>setTimeout(A,500)),At.replace({name:Zt.HOME})}async function g(){ut.open(__,{title:"Delete scoundrel?",message:"Are you sure you want to delete this scoundrel? This action cannot be undone.",confirmText:"Delete",onConfirm:m})}async function m(){var b,x;l.value&&(Lm(l.value),ut.close(),(b=t.value)==null||b.classList.remove("page-in"),(x=t.value)==null||x.classList.add("page-out"),await new Promise(A=>setTimeout(A,500)),At.replace({name:Zt.HOME}))}const _=["animate-form-in--from-left","animate-form-in--from-right","animate-form-out--to-left","animate-form-out--to-right"];async function S(b){var Q,fe,Z,Se,oe,ee,ae,Je;(Q=t.value)==null||Q.classList.add("no-click");const x=s.findIndex(Ne=>Ne.id===u.value),A=s.findIndex(Ne=>Ne.id===b),W=A>x?"animate-form-out--to-left":"animate-form-out--to-right";if((fe=r.value)==null||fe.classList.remove(..._),(Z=r.value)==null||Z.classList.add(W),await new Promise(Ne=>setTimeout(Ne,400)),u.value=b,At.replace({name:Zt.EDIT_WITH_STEP,params:{scoundrelId:l.value,stepId:b}}),!o.value)return;const j=o.value.querySelector(`.step[data-step-id="${b}"]`);if(!j)return;const z=o.value.getBoundingClientRect(),ne=j.getBoundingClientRect(),ce=o.value.scrollLeft+ne.left-z.left+(ne.width-z.width)/2;o.value.scroll({left:ce,behavior:"smooth"}),(Se=r.value)==null||Se.scrollTo(0,0);const ye=A>x?"animate-form-in--from-right":"animate-form-in--from-left";(oe=r.value)==null||oe.classList.remove(..._),(ee=r.value)==null||ee.classList.add(ye),await new Promise(Ne=>setTimeout(Ne,400)),(ae=r.value)==null||ae.classList.remove(..._),(Je=t.value)==null||Je.classList.remove("no-click")}Ce(()=>s.findIndex(b=>b.id===u.value)===0);const k=Ce(()=>s.findIndex(b=>b.id===u.value)===s.length-1);return(b,x)=>a.value&&c.value?(O(),L("div",{key:0,ref_key:"page",ref:t,class:"page page--make page-in"},[w("ul",{ref_key:"stepsEl",ref:o,class:Fe(["steps",{disabled:!a.value.playbook}])},[(O(),L(se,null,Ye(s,A=>me(b_,{"data-step-id":A.id,key:A.id,stepLabel:A.label,stepNumber:s.findIndex(W=>W.id===A.id)+1,active:A.id===u.value,completed:s.indexOf(A)<s.indexOf(c.value),onClick:W=>S(A.id)},null,8,["data-step-id","stepLabel","stepNumber","active","completed","onClick"])),64))],2),w("div",{ref_key:"stepContainer",ref:r,class:"step-container"},[u.value&&(a.value.playbook||u.value==="playbook")?(O(),Ge(Ru(i[u.value]),{key:0,scoundrel:a.value},null,8,["scoundrel"])):ze("",!0),n.value?(O(),L("pre",l0,ie(a.value),1)):ze("",!0)],512),w("div",c0,[w("button",{class:"btn btn--alt",onClick:g},x[0]||(x[0]=[w("span",null,"Delete",-1)])),w("button",{class:"btn btn--alt",onClick:h},x[1]||(x[1]=[w("span",null,"Home",-1)])),k.value?ze("",!0):(O(),L("button",{key:0,class:Fe(["btn",{disabled:!a.value.playbook}]),onClick:f},x[2]||(x[2]=[w("span",null,"Next",-1)]),2))])],512)):ze("",!0)}}),Zs=Me(u0,[["__scopeId","data-v-9b214c7a"]]);var Zt=(e=>(e.HOME="home",e.MAKE="make",e.EDIT="edit",e.EDIT_WITH_STEP="edit-with-step",e.IMPORT="import",e.LOST="lost",e))(Zt||{});const d0=[{path:"/",components:{page:u_},name:"home"},{path:"/make",components:{page:Zs},name:"make"},{path:"/make/:scoundrelId",components:{page:Zs},name:"edit"},{path:"/make/:scoundrelId/:stepId",components:{page:Zs},name:"edit-with-step"},{path:"/import/:scoundrelData",components:{page:Hm},name:"import"},{path:"/:pathMatch(.*)*",components:{page:h_},name:"lost"}],f0={history:_y(),routes:d0},At=qy(f0),Wd="1.1.0",qd=Xg(mm);qd.use(At);qd.mount("#app");Gc.init("e25d2f8346d1c0731fbb322d6f4c9d94");ts("page-load",{version:Wd,path:window.location.pathname});function ts(e,t){window.location.hostname!=="localhost"?Gc.track(e,t):console.warn(`Accessing from localhost; Mixpanel is disabled. Event: ${e}`)}
